"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("lit"),g=require("lit/directives/unsafe-html.js"),a="[data-cy-root]",m=()=>{const e=document.querySelector(a);if(e)return e;throw Error(`No element found that matches selector ${a}. Please add a root element with data-cy-root attribute to your "component-index.html" file so that Cypress can attach your component to the DOM.`)};function w(e){Cypress.testingType==="component"&&(Cypress.Commands.overwrite("visit",()=>{throw new Error("cy.visit from a component spec is not allowed")}),Cypress.Commands.overwrite("session",()=>{throw new Error("cy.session from a component spec is not allowed")}),Cypress.Commands.overwrite("origin",()=>{throw new Error("cy.origin from a component spec is not allowed")}),Cypress.on("test:before:run",()=>{e==null||e()}))}let s;Cypress.on("run:start",()=>{Cypress.testingType==="component"&&Cypress.on("test:before:run",()=>{s==null||s.remove();const e=m();e.innerHTML=""})});const h=(e,l={})=>cy.then(()=>{const p=m(),u=typeof e=="string"?c.html`${g.unsafeHTML(e)}`:e,r=document.createElement("div");return r.id="__cy_lit_root",p.append(r),c.render(u,r),cy.wrap(r,{log:!1}).wait(1,{log:!1}).children().first().then(y=>{const i=y.prop("tagName").toLowerCase(),n=document.getElementsByTagName(i)[0],{properties:t,log:d=!0}=l;if(t&&typeof t=="object"&&Array.isArray(t)===!1){for(const o in t)if(o in n){const f=t[o];n[o]=f}}if(s=n,d){const o=`<${i} ... />`;Cypress.log({name:"mount",message:[o]}).snapshot("mounted").end()}return cy.wrap(n,{log:!1})})});w();exports.mount=h;
