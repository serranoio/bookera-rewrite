import {
  require_froala_editor_min
} from "./chunk-JL4RK2Z6.js";
import {
  __commonJS,
  __require
} from "./chunk-2TUXWMP5.js";

// browser-external:crypto
var require_crypto = __commonJS({
  "browser-external:crypto"(exports, module) {
    module.exports = Object.create(new Proxy({}, {
      get(_, key) {
        if (key !== "__esModule" && key !== "__proto__" && key !== "constructor" && key !== "splice") {
          console.warn(`Module "crypto" has been externalized for browser compatibility. Cannot access "crypto.${key}" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`);
        }
      }
    }));
  }
});

// node_modules/froala-editor/js/plugins.pkgd.min.js
var require_plugins_pkgd_min = __commonJS({
  "node_modules/froala-editor/js/plugins.pkgd.min.js"(exports, module) {
    !function(e, t) {
      "object" == typeof exports && "undefined" != typeof module ? t(require_froala_editor_min()) : "function" == typeof define && define.amd ? define(["froala-editor"], t) : t(e.FroalaEditor);
    }(exports, function(St) {
      "use strict";
      function r(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for (var a2 = 0, n2 = Array(t); a2 < t; a2++) n2[a2] = e[a2];
        return n2;
      }
      function He(e, t) {
        var a2 = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
        if (!a2) {
          if (Array.isArray(e) || (a2 = l(e)) || t && e && "number" == typeof e.length) {
            a2 && (e = a2);
            var n2 = 0, r2 = function() {
            };
            return { s: r2, n: function() {
              return n2 >= e.length ? { done: true } : { done: false, value: e[n2++] };
            }, e: function(e2) {
              throw e2;
            }, f: r2 };
          }
          throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        var i2, o2 = true, s2 = false;
        return { s: function() {
          a2 = a2.call(e);
        }, n: function() {
          var e2 = a2.next();
          return o2 = e2.done, e2;
        }, e: function(e2) {
          s2 = true, i2 = e2;
        }, f: function() {
          try {
            o2 || null == a2["return"] || a2["return"]();
          } finally {
            if (s2) throw i2;
          }
        } };
      }
      function ye(e) {
        return function t(e2) {
          if (Array.isArray(e2)) return r(e2);
        }(e) || function a2(e2) {
          if ("undefined" != typeof Symbol && null != e2[Symbol.iterator] || null != e2["@@iterator"]) return Array.from(e2);
        }(e) || l(e) || function n2() {
          throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }();
      }
      function Rt(e) {
        return (Rt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e2) {
          return typeof e2;
        } : function(e2) {
          return e2 && "function" == typeof Symbol && e2.constructor === Symbol && e2 !== Symbol.prototype ? "symbol" : typeof e2;
        })(e);
      }
      function l(e, t) {
        if (e) {
          if ("string" == typeof e) return r(e, t);
          var a2 = {}.toString.call(e).slice(8, -1);
          return "Object" === a2 && e.constructor && (a2 = e.constructor.name), "Map" === a2 || "Set" === a2 ? Array.from(e) : "Arguments" === a2 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a2) ? r(e, t) : void 0;
        }
      }
      if ((St = St && St.hasOwnProperty("default") ? St["default"] : St).PLUGINS.align = function(r2) {
        var i2 = r2.$;
        return { apply: function o2(e) {
          var t = r2.selection.element();
          if (i2(t).parents(".fr-img-caption").length) i2(t).css("text-align", e);
          else {
            r2.selection.save(), r2.html.wrap(true, true, true, true), r2.selection.restore();
            for (var a2 = r2.selection.blocks(), n2 = 0; n2 < a2.length; n2++) i2(a2[n2]).css("text-align", e).removeClass("fr-temp-div"), "" === i2(a2[n2]).attr("class") && i2(a2[n2]).removeAttr("class"), "" === i2(a2[n2]).attr("style") && i2(a2[n2]).removeAttr("style");
            r2.selection.save(), r2.html.unwrap(), r2.selection.restore();
          }
        }, refresh: function n2(e) {
          var t = r2.selection.blocks();
          if (t.length) {
            var a2 = r2.helpers.getAlignment(i2(t[0]));
            e.find("> *").first().replaceWith(r2.icon.create("align-".concat(a2)));
          }
        }, refreshOnShow: function s2(e, t) {
          var a2 = r2.selection.blocks();
          if (a2.length) {
            var n2 = r2.helpers.getAlignment(i2(a2[0]));
            t.find('a.fr-command[data-param1="'.concat(n2, '"]')).addClass("fr-active").attr("aria-selected", true);
          }
        }, refreshForToolbar: function l2(e) {
          var t = r2.selection.blocks();
          if (t.length) {
            var a2 = r2.helpers.getAlignment(i2(t[0]));
            a2 = a2.charAt(0).toUpperCase() + a2.slice(1), "align".concat(a2) === e.attr("data-cmd") && e.addClass("fr-active");
          }
        } };
      }, St.DefineIcon("align", { NAME: "align-left", SVG_KEY: "alignLeft" }), St.DefineIcon("align-left", { NAME: "align-left", SVG_KEY: "alignLeft" }), St.DefineIcon("align-right", { NAME: "align-right", SVG_KEY: "alignRight" }), St.DefineIcon("align-center", { NAME: "align-center", SVG_KEY: "alignCenter" }), St.DefineIcon("align-justify", { NAME: "align-justify", SVG_KEY: "alignJustify" }), St.RegisterCommand("align", { type: "dropdown", title: "Align", options: { left: "Align Left", center: "Align Center", right: "Align Right", justify: "Align Justify" }, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = St.COMMANDS.align.options;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="align"data-param1="\n        '.concat(a2, '" title="').concat(this.language.translate(t[a2]), '">').concat(this.icon.create("align-".concat(a2)), '<span class="fr-sr-only">\n        ').concat(this.language.translate(t[a2]), "</span></a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        this.align.apply(t);
      }, refresh: function(e) {
        this.align.refresh(e);
      }, refreshOnShow: function(e, t) {
        this.align.refreshOnShow(e, t);
      }, plugin: "align" }), St.RegisterCommand("alignLeft", { type: "button", icon: "align-left", title: "Align Left", callback: function() {
        this.align.apply("left");
      }, refresh: function(e) {
        this.align.refreshForToolbar(e);
      }, plugin: "align" }), St.RegisterCommand("alignRight", { type: "button", icon: "align-right", title: "Align Right", callback: function() {
        this.align.apply("right");
      }, refresh: function(e) {
        this.align.refreshForToolbar(e);
      }, plugin: "align" }), St.RegisterCommand("alignCenter", { type: "button", icon: "align-center", title: "Align Center", callback: function() {
        this.align.apply("center");
      }, refresh: function(e) {
        this.align.refreshForToolbar(e);
      }, plugin: "align" }), St.RegisterCommand("alignJustify", { type: "button", icon: "align-justify", title: "Align Justify", callback: function() {
        this.align.apply("justify");
      }, refresh: function(e) {
        this.align.refreshForToolbar(e);
      }, plugin: "align" }), Object.assign(St.DEFAULTS, { charCounterMax: -1, charCounterCount: true }), St.PLUGINS.charCounter = function(n2) {
        var a2, r2 = n2.$, i2 = function i3() {
          return (n2.opts.iframe && n2.markdown && n2.markdown.isEnabled() ? n2.$el.text() || "" : n2.el.textContent || "").replace(/\u200B/g, "").length;
        };
        function e(e2) {
          if (n2.opts.charCounterMax < 0) return true;
          if (i2() < n2.opts.charCounterMax) return true;
          var t2 = e2.which;
          return !(!n2.keys.ctrlKey(e2) && n2.keys.isCharacter(t2) || t2 === St.KEYCODE.IME) || (e2.preventDefault(), e2.stopPropagation(), n2.events.trigger("charCounter.exceeded"), false);
        }
        function t(e2) {
          return n2.opts.charCounterMax < 0 ? e2 : r2("<div>").html(e2).text().length + i2() <= n2.opts.charCounterMax ? e2 : (n2.events.trigger("charCounter.exceeded"), "");
        }
        function o2(e2, t2, a3) {
          return n2.opts.charCounterMax < 0 || (e2.includes('<span class="fr-emoticon') || e2.includes('<i class="fa ') ? !(i2() >= n2.opts.charCounterMax) || (n2.events.trigger("charCounter.exceeded"), false) : r2("<div>").html(e2).text().length + i2() <= n2.opts.charCounterMax || (n2.events.trigger("charCounter.exceeded"), false));
        }
        function s2() {
          if (n2.opts.charCounterCount) {
            var e2 = i2() + (0 < n2.opts.charCounterMax ? "/" + n2.opts.charCounterMax : "");
            a2.text("".concat(n2.language.translate("Characters"), " : ").concat(e2)), n2.opts.toolbarBottom && a2.css("margin-bottom", n2.$tb.outerHeight(true));
            var t2 = n2.$wp.get(0).offsetWidth - n2.$wp.get(0).clientWidth;
            0 <= t2 && ("rtl" == n2.opts.direction ? a2.css("margin-left", t2) : a2.css("margin-right", t2));
          }
        }
        return { _init: function l2() {
          return !!n2.$wp && !!n2.opts.charCounterCount && ((a2 = r2(document.createElement("span")).attr("class", "fr-counter")).css("bottom", n2.$wp.css("border-bottom-width")), n2.$second_tb ? n2.$second_tb.append(a2) : n2.$wp.append(a2), n2.events.on("keydown", e, true), n2.events.on("paste.afterCleanup", t), n2.events.on("keyup contentChanged input", function() {
            n2.events.trigger("charCounter.update");
          }), n2.events.on("html.beforeInsert", o2), n2.events.on("charCounter.update", s2), n2.events.trigger("charCounter.update"), void n2.events.on("destroy", function() {
            r2(n2.o_win).off("resize.char".concat(n2.id)), a2.removeData().remove(), a2 = null;
          }));
        }, count: i2 };
      }, St.PLUGINS.codeBeautifier = function() {
        var e, t, a2, n2, j = {};
        function L(n3, e2) {
          var t2 = { "@page": true, "@font-face": true, "@keyframes": true, "@media": true, "@supports": true, "@document": true }, a3 = { "@media": true, "@supports": true, "@document": true };
          e2 = e2 || {}, n3 = (n3 = n3 || "").replace(/\r\n|[\r\u2028\u2029]/g, "\n");
          var r3 = e2.indent_size || 4, i3 = e2.indent_char || " ", o2 = e2.selector_separator_newline === void 0 || e2.selector_separator_newline, s2 = e2.end_with_newline !== void 0 && e2.end_with_newline, l2 = e2.newline_between_rules === void 0 || e2.newline_between_rules, c2 = e2.eol ? e2.eol : "\n";
          "string" == typeof r3 && (r3 = parseInt(r3, 10)), e2.indent_with_tabs && (i3 = "	", r3 = 1), c2 = c2.replace(/\\r/, "\r").replace(/\\n/, "\n");
          var d2, f2 = /^\s+$/, p2 = -1, u2 = 0;
          function g2() {
            return (d2 = n3.charAt(++p2)) || "";
          }
          function h2(e3) {
            var t3, a4 = p2;
            return e3 && v2(), t3 = n3.charAt(p2 + 1) || "", p2 = a4 - 1, g2(), t3;
          }
          function m2(e3) {
            for (var t3 = p2; g2(); ) if ("\\" === d2) g2();
            else {
              if (-1 !== e3.indexOf(d2)) break;
              if ("\n" === d2) break;
            }
            return n3.substring(t3, p2 + 1);
          }
          function v2() {
            for (var e3 = ""; f2.test(h2()); ) g2(), e3 += d2;
            return e3;
          }
          function b2() {
            var e3 = "";
            for (d2 && f2.test(d2) && (e3 = d2); f2.test(g2()); ) e3 += d2;
            return e3;
          }
          function E2(e3) {
            var t3 = p2;
            for (e3 = "/" === h2(), g2(); g2(); ) {
              if (!e3 && "*" === d2 && "/" === h2()) {
                g2();
                break;
              }
              if (e3 && "\n" === d2) return n3.substring(t3, p2);
            }
            return n3.substring(t3, p2) + d2;
          }
          function _(e3) {
            return n3.substring(p2 - e3.length, p2).toLowerCase() === e3;
          }
          function w() {
            for (var e3 = 0, t3 = p2 + 1; t3 < n3.length; t3++) {
              var a4 = n3.charAt(t3);
              if ("{" === a4) return true;
              if ("(" === a4) e3 += 1;
              else if (")" === a4) {
                if (0 === e3) return false;
                e3 -= 1;
              } else if (" " === a4 || "}" === a4) return false;
            }
            return false;
          }
          var y2 = n3.match(/^[\t ]*/)[0], A = new Array(r3 + 1).join(i3), C = 0, T = 0;
          for (var k, S, R, L2 = { "{": function(e3) {
            L2.singleSpace(), x2.push(e3), L2.newLine();
          }, "}": function(e3) {
            L2.newLine(), x2.push(e3), L2.newLine();
          }, _lastCharWhitespace: function() {
            return f2.test(x2[x2.length - 1]);
          }, newLine: function(e3) {
            x2.length && (e3 || "\n" === x2[x2.length - 1] || L2.trim(), x2.push("\n"), y2 && x2.push(y2));
          }, singleSpace: function() {
            x2.length && !L2._lastCharWhitespace() && x2.push(" ");
          }, preserveSingleSpace: function() {
            k && L2.singleSpace();
          }, trim: function() {
            for (; L2._lastCharWhitespace(); ) x2.pop();
          } }, x2 = [], I2 = false, O2 = false, F = false, M = "", N = ""; ; ) {
            var D = b2();
            k = "" !== D;
            var P = -1 !== D.indexOf("\n");
            if (N = M, !(M = d2)) break;
            if ("/" === d2 && "*" === h2()) {
              var B = 0 === C;
              (P || B) && L2.newLine(), x2.push(E2()), L2.newLine(), B && L2.newLine(true);
            } else if ("/" === d2 && "/" === h2()) P || "{" === N || L2.trim(), L2.singleSpace(), x2.push(E2()), L2.newLine();
            else if ("@" === d2) {
              L2.preserveSingleSpace(), x2.push(d2);
              var U = (void 0, S = p2, R = m2(`: , {}()[]/='"`), p2 = S - 1, g2(), R);
              U.match(/[ :]$/) && (g2(), U = m2(": ").replace(/\s$/, ""), x2.push(U), L2.singleSpace()), (U = U.replace(/\s$/, "")) in t2 && (T += 1, U in a3 && (F = true));
            } else "#" === d2 && "{" === h2() ? (L2.preserveSingleSpace(), x2.push(m2("}"))) : "{" === d2 ? "}" === h2(true) ? (v2(), g2(), L2.singleSpace(), x2.push("{}"), L2.newLine(), l2 && 0 === C && L2.newLine(true)) : (C++, y2 += A, L2["{"](d2), I2 = F ? (F = false, T < C) : T <= C) : "}" === d2 ? (C--, y2 = y2.slice(0, -r3), L2["}"](d2), O2 = I2 = false, T && T--, l2 && 0 === C && L2.newLine(true)) : ":" === d2 ? (v2(), !I2 && !F || _("&") || w() ? ":" === h2() ? (g2(), x2.push("::")) : x2.push(":") : (O2 = true, x2.push(":"), L2.singleSpace())) : '"' === d2 || "'" === d2 ? (L2.preserveSingleSpace(), x2.push(m2(d2))) : " " === d2 ? (O2 = false, x2.push(d2), L2.newLine()) : "(" === d2 ? _("url") ? (x2.push(d2), v2(), g2() && (")" !== d2 && '"' !== d2 && "'" !== d2 ? x2.push(m2(")")) : p2--)) : (u2++, L2.preserveSingleSpace(), x2.push(d2), v2()) : ")" === d2 ? (x2.push(d2), u2--) : "," === d2 ? (x2.push(d2), v2(), o2 && !O2 && u2 < 1 ? L2.newLine() : L2.singleSpace()) : ("]" === d2 || ("[" === d2 ? L2.preserveSingleSpace() : "=" === d2 ? (v2(), d2 = "=") : L2.preserveSingleSpace()), x2.push(d2));
          }
          var H = "";
          return y2 && (H += y2), H += x2.join("").replace(/[\r\n\t ]+$/, ""), s2 && (H += "\n"), "\n" != c2 && (H = H.replace(/[\n]/g, c2)), H;
        }
        function q(e2, t2) {
          for (var a3 = 0; a3 < t2.length; a3 += 1) if (t2[a3] === e2) return true;
          return false;
        }
        function X(e2) {
          return e2.replace(/^\s+|\s+$/g, "");
        }
        function x(e2, t2) {
          return new r2(e2, t2).beautify();
        }
        e = j, t = "ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ", a2 = new RegExp("[".concat(t, "]")), n2 = new RegExp("[".concat(t, " ").concat("̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿", "]")), e.newline = /[\n\r\u2028\u2029]/, e.lineBreak = new RegExp("\r\n|".concat(e.newline.source)), e.allLineBreaks = new RegExp(e.lineBreak.source, "g"), e.isIdentifierStart = function(e2) {
          return e2 < 65 ? 36 === e2 || 64 === e2 : e2 < 91 || (e2 < 97 ? 95 === e2 : e2 < 123 || 170 <= e2 && a2.test(String.fromCharCode(e2)));
        }, e.isIdentifierChar = function(e2) {
          return e2 < 48 ? 36 === e2 : e2 < 58 || !(e2 < 65) && (e2 < 91 || (e2 < 97 ? 95 === e2 : e2 < 123 || 170 <= e2 && n2.test(String.fromCharCode(e2))));
        };
        var Z = { BlockStatement: "BlockStatement", Statement: "Statement", ObjectLiteral: "ObjectLiteral", ArrayLiteral: "ArrayLiteral", ForInitializer: "ForInitializer", Conditional: "Conditional", Expression: "Expression" };
        function r2(n3, e2) {
          var c2, r3, i3, d2, o2, s2, l2, f2, p2, t2, a3, u2, g2, h2 = [], m2 = "";
          function v2(e3, t3) {
            var a4 = 0;
            return e3 && (a4 = e3.indentation_level, !c2.just_added_newline() && e3.line_indent_level > a4 && (a4 = e3.line_indent_level)), { mode: t3, parent: e3, last_text: e3 ? e3.last_text : "", last_word: e3 ? e3.last_word : "", declaration_statement: false, declaration_assignment: false, multiline_frame: false, if_block: false, else_block: false, do_block: false, do_while: false, in_case_statement: false, in_case: false, case_body: false, indentation_level: a4, line_indent_level: e3 ? e3.line_indent_level : a4, start_line_index: c2.get_line_number(), ternary_depth: 0 };
          }
          for (u2 = { TK_START_EXPR: function M() {
            x2();
            var e3 = Z.Expression;
            if ("[" === d2.text) {
              if ("TK_WORD" === o2 || ")" === f2.last_text) return "TK_RESERVED" === o2 && q(f2.last_text, i3.line_starters) && (c2.space_before_token = true), T(e3), A(), C(), void (g2.space_in_paren && (c2.space_before_token = true));
              e3 = Z.ArrayLiteral, k(f2.mode) && ("[" !== f2.last_text && ("," !== f2.last_text || "]" !== s2 && "}" !== s2) || g2.keep_array_indentation || w());
            } else "TK_RESERVED" === o2 && "for" === f2.last_text ? e3 = Z.ForInitializer : "TK_RESERVED" === o2 && q(f2.last_text, ["if", "while"]) && (e3 = Z.Conditional);
            " " === f2.last_text || "TK_START_BLOCK" === o2 ? w() : "TK_END_EXPR" === o2 || "TK_START_EXPR" === o2 || "TK_END_BLOCK" === o2 || "." === f2.last_text ? _(d2.wanted_newline) : "TK_RESERVED" === o2 && "(" === d2.text || "TK_WORD" === o2 || "TK_OPERATOR" === o2 ? "TK_RESERVED" === o2 && ("function" === f2.last_word || "typeof" === f2.last_word) || "*" === f2.last_text && "function" === s2 ? g2.space_after_anon_function && (c2.space_before_token = true) : "TK_RESERVED" !== o2 || !q(f2.last_text, i3.line_starters) && "catch" !== f2.last_text || g2.space_before_conditional && (c2.space_before_token = true) : c2.space_before_token = true;
            "(" === d2.text && "TK_RESERVED" === o2 && "await" === f2.last_word && (c2.space_before_token = true);
            "(" === d2.text && ("TK_EQUALS" !== o2 && "TK_OPERATOR" !== o2 || L2() || _());
            T(e3), A(), g2.space_in_paren && (c2.space_before_token = true);
            C();
          }, TK_END_EXPR: function N() {
            for (; f2.mode === Z.Statement; ) R();
            f2.multiline_frame && _("]" === d2.text && k(f2.mode) && !g2.keep_array_indentation);
            g2.space_in_paren && ("TK_START_EXPR" !== o2 || g2.space_in_empty_paren ? c2.space_before_token = true : (c2.trim(), c2.space_before_token = false));
            "]" === d2.text && g2.keep_array_indentation ? (A(), R()) : (R(), A());
            c2.remove_redundant_indentation(p2), f2.do_while && p2.mode === Z.Conditional && (p2.mode = Z.Expression, f2.do_block = false, f2.do_while = false);
          }, TK_START_BLOCK: function D() {
            var e3 = O2(1), t3 = O2(2);
            t3 && (":" === t3.text && q(e3.type, ["TK_STRING", "TK_WORD", "TK_RESERVED"]) || q(e3.text, ["get", "set"]) && q(t3.type, ["TK_WORD", "TK_RESERVED"])) ? q(s2, ["class", "interface"]) ? T(Z.BlockStatement) : T(Z.ObjectLiteral) : T(Z.BlockStatement);
            var a4 = !e3.comments_before.length && "}" === e3.text && "function" === f2.last_word && "TK_END_EXPR" === o2;
            "expand" === g2.brace_style || "none" === g2.brace_style && d2.wanted_newline ? "TK_OPERATOR" !== o2 && (a4 || "TK_EQUALS" === o2 || "TK_RESERVED" === o2 && I2(f2.last_text) && "else" !== f2.last_text) ? c2.space_before_token = true : w(false, true) : "TK_OPERATOR" !== o2 && "TK_START_EXPR" !== o2 ? "TK_START_BLOCK" === o2 ? w() : c2.space_before_token = true : k(p2.mode) && "," === f2.last_text && ("}" === s2 ? c2.space_before_token = true : w());
            A(), C();
          }, TK_END_BLOCK: function P() {
            for (; f2.mode === Z.Statement; ) R();
            var e3 = "TK_START_BLOCK" === o2;
            "expand" === g2.brace_style ? e3 || w() : e3 || (k(f2.mode) && g2.keep_array_indentation ? (g2.keep_array_indentation = false, w(), g2.keep_array_indentation = true) : w());
            R(), A();
          }, TK_WORD: F, TK_RESERVED: F, TK_SEMICOLON: function B() {
            x2() && (c2.space_before_token = false);
            for (; f2.mode === Z.Statement && !f2.if_block && !f2.do_block; ) R();
            A();
          }, TK_STRING: function U() {
            x2() ? c2.space_before_token = true : "TK_RESERVED" === o2 || "TK_WORD" === o2 ? c2.space_before_token = true : "TK_COMMA" === o2 || "TK_START_EXPR" === o2 || "TK_EQUALS" === o2 || "TK_OPERATOR" === o2 ? L2() || _() : w();
            A();
          }, TK_EQUALS: function H() {
            x2();
            f2.declaration_statement && (f2.declaration_assignment = true);
            c2.space_before_token = true, A(), c2.space_before_token = true;
          }, TK_OPERATOR: function $() {
            x2();
            if ("TK_RESERVED" === o2 && I2(f2.last_text)) return c2.space_before_token = true, void A();
            if ("*" === d2.text && "TK_DOT" === o2) return void A();
            if (":" === d2.text && f2.in_case) return f2.case_body = true, C(), A(), w(), void (f2.in_case = false);
            if ("::" === d2.text) return void A();
            "TK_OPERATOR" === o2 && _();
            var e3 = true, t3 = true;
            q(d2.text, ["--", "++", "!", "~"]) || q(d2.text, ["-", "+"]) && (q(o2, ["TK_START_BLOCK", "TK_START_EXPR", "TK_EQUALS", "TK_OPERATOR"]) || q(f2.last_text, i3.line_starters) || "," === f2.last_text) ? (t3 = e3 = false, !d2.wanted_newline || "--" !== d2.text && "++" !== d2.text || w(false, true), " " === f2.last_text && S(f2.mode) && (e3 = true), "TK_RESERVED" === o2 ? e3 = true : "TK_END_EXPR" === o2 ? e3 = !("]" === f2.last_text && ("--" === d2.text || "++" === d2.text)) : "TK_OPERATOR" === o2 && (e3 = q(d2.text, ["--", "-", "++", "+"]) && q(f2.last_text, ["--", "-", "++", "+"]), q(d2.text, ["+", "-"]) && q(f2.last_text, ["--", "++"]) && (t3 = true)), f2.mode !== Z.BlockStatement && f2.mode !== Z.Statement || "{" !== f2.last_text && " " !== f2.last_text || w()) : ":" === d2.text ? 0 === f2.ternary_depth ? e3 = false : f2.ternary_depth -= 1 : "?" === d2.text ? f2.ternary_depth += 1 : "*" === d2.text && "TK_RESERVED" === o2 && "function" === f2.last_text && (t3 = e3 = false);
            c2.space_before_token = c2.space_before_token || e3, A(), c2.space_before_token = t3;
          }, TK_COMMA: function z() {
            if (f2.declaration_statement) return S(f2.parent.mode) && (f2.declaration_assignment = false), A(), void (f2.declaration_assignment ? w(f2.declaration_assignment = false, true) : (c2.space_before_token = true, g2.comma_first && _()));
            A(), f2.mode === Z.ObjectLiteral || f2.mode === Z.Statement && f2.parent.mode === Z.ObjectLiteral ? (f2.mode === Z.Statement && R(), w()) : (c2.space_before_token = true, g2.comma_first && _());
          }, TK_BLOCK_COMMENT: function W() {
            if (c2.raw) return c2.add_raw_token(d2), void (d2.directives && "end" === d2.directives.preserve && (g2.test_output_raw || (c2.raw = false)));
            if (d2.directives) return w(false, true), A(), "start" === d2.directives.preserve && (c2.raw = true), void w(false, true);
            if (!j.newline.test(d2.text) && !d2.wanted_newline) return c2.space_before_token = true, A(), void (c2.space_before_token = true);
            var e3, t3 = function o3(e4) {
              var t4;
              e4 = e4.replace(/\x0d/g, "");
              var a5 = [];
              t4 = e4.indexOf("\n");
              for (; -1 !== t4; ) a5.push(e4.substring(0, t4)), e4 = e4.substring(t4 + 1), t4 = e4.indexOf("\n");
              e4.length && a5.push(e4);
              return a5;
            }(d2.text), a4 = false, n4 = false, r4 = d2.whitespace_before, i4 = r4.length;
            w(false, true), 1 < t3.length && (!function s3(e4, t4) {
              for (var a5 = 0; a5 < e4.length; a5++) {
                var n5 = X(e4[a5]);
                if (n5.charAt(0) !== t4) return false;
              }
              return true;
            }(t3.slice(1), "*") ? function l3(e4, t4) {
              for (var a5, n5 = 0, r5 = e4.length; n5 < r5; n5++) if ((a5 = e4[n5]) && 0 !== a5.indexOf(t4)) return false;
              return true;
            }(t3.slice(1), r4) && (n4 = true) : a4 = true);
            for (A(t3[0]), e3 = 1; e3 < t3.length; e3++) w(false, true), a4 ? A(" ".concat(t3[e3].replace(/^\s+/g, ""))) : n4 && t3[e3].length > i4 ? A(t3[e3].substring(i4)) : c2.add_token(t3[e3]);
            w(false, true);
          }, TK_COMMENT: function K() {
            d2.wanted_newline ? w(false, true) : c2.trim(true);
            c2.space_before_token = true, A(), w(false, true);
          }, TK_DOT: function G() {
            x2();
            "TK_RESERVED" === o2 && I2(f2.last_text) ? c2.space_before_token = true : _(")" === f2.last_text && g2.break_chained_methods);
            A();
          }, TK_UNKNOWN: function V() {
            A(), "\n" === d2.text[d2.text.length - 1] && w();
          }, TK_EOF: function Y() {
            for (; f2.mode === Z.Statement; ) R();
          } }, g2 = {}, (e2 = e2 || {}).braces_on_own_line !== void 0 && (g2.brace_style = e2.braces_on_own_line ? "expand" : "collapse"), g2.brace_style = e2.brace_style ? e2.brace_style : g2.brace_style ? g2.brace_style : "collapse", "expand-strict" === g2.brace_style && (g2.brace_style = "expand"), g2.indent_size = e2.indent_size ? parseInt(e2.indent_size, 10) : 4, g2.indent_char = e2.indent_char ? e2.indent_char : " ", g2.eol = e2.eol ? e2.eol : "\n", g2.preserve_newlines = e2.preserve_newlines === void 0 || e2.preserve_newlines, g2.break_chained_methods = e2.break_chained_methods !== void 0 && e2.break_chained_methods, g2.max_preserve_newlines = e2.max_preserve_newlines === void 0 ? 0 : parseInt(e2.max_preserve_newlines, 10), g2.space_in_paren = e2.space_in_paren !== void 0 && e2.space_in_paren, g2.space_in_empty_paren = e2.space_in_empty_paren !== void 0 && e2.space_in_empty_paren, g2.jslint_happy = e2.jslint_happy !== void 0 && e2.jslint_happy, g2.space_after_anon_function = e2.space_after_anon_function !== void 0 && e2.space_after_anon_function, g2.keep_array_indentation = e2.keep_array_indentation !== void 0 && e2.keep_array_indentation, g2.space_before_conditional = e2.space_before_conditional === void 0 || e2.space_before_conditional, g2.unescape_strings = e2.unescape_strings !== void 0 && e2.unescape_strings, g2.wrap_line_length = e2.wrap_line_length === void 0 ? 0 : parseInt(e2.wrap_line_length, 10), g2.e4x = e2.e4x !== void 0 && e2.e4x, g2.end_with_newline = e2.end_with_newline !== void 0 && e2.end_with_newline, g2.comma_first = e2.comma_first !== void 0 && e2.comma_first, g2.test_output_raw = e2.test_output_raw !== void 0 && e2.test_output_raw, g2.jslint_happy && (g2.space_after_anon_function = true), e2.indent_with_tabs && (g2.indent_char = "	", g2.indent_size = 1), g2.eol = g2.eol.replace(/\\r/, "\r").replace(/\\n/, "\n"), l2 = ""; 0 < g2.indent_size; ) l2 += g2.indent_char, g2.indent_size -= 1;
          var b2 = 0;
          if (n3 && n3.length) {
            for (; " " === n3.charAt(b2) || "	" === n3.charAt(b2); ) m2 += n3.charAt(b2), b2 += 1;
            n3 = n3.substring(b2);
          }
          function E2(e3) {
            var t3 = e3.newlines;
            if (g2.keep_array_indentation && k(f2.mode)) for (var a4 = 0; a4 < t3; a4 += 1) w(0 < a4);
            else if (g2.max_preserve_newlines && t3 > g2.max_preserve_newlines && (t3 = g2.max_preserve_newlines), g2.preserve_newlines && 1 < e3.newlines) {
              w();
              for (var n4 = 1; n4 < t3; n4 += 1) w(true);
            }
            u2[(d2 = e3).type]();
          }
          function _(e3) {
            if (e3 = e3 !== void 0 && e3, !c2.just_added_newline()) {
              if (g2.preserve_newlines && d2.wanted_newline || e3) w(false, true);
              else if (g2.wrap_line_length) {
                c2.current_line.get_character_count() + d2.text.length + (c2.space_before_token ? 1 : 0) >= g2.wrap_line_length && w(false, true);
              }
            }
          }
          function w(e3, t3) {
            if (!t3 && " " !== f2.last_text && "," !== f2.last_text && "=" !== f2.last_text && "TK_OPERATOR" !== o2) for (; f2.mode === Z.Statement && !f2.if_block && !f2.do_block; ) R();
            c2.add_new_line(e3) && (f2.multiline_frame = true);
          }
          function y2() {
            c2.just_added_newline() && (g2.keep_array_indentation && k(f2.mode) && d2.wanted_newline ? (c2.current_line.push(d2.whitespace_before), c2.space_before_token = false) : c2.set_indent(f2.indentation_level) && (f2.line_indent_level = f2.indentation_level));
          }
          function A(e3) {
            c2.raw ? c2.add_raw_token(d2) : (g2.comma_first && "TK_COMMA" === o2 && c2.just_added_newline() && "," === c2.previous_line.last() && (c2.previous_line.pop(), y2(), c2.add_token(","), c2.space_before_token = true), e3 = e3 || d2.text, y2(), c2.add_token(e3));
          }
          function C() {
            f2.indentation_level += 1;
          }
          function T(e3) {
            p2 = f2 ? (t2.push(f2), f2) : v2(null, e3), f2 = v2(p2, e3);
          }
          function k(e3) {
            return e3 === Z.ArrayLiteral;
          }
          function S(e3) {
            return q(e3, [Z.Expression, Z.ForInitializer, Z.Conditional]);
          }
          function R() {
            0 < t2.length && (p2 = f2, f2 = t2.pop(), p2.mode === Z.Statement && c2.remove_redundant_indentation(p2));
          }
          function L2() {
            return f2.parent.mode === Z.ObjectLiteral && f2.mode === Z.Statement && (":" === f2.last_text && 0 === f2.ternary_depth || "TK_RESERVED" === o2 && q(f2.last_text, ["get", "set"]));
          }
          function x2() {
            return !!("TK_RESERVED" === o2 && q(f2.last_text, ["const", "let", "const"]) && "TK_WORD" === d2.type || "TK_RESERVED" === o2 && "do" === f2.last_text || "TK_RESERVED" === o2 && "return" === f2.last_text && !d2.wanted_newline || "TK_RESERVED" === o2 && "else" === f2.last_text && ("TK_RESERVED" !== d2.type || "if" !== d2.text) || "TK_END_EXPR" === o2 && (p2.mode === Z.ForInitializer || p2.mode === Z.Conditional) || "TK_WORD" === o2 && f2.mode === Z.BlockStatement && !f2.in_case && "--" !== d2.text && "++" !== d2.text && "function" !== s2 && "TK_WORD" !== d2.type && "TK_RESERVED" !== d2.type || f2.mode === Z.ObjectLiteral && (":" === f2.last_text && 0 === f2.ternary_depth || "TK_RESERVED" === o2 && q(f2.last_text, ["get", "set"]))) && (T(Z.Statement), C(), "TK_RESERVED" === o2 && q(f2.last_text, ["const", "let", "const"]) && "TK_WORD" === d2.type && (f2.declaration_statement = true), L2() || _("TK_RESERVED" === d2.type && q(d2.text, ["do", "for", "if", "while"])), true);
          }
          function I2(e3) {
            return q(e3, ["case", "return", "do", "if", "throw", "else"]);
          }
          function O2(e3) {
            var t3 = r3 + (e3 || 0);
            return t3 < 0 || t3 >= h2.length ? null : h2[t3];
          }
          function F() {
            ("TK_RESERVED" === d2.type && f2.mode !== Z.ObjectLiteral && q(d2.text, ["set", "get"]) && (d2.type = "TK_WORD"), "TK_RESERVED" === d2.type && f2.mode === Z.ObjectLiteral) && (":" === O2(1).text && (d2.type = "TK_WORD"));
            if (x2() || !d2.wanted_newline || S(f2.mode) || "TK_OPERATOR" === o2 && "--" !== f2.last_text && "++" !== f2.last_text || "TK_EQUALS" === o2 || !g2.preserve_newlines && "TK_RESERVED" === o2 && q(f2.last_text, ["const", "let", "const", "set", "get"]) || w(), f2.do_block && !f2.do_while) {
              if ("TK_RESERVED" === d2.type && "while" === d2.text) return c2.space_before_token = true, A(), c2.space_before_token = true, void (f2.do_while = true);
              w(), f2.do_block = false;
            }
            if (f2.if_block) if (f2.else_block || "TK_RESERVED" !== d2.type || "else" !== d2.text) {
              for (; f2.mode === Z.Statement; ) R();
              f2.if_block = false, f2.else_block = false;
            } else f2.else_block = true;
            if ("TK_RESERVED" === d2.type && ("case" === d2.text || "default" === d2.text && f2.in_case_statement)) return w(), (f2.case_body || g2.jslint_happy) && (!function e3() {
              0 < f2.indentation_level && (!f2.parent || f2.indentation_level > f2.parent.indentation_level) && (f2.indentation_level -= 1);
            }(), f2.case_body = false), A(), f2.in_case = true, void (f2.in_case_statement = true);
            if ("TK_RESERVED" === d2.type && "function" === d2.text && ((q(f2.last_text, ["}", " "]) || c2.just_added_newline() && !q(f2.last_text, ["[", "{", ":", "=", ","])) && (c2.just_added_blankline() || d2.comments_before.length || (w(), w(true))), "TK_RESERVED" === o2 || "TK_WORD" === o2 ? "TK_RESERVED" === o2 && q(f2.last_text, ["get", "set", "new", "return", "export", "async"]) ? c2.space_before_token = true : "TK_RESERVED" === o2 && "default" === f2.last_text && "export" === s2 ? c2.space_before_token = true : w() : "TK_OPERATOR" === o2 || "=" === f2.last_text ? c2.space_before_token = true : (f2.multiline_frame || !S(f2.mode) && !k(f2.mode)) && w()), "TK_COMMA" !== o2 && "TK_START_EXPR" !== o2 && "TK_EQUALS" !== o2 && "TK_OPERATOR" !== o2 || L2() || _(), "TK_RESERVED" === d2.type && q(d2.text, ["function", "get", "set"])) return A(), void (f2.last_word = d2.text);
            (a3 = "NONE", "TK_END_BLOCK" === o2 ? "TK_RESERVED" === d2.type && q(d2.text, ["else", "catch", "finally"]) ? "expand" === g2.brace_style || "end-expand" === g2.brace_style || "none" === g2.brace_style && d2.wanted_newline ? a3 = "NEWLINE" : (a3 = "SPACE", c2.space_before_token = true) : a3 = "NEWLINE" : "TK_SEMICOLON" === o2 && f2.mode === Z.BlockStatement ? a3 = "NEWLINE" : "TK_SEMICOLON" === o2 && S(f2.mode) ? a3 = "SPACE" : "TK_STRING" === o2 ? a3 = "NEWLINE" : "TK_RESERVED" === o2 || "TK_WORD" === o2 || "*" === f2.last_text && "function" === s2 ? a3 = "SPACE" : "TK_START_BLOCK" === o2 ? a3 = "NEWLINE" : "TK_END_EXPR" === o2 && (c2.space_before_token = true, a3 = "NEWLINE"), "TK_RESERVED" === d2.type && q(d2.text, i3.line_starters) && ")" !== f2.last_text && (a3 = "else" === f2.last_text || "export" === f2.last_text ? "SPACE" : "NEWLINE"), "TK_RESERVED" === d2.type && q(d2.text, ["else", "catch", "finally"])) ? "TK_END_BLOCK" !== o2 || "expand" === g2.brace_style || "end-expand" === g2.brace_style || "none" === g2.brace_style && d2.wanted_newline ? w() : (c2.trim(true), "}" !== c2.current_line.last() && w(), c2.space_before_token = true) : "NEWLINE" === a3 ? "TK_RESERVED" === o2 && I2(f2.last_text) ? c2.space_before_token = true : "TK_END_EXPR" !== o2 ? "TK_START_EXPR" === o2 && "TK_RESERVED" === d2.type && q(d2.text, ["const", "let", "const"]) || ":" === f2.last_text || ("TK_RESERVED" === d2.type && "if" === d2.text && "else" === f2.last_text ? c2.space_before_token = true : w()) : "TK_RESERVED" === d2.type && q(d2.text, i3.line_starters) && ")" !== f2.last_text && w() : f2.multiline_frame && k(f2.mode) && "," === f2.last_text && "}" === s2 ? w() : "SPACE" === a3 && (c2.space_before_token = true);
            A(), f2.last_word = d2.text, "TK_RESERVED" === d2.type && "do" === d2.text && (f2.do_block = true), "TK_RESERVED" === d2.type && "if" === d2.text && (f2.if_block = true);
          }
          o2 = "TK_START_BLOCK", s2 = "", (c2 = new Q(l2, m2)).raw = g2.test_output_raw, t2 = [], T(Z.BlockStatement), this.beautify = function() {
            var e3, t3;
            for (i3 = new ee(n3, g2, l2), h2 = i3.tokenize(), r3 = 0; e3 = O2(); ) {
              for (var a4 = 0; a4 < e3.comments_before.length; a4++) E2(e3.comments_before[a4]);
              E2(e3), s2 = f2.last_text, o2 = e3.type, f2.last_text = e3.text, r3 += 1;
            }
            return t3 = c2.get_code(), g2.end_with_newline && (t3 += "\n"), "\n" != g2.eol && (t3 = t3.replace(/[\n]/g, g2.eol)), t3;
          };
        }
        function i2(t2) {
          var a3 = 0, n3 = -1, r3 = [], i3 = true;
          this.set_indent = function(e2) {
            a3 = t2.baseIndentLength + e2 * t2.indent_length, n3 = e2;
          }, this.get_character_count = function() {
            return a3;
          }, this.is_empty = function() {
            return i3;
          }, this.last = function() {
            return this._empty ? null : r3[r3.length - 1];
          }, this.push = function(e2) {
            r3.push(e2), a3 += e2.length, i3 = false;
          }, this.pop = function() {
            var e2 = null;
            return i3 || (e2 = r3.pop(), a3 -= e2.length, i3 = 0 === r3.length), e2;
          }, this.remove_indent = function() {
            0 < n3 && (n3 -= 1, a3 -= t2.indent_length);
          }, this.trim = function() {
            for (; " " === this.last(); ) r3.pop(), a3 -= 1;
            i3 = 0 === r3.length;
          }, this.toString = function() {
            var e2 = "";
            return this._empty || (0 <= n3 && (e2 = t2.indent_cache[n3]), e2 += r3.join("")), e2;
          };
        }
        function Q(t2, a3) {
          a3 = a3 || "", this.indent_cache = [a3], this.baseIndentLength = a3.length, this.indent_length = t2.length, this.raw = false;
          var n3 = [];
          this.baseIndentString = a3, this.indent_string = t2, this.previous_line = null, this.current_line = null, this.space_before_token = false, this.add_outputline = function() {
            this.previous_line = this.current_line, this.current_line = new i2(this), n3.push(this.current_line);
          }, this.add_outputline(), this.get_line_number = function() {
            return n3.length;
          }, this.add_new_line = function(e2) {
            return (1 !== this.get_line_number() || !this.just_added_newline()) && (!(!e2 && this.just_added_newline()) && (this.raw || this.add_outputline(), true));
          }, this.get_code = function() {
            return n3.join("\n").replace(/[\r\n\t ]+$/, "");
          }, this.set_indent = function(e2) {
            if (1 < n3.length) {
              for (; e2 >= this.indent_cache.length; ) this.indent_cache.push(this.indent_cache[this.indent_cache.length - 1] + this.indent_string);
              return this.current_line.set_indent(e2), true;
            }
            return this.current_line.set_indent(0), false;
          }, this.add_raw_token = function(e2) {
            for (var t3 = 0; t3 < e2.newlines; t3++) this.add_outputline();
            this.current_line.push(e2.whitespace_before), this.current_line.push(e2.text), this.space_before_token = false;
          }, this.add_token = function(e2) {
            this.add_space_before_token(), this.current_line.push(e2);
          }, this.add_space_before_token = function() {
            this.space_before_token && !this.just_added_newline() && this.current_line.push(" "), this.space_before_token = false;
          }, this.remove_redundant_indentation = function(e2) {
            if (!e2.multiline_frame && e2.mode !== Z.ForInitializer && e2.mode !== Z.Conditional) for (var t3 = e2.start_line_index, a4 = n3.length; t3 < a4; ) n3[t3].remove_indent(), t3++;
          }, this.trim = function(e2) {
            for (e2 = e2 !== void 0 && e2, this.current_line.trim(t2, a3); e2 && 1 < n3.length && this.current_line.is_empty(); ) n3.pop(), this.current_line = n3[n3.length - 1], this.current_line.trim();
            this.previous_line = 1 < n3.length ? n3[n3.length - 2] : null;
          }, this.just_added_newline = function() {
            return this.current_line.is_empty();
          }, this.just_added_blankline = function() {
            return !!this.just_added_newline() && (1 === n3.length || n3[n3.length - 2].is_empty());
          };
        }
        var J = function J2(e2, t2, a3, n3, r3, i3) {
          this.type = e2, this.text = t2, this.comments_before = [], this.newlines = a3 || 0, this.wanted_newline = 0 < a3, this.whitespace_before = n3 || "", this.parent = null, this.directives = null;
        };
        function ee(R, L2, e2) {
          var x2 = "\n\r	 ".split(""), I2 = /[0-9]/, O2 = /[01234567]/, F = /[0123456789abcdefABCDEF]/, M = "+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");
          this.line_starters = "continue,try,throw,return,const,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");
          var N, D, P, B, U, H, $ = this.line_starters.concat(["do", "in", "else", "get", "set", "new", "catch", "finally", "typeof", "yield", "async", "await"]), z = /([\s\S]*?)((?:\*\/)|$)/g, W = /([^\n\r\u2028\u2029]*)/g, K = /\/\* beautify( \w+[:]\w+)+ \*\//g, G = / (\w+)[:](\w+)/g, V = /([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g, Y = /((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;
          function o2() {
            var e3, t2, a3 = [];
            if (N = 0, D = "", H <= U) return ["", "TK_EOF"];
            t2 = B.length ? B[B.length - 1] : new J("TK_START_BLOCK", "{");
            var n3 = R.charAt(U);
            for (U += 1; q(n3, x2); ) {
              if (j.newline.test(n3) ? "\n" === n3 && "\r" === R.charAt(U - 2) || (N += 1, a3 = []) : a3.push(n3), H <= U) return ["", "TK_EOF"];
              n3 = R.charAt(U), U += 1;
            }
            if (a3.length && (D = a3.join("")), I2.test(n3)) {
              var r3 = true, i3 = true, o3 = I2;
              for ("0" === n3 && U < H && /[Xxo]/.test(R.charAt(U)) ? (i3 = r3 = false, n3 += R.charAt(U), U += 1, o3 = /[o]/.test(R.charAt(U)) ? O2 : F) : (n3 = "", U -= 1); U < H && o3.test(R.charAt(U)); ) n3 += R.charAt(U), U += 1, r3 && U < H && "." === R.charAt(U) && (n3 += R.charAt(U), U += 1, r3 = false), i3 && U < H && /[Ee]/.test(R.charAt(U)) && (n3 += R.charAt(U), (U += 1) < H && /[+-]/.test(R.charAt(U)) && (n3 += R.charAt(U), U += 1), r3 = i3 = false);
              return [n3, "TK_WORD"];
            }
            if (j.isIdentifierStart(R.charCodeAt(U - 1))) {
              if (U < H) for (; j.isIdentifierChar(R.charCodeAt(U)) && (n3 += R.charAt(U), (U += 1) !== H); ) ;
              return "TK_DOT" === t2.type || "TK_RESERVED" === t2.type && q(t2.text, ["set", "get"]) || !q(n3, $) ? [n3, "TK_WORD"] : "in" === n3 ? [n3, "TK_OPERATOR"] : [n3, "TK_RESERVED"];
            }
            if ("(" === n3 || "[" === n3) return [n3, "TK_START_EXPR"];
            if (")" === n3 || "]" === n3) return [n3, "TK_END_EXPR"];
            if ("{" === n3) return [n3, "TK_START_BLOCK"];
            if ("}" === n3) return [n3, "TK_END_BLOCK"];
            if (" " === n3) return [n3, "TK_SEMICOLON"];
            if ("/" === n3) {
              var s2 = "";
              if ("*" === R.charAt(U)) {
                U += 1, z.lastIndex = U;
                var l2 = z.exec(R);
                s2 = "/*".concat(l2[0]), U += l2[0].length;
                var c2 = function k(e4) {
                  if (!e4.match(K)) return null;
                  var t3 = {};
                  G.lastIndex = 0;
                  for (var a4 = G.exec(e4); a4; ) t3[a4[1]] = a4[2], a4 = G.exec(e4);
                  return t3;
                }(s2);
                return c2 && "start" === c2.ignore && (V.lastIndex = U, s2 += (l2 = V.exec(R))[0], U += l2[0].length), [s2 = s2.replace(j.lineBreak, "\n"), "TK_BLOCK_COMMENT", c2];
              }
              if ("/" === R.charAt(U)) {
                U += 1, W.lastIndex = U;
                var d2 = W.exec(R);
                return s2 = "//".concat(d2[0]), U += d2[0].length, [s2, "TK_COMMENT"];
              }
            }
            if ("`" === n3 || "'" === n3 || '"' === n3 || ("/" === n3 || L2.e4x && "<" === n3 && R.slice(U - 1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/)) && ("TK_RESERVED" === t2.type && q(t2.text, ["return", "case", "throw", "else", "do", "typeof", "yield"]) || "TK_END_EXPR" === t2.type && ")" === t2.text && t2.parent && "TK_RESERVED" === t2.parent.type && q(t2.parent.text, ["if", "while", "for"]) || q(t2.type, ["TK_COMMENT", "TK_START_EXPR", "TK_START_BLOCK", "TK_END_BLOCK", "TK_OPERATOR", "TK_EQUALS", "TK_EOF", "TK_SEMICOLON", "TK_COMMA"]))) {
              var f2 = n3, p2 = false, u2 = false;
              if (e3 = n3, "/" === f2) for (var g2 = false; U < H && (p2 || g2 || R.charAt(U) !== f2) && !j.newline.test(R.charAt(U)); ) e3 += R.charAt(U), p2 ? p2 = false : (p2 = "\\" === R.charAt(U), "[" === R.charAt(U) ? g2 = true : "]" === R.charAt(U) && (g2 = false)), U += 1;
              else if (L2.e4x && "<" === f2) {
                var h2 = /<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g, m2 = R.slice(U - 1), v2 = h2.exec(m2);
                if (v2 && 0 === v2.index) {
                  for (var b2 = v2[2], E2 = 0; v2; ) {
                    var _ = !!v2[1], w = v2[2], y2 = !!v2[v2.length - 1] || "![CDATA[" === w.slice(0, 8);
                    if (w !== b2 || y2 || (_ ? --E2 : ++E2), E2 <= 0) break;
                    v2 = h2.exec(m2);
                  }
                  var A = v2 ? v2.index + v2[0].length : m2.length;
                  return m2 = m2.slice(0, A), U += A - 1, [m2 = m2.replace(j.lineBreak, "\n"), "TK_STRING"];
                }
              } else for (; U < H && (p2 || R.charAt(U) !== f2 && ("`" === f2 || !j.newline.test(R.charAt(U)))); ) (p2 || "`" === f2) && j.newline.test(R.charAt(U)) ? ("\r" === R.charAt(U) && "\n" === R.charAt(U + 1) && (U += 1), e3 += "\n") : e3 += R.charAt(U), p2 = p2 ? ("x" !== R.charAt(U) && "u" !== R.charAt(U) || (u2 = true), false) : "\\" === R.charAt(U), U += 1;
              if (u2 && L2.unescape_strings && (e3 = function S(e4) {
                var t3, a4 = false, n4 = "", r4 = 0, i4 = "", o4 = 0;
                for (; a4 || r4 < e4.length; ) if (t3 = e4.charAt(r4), r4++, a4) {
                  if (a4 = false, "x" === t3) i4 = e4.substr(r4, 2), r4 += 2;
                  else {
                    if ("u" !== t3) {
                      n4 += "\\".concat(t3);
                      continue;
                    }
                    i4 = e4.substr(r4, 4), r4 += 4;
                  }
                  if (!i4.match(/^[0123456789abcdefABCDEF]+$/)) return e4;
                  if (0 <= (o4 = parseInt(i4, 16)) && o4 < 32) {
                    n4 += "x" === t3 ? "\\x".concat(i4) : "\\u".concat(i4);
                    continue;
                  }
                  if (34 === o4 || 39 === o4 || 92 === o4) n4 += "\\".concat(String.fromCharCode(o4));
                  else {
                    if ("x" === t3 && 126 < o4 && o4 <= 255) return e4;
                    n4 += String.fromCharCode(o4);
                  }
                } else "\\" === t3 ? a4 = true : n4 += t3;
                return n4;
              }(e3)), U < H && R.charAt(U) === f2 && (e3 += f2, U += 1, "/" === f2)) for (; U < H && j.isIdentifierStart(R.charCodeAt(U)); ) e3 += R.charAt(U), U += 1;
              return [e3, "TK_STRING"];
            }
            if ("#" === n3) {
              if (0 === B.length && "!" === R.charAt(U)) {
                for (e3 = n3; U < H && "\n" !== n3; ) e3 += n3 = R.charAt(U), U += 1;
                return ["".concat(X(e3), "\n"), "TK_UNKNOWN"];
              }
              var C = "#";
              if (U < H && I2.test(R.charAt(U))) {
                for (; C += n3 = R.charAt(U), (U += 1) < H && "#" !== n3 && "=" !== n3; ) ;
                return "#" === n3 || ("[" === R.charAt(U) && "]" === R.charAt(U + 1) ? (C += "[]", U += 2) : "{" === R.charAt(U) && "}" === R.charAt(U + 1) && (C += "{}", U += 2)), [C, "TK_WORD"];
              }
            }
            if ("<" === n3 && ("?" === R.charAt(U) || "%" === R.charAt(U))) {
              Y.lastIndex = U - 1;
              var T = Y.exec(R);
              if (T) return n3 = T[0], U += n3.length - 1, [n3 = n3.replace(j.lineBreak, "\n"), "TK_STRING"];
            }
            if ("<" === n3 && "<!--" === R.substring(U - 1, U + 3)) {
              for (U += 3, n3 = "<!--"; !j.newline.test(R.charAt(U)) && U < H; ) n3 += R.charAt(U), U++;
              return P = true, [n3, "TK_COMMENT"];
            }
            if ("-" === n3 && P && "-->" === R.substring(U - 1, U + 2)) return P = false, U += 2, ["-->", "TK_COMMENT"];
            if ("." === n3) return [n3, "TK_DOT"];
            if (q(n3, M)) {
              for (; U < H && q(n3 + R.charAt(U), M) && (n3 += R.charAt(U), !(H <= (U += 1))); ) ;
              return "," === n3 ? [n3, "TK_COMMA"] : "=" === n3 ? [n3, "TK_EQUALS"] : [n3, "TK_OPERATOR"];
            }
            return [n3, "TK_UNKNOWN"];
          }
          this.tokenize = function() {
            var e3, t2, a3;
            H = R.length, U = 0, P = false, B = [];
            for (var n3 = null, r3 = [], i3 = []; !t2 || "TK_EOF" !== t2.type; ) {
              for (a3 = o2(), e3 = new J(a3[1], a3[0], N, D); "TK_COMMENT" === e3.type || "TK_BLOCK_COMMENT" === e3.type || "TK_UNKNOWN" === e3.type; ) "TK_BLOCK_COMMENT" === e3.type && (e3.directives = a3[2]), i3.push(e3), a3 = o2(), e3 = new J(a3[1], a3[0], N, D);
              i3.length && (e3.comments_before = i3, i3 = []), "TK_START_BLOCK" === e3.type || "TK_START_EXPR" === e3.type ? (e3.parent = t2, r3.push(n3), n3 = e3) : ("TK_END_BLOCK" === e3.type || "TK_END_EXPR" === e3.type) && n3 && ("]" === e3.text && "[" === n3.text || ")" === e3.text && "(" === n3.text || "}" === e3.text && "{" === n3.text) && (e3.parent = n3.parent, n3 = r3.pop()), B.push(e3), t2 = e3;
            }
            return B;
          };
        }
        return { run: function I2(e2, t2) {
          function o2(e3) {
            return e3.replace(/\s+$/g, "");
          }
          var a3, n3, r3, m2, i3, s2, v2, l2, c2, b2, E2, _, d2, f2;
          for ((t2 = t2 || {}).wrap_line_length !== void 0 && 0 !== parseInt(t2.wrap_line_length, 10) || t2.max_char === void 0 || 0 === parseInt(t2.max_char, 10) || (t2.wrap_line_length = t2.max_char), n3 = t2.indent_inner_html !== void 0 && t2.indent_inner_html, r3 = t2.indent_size === void 0 ? 4 : parseInt(t2.indent_size, 10), m2 = t2.indent_char === void 0 ? " " : t2.indent_char, s2 = t2.brace_style === void 0 ? "collapse" : t2.brace_style, i3 = 0 === parseInt(t2.wrap_line_length, 10) ? 32786 : parseInt(t2.wrap_line_length || 250, 10), v2 = t2.unformatted || ["a", "span", "img", "bdo", "em", "strong", "dfn", "code", "samp", "kbd", "const", "cite", "abbr", "acronym", "q", "sub", "sup", "tt", "i", "b", "big", "small", "u", "s", "strike", "font", "ins", "del", "address", "pre"], l2 = t2.preserve_newlines === void 0 || t2.preserve_newlines, c2 = l2 ? isNaN(parseInt(t2.max_preserve_newlines, 10)) ? 32786 : parseInt(t2.max_preserve_newlines, 10) : 0, b2 = t2.indent_handlebars !== void 0 && t2.indent_handlebars, E2 = t2.wrap_attributes === void 0 ? "auto" : t2.wrap_attributes, _ = t2.wrap_attributes_indent_size === void 0 ? r3 : parseInt(t2.wrap_attributes_indent_size, 10) || r3, d2 = t2.end_with_newline !== void 0 && t2.end_with_newline, f2 = Array.isArray(t2.extra_liners) ? t2.extra_liners.concat() : "string" == typeof t2.extra_liners ? t2.extra_liners.split(",") : "head,body,/html".split(","), t2.indent_with_tabs && (m2 = "	", r3 = 1), (a3 = new function R() {
            return this.pos = 0, this.token = "", this.current_mode = "CONTENT", this.tags = { parent: "parent1", parentcount: 1, parent1: "" }, this.tag_type = "", this.token_text = this.last_token = this.last_text = this.token_type = "", this.newlines = 0, this.indent_content = n3, this.Utils = { whitespace: "\n\r	 ".split(""), single_token: "br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","), extra_liners: f2, in_array: function(e3, t3) {
              for (var a4 = 0; a4 < t3.length; a4++) if (e3 === t3[a4]) return true;
              return false;
            } }, this.is_whitespace = function(e3) {
              for (; 0 < e3.length; e3++) if (!this.Utils.in_array(e3.charAt(0), this.Utils.whitespace)) return false;
              return true;
            }, this.traverse_whitespace = function() {
              var e3 = "";
              if (e3 = this.input.charAt(this.pos), this.Utils.in_array(e3, this.Utils.whitespace)) {
                for (this.newlines = 0; this.Utils.in_array(e3, this.Utils.whitespace); ) l2 && "\n" === e3 && this.newlines <= c2 && (this.newlines += 1), this.pos++, e3 = this.input.charAt(this.pos);
                return true;
              }
              return false;
            }, this.space_or_wrap = function(e3) {
              this.line_char_count >= this.wrap_line_length ? (this.print_newline(false, e3), this.print_indentation(e3)) : (this.line_char_count++, e3.push(" "));
            }, this.get_content = function() {
              for (var e3 = "", t3 = []; "<" != this.input.charAt(this.pos); ) {
                if (this.pos >= this.input.length) return t3.length ? t3.join("") : ["", "TK_EOF"];
                if (this.traverse_whitespace()) this.space_or_wrap(t3);
                else {
                  if (b2) {
                    var a4 = this.input.substr(this.pos, 3);
                    if ("{{#" === a4 || "{{/" === a4) break;
                    if ("{{!" === a4) return [this.get_tag(), "TK_TAG_HANDLEBARS_COMMENT"];
                    if ("{{" === this.input.substr(this.pos, 2) && "{{else}}" === this.get_tag(true)) break;
                  }
                  e3 = this.input.charAt(this.pos), this.pos++, this.line_char_count++, t3.push(e3);
                }
              }
              return t3.length ? t3.join("") : "";
            }, this.get_contents_to = function(e3) {
              if (this.pos === this.input.length) return ["", "TK_EOF"];
              var t3 = "", a4 = new RegExp("</".concat(e3, "\\s*>"), "igm");
              a4.lastIndex = this.pos;
              var n4 = a4.exec(this.input), r4 = n4 ? n4.index : this.input.length;
              return this.pos < r4 && (t3 = this.input.substring(this.pos, r4), this.pos = r4), t3;
            }, this.record_tag = function(e3) {
              this.tags["".concat(e3, "count")] ? this.tags["".concat(e3, "count")]++ : this.tags["".concat(e3, "count")] = 1, this.tags[e3 + this.tags["".concat(e3, "count")]] = this.indent_level, this.tags[e3 + this.tags["".concat(e3, "count")] + "parent"] = this.tags.parent, this.tags.parent = e3 + this.tags["".concat(e3, "count")];
            }, this.retrieve_tag = function(e3) {
              if (this.tags["".concat(e3, "count")]) {
                for (var t3 = this.tags.parent; t3 && e3 + this.tags["".concat(e3, "count")] !== t3; ) t3 = this.tags["".concat(t3, "parent")];
                t3 && (this.indent_level = this.tags[e3 + this.tags["".concat(e3, "count")]], this.tags.parent = this.tags[t3 + "parent"]), delete this.tags[e3 + this.tags["".concat(e3, "count")] + "parent"], delete this.tags[e3 + this.tags["".concat(e3, "count")]], 1 === this.tags["".concat(e3, "count")] ? delete this.tags["".concat(e3, "count")] : this.tags["".concat(e3, "count")]--;
              }
            }, this.indent_to_tag = function(e3) {
              if (this.tags["".concat(e3, "count")]) {
                for (var t3 = this.tags.parent; t3 && e3 + this.tags["".concat(e3, "count")] !== t3; ) t3 = this.tags["".concat(t3, "parent")];
                t3 && (this.indent_level = this.tags[e3 + this.tags["".concat(e3, "count")]]);
              }
            }, this.get_tag = function(e3) {
              var t3, a4, n4 = "", r4 = [], i4 = "", o3 = false, s3 = true, l3 = this.pos, c3 = this.line_char_count;
              e3 = e3 !== void 0 && e3;
              do {
                if (this.pos >= this.input.length) return e3 && (this.pos = l3, this.line_char_count = c3), r4.length ? r4.join("") : ["", "TK_EOF"];
                if (n4 = this.input.charAt(this.pos), this.pos++, this.Utils.in_array(n4, this.Utils.whitespace)) o3 = true;
                else {
                  if ("'" !== n4 && '"' !== n4 || (n4 += this.get_unformatted(n4), o3 = true), "=" === n4 && (o3 = false), r4.length && "=" != r4[r4.length - 1] && ">" != n4 && o3) {
                    if (this.space_or_wrap(r4), o3 = false, !s3 && "force" === E2 && "/" != n4) {
                      this.print_newline(true, r4), this.print_indentation(r4);
                      for (var d3 = 0; d3 < _; d3++) r4.push(m2);
                    }
                    for (var f3 = 0; f3 < r4.length; f3++) if (" " === r4[f3]) {
                      s3 = false;
                      break;
                    }
                  }
                  if (b2 && "<" === a4 && n4 + this.input.charAt(this.pos) === "{{" && (n4 += this.get_unformatted("}}"), r4.length && " " != r4[r4.length - 1] && "<" != r4[r4.length - 1] && (n4 = " ".concat(n4)), o3 = true), "<" !== n4 || a4 || (t3 = this.pos - 1, a4 = "<"), b2 && !a4 && 2 <= r4.length && "{" === r4[r4.length - 1] && "{" === r4[r4.length - 2] && (t3 = "#" === n4 || "/" === n4 || "!" === n4 ? this.pos - 3 : this.pos - 2, a4 = "{"), this.line_char_count++, r4.push(n4), r4[1] && ("!" === r4[1] || "?" === r4[1] || "%" === r4[1])) {
                    r4 = [this.get_comment(t3)];
                    break;
                  }
                  if (b2 && r4[1] && "{" === r4[1] && r4[2] && "!" === r4[2]) {
                    r4 = [this.get_comment(t3)];
                    break;
                  }
                  if (b2 && "{" === a4 && 2 < r4.length && "}" === r4[r4.length - 2] && "}" === r4[r4.length - 1]) break;
                }
              } while (">" != n4);
              var p3, u3, g3 = r4.join("");
              p3 = -1 != g3.indexOf(" ") ? g3.indexOf(" ") : "{" === g3[0] ? g3.indexOf("}") : g3.indexOf(">"), u3 = "<" !== g3[0] && b2 ? "#" === g3[2] ? 3 : 2 : 1;
              var h3 = g3.substring(u3, p3).toLowerCase();
              return "/" === g3.charAt(g3.length - 2) || this.Utils.in_array(h3, this.Utils.single_token) ? e3 || (this.tag_type = "SINGLE") : b2 && "{" === g3[0] && "else" === h3 ? e3 || (this.indent_to_tag("if"), this.tag_type = "HANDLEBARS_ELSE", this.indent_content = true, this.traverse_whitespace()) : this.is_unformatted(h3, v2) ? (i4 = this.get_unformatted("</".concat(h3, ">"), g3), r4.push(i4), this.pos, this.tag_type = "SINGLE") : "script" === h3 && (-1 === g3.search("type") || -1 < g3.search("type") && -1 < g3.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)) ? e3 || (this.record_tag(h3), this.tag_type = "SCRIPT") : "style" === h3 && (-1 === g3.search("type") || -1 < g3.search("type") && -1 < g3.search("text/css")) ? e3 || (this.record_tag(h3), this.tag_type = "STYLE") : "!" === h3.charAt(0) ? e3 || (this.tag_type = "SINGLE", this.traverse_whitespace()) : e3 || ("/" === h3.charAt(0) ? (this.retrieve_tag(h3.substring(1)), this.tag_type = "END") : (this.record_tag(h3), "html" != h3.toLowerCase() && (this.indent_content = true), this.tag_type = "START"), this.traverse_whitespace() && this.space_or_wrap(r4), this.Utils.in_array(h3, this.Utils.extra_liners) && (this.print_newline(false, this.output), this.output.length && "\n" != this.output[this.output.length - 2] && this.print_newline(true, this.output))), e3 && (this.pos = l3, this.line_char_count = c3), r4.join("");
            }, this.get_comment = function(e3) {
              var t3 = "", a4 = ">", n4 = false;
              this.pos = e3;
              var r4 = this.input.charAt(this.pos);
              for (this.pos++; this.pos <= this.input.length && ((t3 += r4)[t3.length - 1] !== a4[a4.length - 1] || -1 == t3.indexOf(a4)); ) !n4 && t3.length < 10 && (0 === t3.indexOf("<![if") ? (a4 = "<![endif]>", n4 = true) : 0 === t3.indexOf("<![cdata[") ? (a4 = "]]>", n4 = true) : 0 === t3.indexOf("<![") ? (a4 = "]>", n4 = true) : 0 === t3.indexOf("<!--") ? (a4 = "-->", n4 = true) : 0 === t3.indexOf("{{!") ? (a4 = "}}", n4 = true) : 0 === t3.indexOf("<?") ? (a4 = "?>", n4 = true) : 0 === t3.indexOf("<%") && (a4 = "%>", n4 = true)), r4 = this.input.charAt(this.pos), this.pos++;
              return t3;
            }, this.get_unformatted = function(e3, t3) {
              if (t3 && -1 != t3.toLowerCase().indexOf(e3)) return "";
              var a4 = "", n4 = "", r4 = 0, i4 = true;
              do {
                if (this.pos >= this.input.length) return n4;
                if (a4 = this.input.charAt(this.pos), this.pos++, this.Utils.in_array(a4, this.Utils.whitespace)) {
                  if (!i4) {
                    this.line_char_count--;
                    continue;
                  }
                  if ("\n" === a4 || "\r" === a4) {
                    n4 += "\n", this.line_char_count = 0;
                    continue;
                  }
                }
                n4 += a4, this.line_char_count++, i4 = true, b2 && "{" === a4 && n4.length && "{" === n4[n4.length - 2] && (r4 = (n4 += this.get_unformatted("}}")).length);
              } while (-1 === n4.toLowerCase().indexOf(e3, r4));
              return n4;
            }, this.get_token = function() {
              var e3;
              if ("TK_TAG_SCRIPT" !== this.last_token && "TK_TAG_STYLE" !== this.last_token) return "CONTENT" === this.current_mode ? "string" != typeof (e3 = this.get_content()) ? e3 : [e3, "TK_CONTENT"] : "TAG" === this.current_mode ? "string" != typeof (e3 = this.get_tag()) ? e3 : [e3, "TK_TAG_".concat(this.tag_type)] : void 0;
              var t3 = this.last_token.substr(7);
              return "string" != typeof (e3 = this.get_contents_to(t3)) ? e3 : [e3, "TK_".concat(t3)];
            }, this.get_full_indent = function(e3) {
              return (e3 = this.indent_level + e3 || 0) < 1 ? "" : new Array(e3 + 1).join(this.indent_string);
            }, this.is_unformatted = function(e3, t3) {
              if (!this.Utils.in_array(e3, t3)) return false;
              if ("a" != e3.toLowerCase() || !this.Utils.in_array("a", t3)) return true;
              var a4 = (this.get_tag(true) || "").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);
              return !(a4 && !this.Utils.in_array(a4, t3));
            }, this.printer = function(e3, t3, a4, n4, r4) {
              this.input = e3 || "", this.output = [], this.indent_character = t3, this.indent_string = "", this.indent_size = a4, this.brace_style = r4, this.indent_level = 0, this.wrap_line_length = n4;
              for (var i4 = this.line_char_count = 0; i4 < this.indent_size; i4++) this.indent_string += this.indent_character;
              this.print_newline = function(e4, t4) {
                this.line_char_count = 0, t4 && t4.length && (e4 || "\n" != t4[t4.length - 1]) && ("\n" != t4[t4.length - 1] && (t4[t4.length - 1] = o2(t4[t4.length - 1])), t4.push("\n"));
              }, this.print_indentation = function(e4) {
                for (var t4 = 0; t4 < this.indent_level; t4++) e4.push(this.indent_string), this.line_char_count += this.indent_string.length;
              }, this.print_token = function(e4) {
                this.is_whitespace(e4) && !this.output.length || ((e4 || "" !== e4) && this.output.length && "\n" === this.output[this.output.length - 1] && (this.print_indentation(this.output), e4 = function t4(e5) {
                  return e5.replace(/^\s+/g, "");
                }(e4)), this.print_token_raw(e4));
              }, this.print_token_raw = function(e4) {
                0 < this.newlines && (e4 = o2(e4)), e4 && "" !== e4 && (1 < e4.length && "\n" === e4[e4.length - 1] ? (this.output.push(e4.slice(0, -1)), this.print_newline(false, this.output)) : this.output.push(e4));
                for (var t4 = 0; t4 < this.newlines; t4++) this.print_newline(0 < t4, this.output);
                this.newlines = 0;
              }, this.indent = function() {
                this.indent_level++;
              }, this.unindent = function() {
                0 < this.indent_level && this.indent_level--;
              };
            }, this;
          }()).printer(e2, m2, r3, i3, s2); ; ) {
            var p2 = a3.get_token();
            if (a3.token_text = p2[0], a3.token_type = p2[1], "TK_EOF" === a3.token_type) break;
            switch (a3.token_type) {
              case "TK_TAG_START":
                a3.print_newline(false, a3.output), a3.print_token(a3.token_text), a3.indent_content && (a3.indent(), a3.indent_content = false), a3.current_mode = "CONTENT";
                break;
              case "TK_TAG_STYLE":
              case "TK_TAG_SCRIPT":
                a3.print_newline(false, a3.output), a3.print_token(a3.token_text), a3.current_mode = "CONTENT";
                break;
              case "TK_TAG_END":
                if ("TK_CONTENT" === a3.last_token && "" === a3.last_text) {
                  var u2 = a3.token_text.match(/\w+/)[0], g2 = null;
                  a3.output.length && (g2 = a3.output[a3.output.length - 1].match(/(?:<|{{#)\/?\s*(\w+)/)), (null === g2 || g2[1] != u2 && !a3.Utils.in_array(g2[1], v2)) && a3.print_newline(false, a3.output);
                }
                a3.print_token(a3.token_text), a3.current_mode = "CONTENT";
                break;
              case "TK_TAG_SINGLE":
                var h2 = a3.token_text.match(/^\s*<([a-z-]+)/i);
                h2 && a3.Utils.in_array(h2[1], v2) || a3.print_newline(false, a3.output), a3.print_token(a3.token_text), a3.current_mode = "CONTENT";
                break;
              case "TK_TAG_HANDLEBARS_ELSE":
                a3.print_token(a3.token_text), a3.indent_content && (a3.indent(), a3.indent_content = false), a3.current_mode = "CONTENT";
                break;
              case "TK_TAG_HANDLEBARS_COMMENT":
              case "TK_CONTENT":
                a3.print_token(a3.token_text), a3.current_mode = "TAG";
                break;
              case "TK_STYLE":
              case "TK_SCRIPT":
                if ("" !== a3.token_text) {
                  a3.print_newline(false, a3.output);
                  var w = a3.token_text, y2 = void 0, A = 1;
                  "TK_SCRIPT" === a3.token_type ? y2 = x : "TK_STYLE" === a3.token_type && (y2 = L), "keep" === t2.indent_scripts ? A = 0 : "separate" === t2.indent_scripts && (A = -a3.indent_level);
                  var C = a3.get_full_indent(A);
                  if (y2) w = y2(w.replace(/^\s*/, C), t2);
                  else {
                    var T = w.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(a3.indent_string).length - 1, k = a3.get_full_indent(A - T);
                    w = w.replace(/^\s*/, C).replace(/\r\n|\r|\n/g, "\n" + k).replace(/\s+$/, "");
                  }
                  w && (a3.print_token_raw(w), a3.print_newline(true, a3.output));
                }
                a3.current_mode = "TAG";
                break;
              default:
                "" !== a3.token_text && a3.print_token(a3.token_text);
            }
            a3.last_token = a3.token_type, a3.last_text = a3.token_text;
          }
          var S = a3.output.join("").replace(/[\r\n\t ]+$/, "");
          return d2 && (S += "\n"), S;
        } };
      }, Object.assign(St.DEFAULTS, { codeMirror: window.CodeMirror, codeMirrorOptions: { lineNumbers: true, tabMode: "indent", indentWithTabs: true, lineWrapping: true, mode: "text/html", tabSize: 2 }, codeBeautifierOptions: { end_with_newline: true, indent_inner_html: true, extra_liners: ["p", "h1", "h2", "h3", "h4", "h5", "h6", "blockquote", "pre", "ul", "ol", "table", "dl"], brace_style: "expand", indent_char: "	", indent_size: 1, wrap_line_length: 0 }, codeViewKeepActiveButtons: ["fullscreen"] }), St.PLUGINS.codeView = function(c2) {
        var d2, f2, p2 = c2.$, u2 = function u3() {
          return c2.$box.hasClass("fr-code-view");
        };
        function g2() {
          return f2 ? f2.getValue() : d2.val();
        }
        function h2() {
          u2() && (f2 && f2.setSize(null, c2.opts.height ? c2.opts.height : "auto"), c2.opts.heightMin || c2.opts.height ? (c2.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height", c2.opts.heightMin || c2.opts.height), d2.css("height", c2.opts.height)) : c2.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height", ""));
        }
        var m2, v2 = false;
        function b2() {
          u2() && c2.events.trigger("blur");
        }
        function E2() {
          u2() && v2 && c2.events.trigger("focus");
        }
        function n2(e) {
          d2 || (!function l2() {
            d2 = p2('<textarea class="fr-code" tabIndex="-1">'), c2.$wp.append(d2), d2.attr("dir", c2.opts.direction), c2.$box.hasClass("fr-basic") || (m2 = p2('<a data-cmd="html" title="Code View" class="fr-command fr-btn html-switch'.concat(c2.helpers.isMobile() ? "" : " fr-desktop", '" role="button" tabIndex="-1"><i class="fa fa-code"></i></button>')), c2.$box.append(m2), c2.events.bindClick(c2.$box, "a.html-switch", function() {
              c2.events.trigger("commands.before", ["html"]), _(false), c2.events.trigger("commands.after", ["html"]);
            }));
            var e2 = function e3() {
              return !u2();
            };
            c2.events.on("buttons.refresh", e2), c2.events.on("copy", e2, true), c2.events.on("cut", e2, true), c2.events.on("paste", e2, true), c2.events.on("destroy", w, true), c2.events.on("html.set", function() {
              u2() && _(true);
            }), c2.events.on("codeView.update", h2), c2.events.on("codeView.toggle", function() {
              c2.$box.hasClass("fr-code-view") && _();
            }), c2.events.on("form.submit", function() {
              u2() && (c2.html.set(g2()), c2.events.trigger("contentChanged", [], true));
            }, true);
          }(), !f2 && c2.opts.codeMirror ? ((f2 = c2.opts.codeMirror.fromTextArea(d2.get(0), c2.opts.codeMirrorOptions)).on("blur", b2), f2.on("focus", E2)) : (c2.events.$on(d2, "keydown keyup change input", function() {
            c2.opts.height ? this.removeAttribute("rows") : (this.rows = 1, 0 === this.value.length ? this.style.height = "auto" : this.style.height = "".concat(this.scrollHeight, "px"));
          }), c2.events.$on(d2, "blur", b2), c2.events.$on(d2, "focus", E2))), c2.undo.saveStep(), c2.html.cleanEmptyTags(), c2.html.cleanWhiteTags(true), c2.core.hasFocus() && (c2.core.isEmpty() || (c2.selection.save(), c2.$el.find('.fr-marker[data-type="true"]').first().replaceWith('<span class="fr-tmp fr-sm">F</span>'), c2.$el.find('.fr-marker[data-type="false"]').last().replaceWith('<span class="fr-tmp fr-em">F</span>')));
          var t = c2.html.get(false, true);
          c2.$el.find("span.fr-tmp").remove(), c2.$box.toggleClass("fr-code-view", true);
          var a2, n3, r2 = false;
          if (c2.core.hasFocus() && (r2 = true, c2.events.disableBlur(), c2.$el.blur()), t = (t = t.replace(/<span class="fr-tmp fr-sm">F<\/span>/, "FROALA-SM")).replace(/<span class="fr-tmp fr-em">F<\/span>/, "FROALA-EM"), c2.codeBeautifier && !t.includes("fr-embedly") && (t = c2.codeBeautifier.run(t, c2.opts.codeBeautifierOptions)), f2) {
            a2 = t.indexOf("FROALA-SM"), (n3 = t.indexOf("FROALA-EM")) < a2 ? a2 = n3 : n3 -= 9;
            var i2 = (t = t.replace(/FROALA-SM/g, "").replace(/FROALA-EM/g, "")).substring(0, a2).length - t.substring(0, a2).replace(/\n/g, "").length, o2 = t.substring(0, n3).length - t.substring(0, n3).replace(/\n/g, "").length;
            a2 = t.substring(0, a2).length - t.substring(0, t.substring(0, a2).lastIndexOf("\n") + 1).length, n3 = t.substring(0, n3).length - t.substring(0, t.substring(0, n3).lastIndexOf("\n") + 1).length, f2.setSize(null, c2.opts.height ? c2.opts.height : "auto"), c2.opts.heightMin && c2.$box.find(".CodeMirror-scroll").css("min-height", c2.opts.heightMin), f2.setValue(t), v2 = !r2, f2.focus(), v2 = true, f2.setSelection({ line: i2, ch: a2 }, { line: o2, ch: n3 }), f2.refresh(), f2.clearHistory();
          } else {
            a2 = t.indexOf("FROALA-SM"), n3 = t.indexOf("FROALA-EM") - 9, c2.opts.heightMin && d2.css("min-height", c2.opts.heightMin), c2.opts.height && d2.css("height", c2.opts.height), c2.opts.heightMax && d2.css("max-height", c2.opts.height || c2.opts.heightMax), d2.val(t.replace(/FROALA-SM/g, "").replace(/FROALA-EM/g, "")).trigger("change");
            var s2 = p2(c2.o_doc).scrollTop();
            v2 = !r2, d2.focus(), v2 = true, d2.get(0).setSelectionRange(a2, n3), p2(c2.o_doc).scrollTop(s2);
          }
          c2.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(e).filter(function() {
            return c2.opts.codeViewKeepActiveButtons.indexOf(p2(this).data("cmd")) < 0;
          }).addClass("fr-disabled").attr("aria-disabled", true), e.addClass("fr-active").attr("aria-pressed", true), !c2.helpers.isMobile() && c2.opts.toolbarInline && c2.toolbar.hide();
        }
        function _(e) {
          void 0 === e && (e = !u2());
          var t = c2.$tb.find('.fr-command[data-cmd="html"]');
          e ? (c2.popups.hideAll(), n2(t)) : (c2.$box.toggleClass("fr-code-view", false), function a2(e2) {
            var t2 = g2();
            c2.html.set(t2), c2.$el.blur(), c2.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(e2).removeClass("fr-disabled").attr("aria-disabled", false), e2.removeClass("fr-active").attr("aria-pressed", false), c2.selection.setAtStart(c2.el), c2.selection.restore(), c2.placeholder.refresh(), c2.undo.saveStep();
          }(t), c2.events.trigger("codeView.update"));
        }
        function w() {
          u2() && _(false), f2 && f2.toTextArea(), d2.val("").removeData().remove(), d2 = null, m2 && (m2.remove(), m2 = null);
        }
        return { _init: function e() {
          if (c2.events.on("focus", function() {
            c2.opts.toolbarContainer && function t() {
              var e2 = c2.$tb.find('.fr-command[data-cmd="html"]');
              u2() ? (c2.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(e2).filter(function() {
                return c2.opts.codeViewKeepActiveButtons.indexOf(p2(this).data("cmd")) < 0;
              }).addClass("fr-disabled").attr("aria-disabled", false), e2.addClass("fr-active").attr("aria-pressed", false)) : (c2.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(e2).removeClass("fr-disabled").attr("aria-disabled", false), e2.removeClass("fr-active").attr("aria-pressed", false));
            }();
          }), !c2.$wp) return false;
        }, toggle: _, isActive: u2, get: g2 };
      }, St.RegisterCommand("html", { title: "Code View", undo: false, focus: false, forcedRefresh: true, toggle: true, callback: function() {
        this.codeView.toggle();
      }, plugin: "codeView" }), St.DefineIcon("html", { NAME: "code", SVG_KEY: "codeView" }), Object.assign(St.POPUP_TEMPLATES, { "textColor.picker": "[_BUTTONS_][_TEXT_COLORS_][_CUSTOM_COLOR_]", "backgroundColor.picker": "[_BUTTONS_][_BACKGROUND_COLORS_][_CUSTOM_COLOR_]" }), Object.assign(St.DEFAULTS, { colorsText: ["#61BD6D", "#1ABC9C", "#54ACD2", "#2C82C9", "#9365B8", "#475577", "#CCCCCC", "#41A85F", "#00A885", "#3D8EB9", "#2969B0", "#553982", "#28324E", "#000000", "#F7DA64", "#FBA026", "#EB6B56", "#E25041", "#A38F84", "#EFEFEF", "#FFFFFF", "#FAC51C", "#F37934", "#D14841", "#B8312F", "#7C706B", "#D1D5D8", "REMOVE"], colorsBackground: ["#61BD6D", "#1ABC9C", "#54ACD2", "#2C82C9", "#9365B8", "#475577", "#CCCCCC", "#41A85F", "#00A885", "#3D8EB9", "#2969B0", "#553982", "#28324E", "#000000", "#F7DA64", "#FBA026", "#EB6B56", "#E25041", "#A38F84", "#EFEFEF", "#FFFFFF", "#FAC51C", "#F37934", "#D14841", "#B8312F", "#7C706B", "#D1D5D8", "REMOVE"], colorsStep: 7, colorsHEXInput: true, colorsButtons: ["colorsBack", "|", "-"] }), St.PLUGINS.colors = function(m2) {
        var v2 = m2.$, s2 = '<div class="fr-color-hex-layer fr-active fr-layer" id="fr-color-hex-layer- \n  '.concat(m2.id, '"><div class="fr-input-line"><input maxlength="7" id="[ID]"\n  type="text" placeholder="').concat(m2.language.translate("HEX Color"), '" \n  tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button \n  type="button" class="fr-command fr-submit" data-cmd="[COMMAND]" tabIndex="2" role="button">\n  ').concat(m2.language.translate("OK"), "</button></div></div>");
        function l2(e) {
          for (var t = "text" === e ? m2.opts.colorsText : m2.opts.colorsBackground, a2 = '<div class="fr-color-set fr-'.concat(e, '-color fr-selected-set">'), n3 = 0; n3 < t.length; n3++) 0 !== n3 && n3 % m2.opts.colorsStep == 0 && (a2 += "<br>"), "REMOVE" !== t[n3] ? a2 += '<span class="fr-command fr-select-color" style="background:'.concat(t[n3], ';" \n        tabIndex="-1" aria-selected="false" role="button" data-cmd="apply').concat(e, 'Color" \n        data-param1="').concat(t[n3], '"><span class="fr-sr-only"> ').concat(m2.language.translate("Color")).concat(t[n3], " \n        &nbsp;&nbsp;&nbsp;</span></span>") : a2 += '<span class="fr-command fr-select-color" data-cmd="apply'.concat(e, 'Color"\n         tabIndex="-1" role="button" data-param1="REMOVE" \n         title="').concat(m2.language.translate("Clear Formatting"), '">').concat(m2.icon.create("remove"), ' \n        <span class="fr-sr-only"> ').concat(m2.language.translate("Clear Formatting"), " </span></span>");
          return "".concat(a2, "</div>");
        }
        function c2(e) {
          var t, a2 = m2.popups.get("".concat(e, "Color.picker")), n3 = v2(m2.selection.element());
          t = "background" === e ? "background-color" : "color";
          var r3 = a2.find(".fr-".concat(e, "-color .fr-select-color"));
          for (r3.find(".fr-selected-color").remove(), r3.removeClass("fr-active-item"), r3.not('[data-param1="REMOVE"]').attr("aria-selected", false); n3.get(0) !== m2.el; ) {
            if ("transparent" !== n3.css(t) && "rgba(0, 0, 0, 0)" !== n3.css(t)) {
              var i2 = a2.find(".fr-".concat(e, '-color .fr-select-color[data-param1="').concat(m2.helpers.RGBToHex(n3.css(t)), '"]'));
              i2.append('<span class="fr-selected-color" aria-hidden="true"></span>'), i2.addClass("fr-active-item").attr("aria-selected", true);
              break;
            }
            n3 = n3.parent();
          }
          !function o2(e2) {
            var t2 = m2.popups.get("".concat(e2, "Color.picker")), a3 = t2.find(".fr-".concat(e2, "-color .fr-active-item")).attr("data-param1"), n4 = t2.find(".fr-color-hex-layer input");
            a3 || (a3 = "");
            n4.length && v2(n4.val(a3).input).trigger("change");
          }(e);
        }
        function n2(e) {
          "REMOVE" !== e ? m2.format.applyStyle("background-color", m2.helpers.HEXtoRGB(e)) : m2.format.removeStyle("background-color"), m2.popups.hide("backgroundColor.picker");
        }
        function r2(e) {
          "REMOVE" !== e ? m2.format.applyStyle("color", m2.helpers.HEXtoRGB(e)) : m2.format.removeStyle("color"), m2.popups.hide("textColor.picker");
        }
        return { showColorsPopup: function d2(e) {
          var t = m2.$tb.find('.fr-command[data-cmd="'.concat(e, '"]')), a2 = m2.popups.get("".concat(e, ".picker"));
          if (a2 || (a2 = function o2(e2) {
            var t2 = "";
            m2.opts.toolbarInline && 0 < m2.opts.colorsButtons.length && (t2 += '<div class="fr-buttons fr-colors-buttons fr-tabs">\n        '.concat(m2.button.buildList(m2.opts.colorsButtons), "\n        </div>"));
            var a3, n4 = "";
            a3 = "textColor" === e2 ? (m2.opts.colorsHEXInput && (n4 = s2.replace(/\[ID\]/g, "fr-color-hex-layer-text-".concat(m2.id)).replace(/\[COMMAND\]/g, "customTextColor")), { buttons: t2, text_colors: l2("text"), custom_color: n4 }) : (m2.opts.colorsHEXInput && (n4 = s2.replace(/\[ID\]/g, "fr-color-hex-layer-background-".concat(m2.id)).replace(/\[COMMAND\]/g, "customBackgroundColor")), { buttons: t2, background_colors: l2("background"), custom_color: n4 });
            var r4 = m2.popups.create("".concat(e2, ".picker"), a3);
            return function i3(g2, h2) {
              m2.events.on("popup.tab", function(e3) {
                var t3 = v2(e3.currentTarget);
                if (!m2.popups.isVisible(h2) || !t3.is("span")) return true;
                var a4 = e3.which, n5 = true;
                if (St.KEYCODE.TAB === a4) {
                  var r5 = g2.find(".fr-buttons");
                  n5 = !m2.accessibility.focusToolbar(r5, !!e3.shiftKey);
                } else if (St.KEYCODE.ARROW_UP === a4 || St.KEYCODE.ARROW_DOWN === a4 || St.KEYCODE.ARROW_LEFT === a4 || St.KEYCODE.ARROW_RIGHT === a4) {
                  if (t3.is("span.fr-select-color")) {
                    var i4 = t3.parent().find("span.fr-select-color"), o3 = i4.index(t3), s3 = m2.opts.colorsStep, l3 = Math.floor(i4.length / s3), c3 = o3 % s3, d3 = Math.floor(o3 / s3), f2 = d3 * s3 + c3, p2 = l3 * s3;
                    St.KEYCODE.ARROW_UP === a4 ? f2 = ((f2 - s3) % p2 + p2) % p2 : St.KEYCODE.ARROW_DOWN === a4 ? f2 = (f2 + s3) % p2 : St.KEYCODE.ARROW_LEFT === a4 ? f2 = ((f2 - 1) % p2 + p2) % p2 : St.KEYCODE.ARROW_RIGHT === a4 && (f2 = (f2 + 1) % p2);
                    var u2 = v2(i4.get(f2));
                    m2.events.disableBlur(), u2.focus(), n5 = false;
                  }
                } else St.KEYCODE.ENTER === a4 && (m2.button.exec(t3), n5 = false);
                return false === n5 && (e3.preventDefault(), e3.stopPropagation()), n5;
              }, true);
            }(r4, "".concat(e2, ".picker")), r4;
          }(e)), !a2.hasClass("fr-active")) if (m2.popups.setContainer("".concat(e, ".picker"), m2.$tb), c2("textColor" === e ? "text" : "background"), t.isVisible()) {
            var n3 = m2.button.getPosition(t), r3 = n3.left, i2 = n3.top;
            m2.popups.show("".concat(e, ".picker"), r3, i2, t.outerHeight());
          } else m2.position.forSelection(a2), m2.popups.show("".concat(e, ".picker"));
        }, background: n2, customColor: function i2(e) {
          var t = m2.popups.get("".concat(e, "Color.picker")).find(".fr-color-hex-layer input");
          if (t.length) {
            var a2 = t.val();
            "background" === e ? n2(a2) : r2(a2);
          }
        }, text: r2, back: function e() {
          m2.popups.hide("textColor.picker"), m2.popups.hide("backgroundColor.picker"), m2.toolbar.showInline();
        } };
      }, St.DefineIcon("textColor", { NAME: "tint", SVG_KEY: "textColor" }), St.RegisterCommand("textColor", { title: "Text Color", undo: false, focus: true, refreshOnCallback: false, popup: true, callback: function() {
        this.popups.isVisible("textColor.picker") ? (this.$el.find(".fr-marker").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide("textColor.picker")) : this.colors.showColorsPopup("textColor");
      } }), St.RegisterCommand("applytextColor", { undo: true, callback: function(e, t) {
        this.colors.text(t);
      } }), St.RegisterCommand("customTextColor", { title: "OK", undo: true, callback: function() {
        this.colors.customColor("text");
      } }), St.DefineIcon("backgroundColor", { NAME: "paint-brush", SVG_KEY: "backgroundColor" }), St.RegisterCommand("backgroundColor", { title: "Background Color", undo: false, focus: true, refreshOnCallback: false, popup: true, callback: function() {
        this.popups.isVisible("backgroundColor.picker") ? (this.$el.find(".fr-marker").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide("backgroundColor.picker")) : this.colors.showColorsPopup("backgroundColor");
      } }), St.RegisterCommand("applybackgroundColor", { undo: true, callback: function(e, t) {
        this.colors.background(t);
      } }), St.RegisterCommand("customBackgroundColor", { title: "OK", undo: true, callback: function() {
        this.colors.customColor("background");
      } }), St.DefineIcon("colorsBack", { NAME: "arrow-left", SVG_KEY: "back" }), St.RegisterCommand("colorsBack", { title: "Back", undo: false, focus: false, back: true, refreshAfterCallback: false, callback: function() {
        this.colors.back();
      } }), St.DefineIcon("remove", { NAME: "eraser", SVG_KEY: "remove" }), Object.assign(St.DEFAULTS, { dragInline: true }), St.PLUGINS.draggable = function(d2) {
        var f2 = d2.$;
        function e(e2) {
          return !(!e2.originalEvent || !e2.originalEvent.target || e2.originalEvent.target.nodeType !== Node.TEXT_NODE) || (e2.target && "A" === e2.target.tagName && 1 === e2.target.childNodes.length && "IMG" === e2.target.childNodes[0].tagName && (e2.target = e2.target.childNodes[0]), f2(e2.target).hasClass("fr-draggable") ? (d2.undo.canDo() || d2.undo.saveStep(), d2.opts.dragInline ? d2.$el.attr("contenteditable", true) : d2.$el.attr("contenteditable", false), d2.opts.toolbarInline && d2.toolbar.hide(), f2(e2.target).addClass("fr-dragging"), d2.browser.msie || d2.browser.edge || d2.selection.clear(), void e2.originalEvent.dataTransfer.setData("text", "Froala")) : (e2.preventDefault(), false));
        }
        var p2, u2 = function u3(e2) {
          return !(e2 && ("HTML" === e2.tagName || "BODY" === e2.tagName || d2.node.isElement(e2)));
        };
        function g2(e2, t2, a3) {
          if (d2.opts.iframe) {
            var n3 = d2.helpers.getPX(d2.$wp.find(".fr-iframe").css("padding-top")), r3 = d2.helpers.getPX(d2.$wp.find(".fr-iframe").css("padding-left"));
            e2 += d2.$iframe.offset().top + n3, t2 += d2.$iframe.offset().left + r3;
          }
          p2.offset().top !== e2 && p2.css("top", e2), p2.offset().left !== t2 && p2.css("left", t2), p2.width() !== a3 && p2.css("width", a3);
        }
        function t(e2) {
          e2.originalEvent.dataTransfer.dropEffect = "move", d2.opts.dragInline ? (!function a3() {
            for (var e3 = null, t2 = 0; t2 < St.INSTANCES.length; t2++) if ((e3 = St.INSTANCES[t2].$el.find(".fr-dragging")).length) return e3.get(0);
          }() || d2.browser.msie || d2.browser.edge) && e2.preventDefault() : (e2.preventDefault(), function c2(e3) {
            var t2 = d2.doc.elementFromPoint(e3.originalEvent.pageX - d2.win.pageXOffset, e3.originalEvent.pageY - d2.win.pageYOffset);
            if (!u2(t2)) {
              for (var a3 = 0, n3 = t2; !u2(n3) && n3 === t2 && 0 < e3.originalEvent.pageY - d2.win.pageYOffset - a3; ) a3++, n3 = d2.doc.elementFromPoint(e3.originalEvent.pageX - d2.win.pageXOffset, e3.originalEvent.pageY - d2.win.pageYOffset - a3);
              (!u2(n3) || p2 && 0 === d2.$el.find(n3).length && n3 !== p2.get(0)) && (n3 = null);
              for (var r3 = 0, i3 = t2; !u2(i3) && i3 === t2 && e3.originalEvent.pageY - d2.win.pageYOffset + r3 < f2(d2.doc).height(); ) r3++, i3 = d2.doc.elementFromPoint(e3.originalEvent.pageX - d2.win.pageXOffset, e3.originalEvent.pageY - d2.win.pageYOffset + r3);
              (!u2(i3) || p2 && 0 === d2.$el.find(i3).length && i3 !== p2.get(0)) && (i3 = null), t2 = null === i3 && n3 ? n3 : i3 && null === n3 ? i3 : i3 && n3 ? a3 < r3 ? n3 : i3 : null;
            }
            if (f2(t2).hasClass("fr-drag-helper")) return false;
            if (t2 && !d2.node.isBlock(t2) && (t2 = d2.node.blockParent(t2)), t2 && 0 <= ["TD", "TH", "TR", "THEAD", "TBODY"].indexOf(t2.tagName) && (t2 = f2(t2).parents("table").get(0)), t2 && 0 <= ["LI"].indexOf(t2.tagName) && (t2 = f2(t2).parents("UL, OL").get(0)), t2 && !f2(t2).hasClass("fr-drag-helper")) {
              var o2;
              p2 || (St.$draggable_helper || (St.$draggable_helper = f2(document.createElement("div")).attr("class", "fr-drag-helper")), p2 = St.$draggable_helper, d2.events.on("shared.destroy", function() {
                p2.html("").removeData().remove(), p2 = null;
              }, true)), o2 = e3.originalEvent.pageY < f2(t2).offset().top + f2(t2).outerHeight() / 2;
              var s2 = f2(t2), l2 = 0;
              o2 || 0 !== s2.next().length ? (o2 || (s2 = s2.next()), "before" === p2.data("fr-position") && s2.is(p2.data("fr-tag")) || (0 < s2.prev().length && (l2 = parseFloat(s2.prev().css("margin-bottom")) || 0), l2 = Math.max(l2, parseFloat(s2.css("margin-top")) || 0), g2(s2.offset().top - l2 / 2 - d2.$box.offset().top, s2.offset().left - d2.win.pageXOffset - d2.$box.offset().left, s2.width()), p2.data("fr-position", "before"))) : "after" === p2.data("fr-position") && s2.is(p2.data("fr-tag")) || (l2 = parseFloat(s2.css("margin-bottom")) || 0, g2(s2.offset().top + f2(t2).height() + l2 / 2 - d2.$box.offset().top, s2.offset().left - d2.win.pageXOffset - d2.$box.offset().left, s2.width()), p2.data("fr-position", "after")), p2.data("fr-tag", s2), p2.addClass("fr-visible"), d2.$box.append(p2);
            } else p2 && 0 < d2.$box.find(p2).length && p2.removeClass("fr-visible");
          }(e2));
        }
        function a2(e2) {
          e2.originalEvent.dataTransfer.dropEffect = "move", d2.opts.dragInline || e2.preventDefault();
        }
        function n2(e2) {
          d2.$el.attr("contenteditable", true);
          var t2 = d2.$el.find(".fr-dragging");
          p2 && p2.hasClass("fr-visible") && d2.$box.find(p2).length ? r2(e2) : t2.length && (e2.preventDefault(), e2.stopPropagation()), p2 && d2.$box.find(p2).length && p2.removeClass("fr-visible"), t2.removeClass("fr-dragging");
        }
        function r2(e2) {
          var t2, a3;
          d2.$el.attr("contenteditable", true);
          for (var n3 = 0; n3 < St.INSTANCES.length; n3++) if ((t2 = St.INSTANCES[n3].$el.find(".fr-dragging")).length) {
            a3 = St.INSTANCES[n3];
            break;
          }
          if (t2.length) {
            if (e2.preventDefault(), e2.stopPropagation(), p2 && p2.hasClass("fr-visible") && d2.$box.find(p2).length) p2.data("fr-tag")[p2.data("fr-position")]('<span class="fr-marker"></span>'), p2.removeClass("fr-visible");
            else if (false === d2.markers.insertAtPoint(e2.originalEvent)) return false;
            if (t2.removeClass("fr-dragging"), false === (t2 = d2.events.chainTrigger("element.beforeDrop", t2))) return false;
            var r3 = t2;
            if (t2.parent().is("A") && 1 === t2.parent().get(0).childNodes.length && (r3 = t2.parent()), d2.core.isEmpty()) d2.events.focus();
            else d2.$el.find(".fr-marker").replaceWith(St.MARKERS), d2.selection.restore();
            if (a3 === d2 || d2.undo.canDo() || d2.undo.saveStep(), d2.core.isEmpty()) d2.$el.html(r3);
            else {
              var i3 = d2.markers.insert();
              (d2 || "").selection && r3.contains(i3) && r3.before(i3), 0 === r3.find(i3).length ? f2(i3).replaceWith(r3) : 0 === t2.find(i3).length && f2(i3).replaceWith(t2), t2.after(St.MARKERS), d2.selection.restore();
            }
            return d2.popups.hideAll(), d2.selection.save(), d2.$el.find(d2.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").not(d2.opts.htmlAllowedEmptyTags.join(",")).remove(), d2.html.wrap(), d2.html.fillEmptyBlocks(), d2.selection.restore(), d2.undo.saveStep(), d2.opts.iframe && d2.size.syncIframe(), a3 !== d2 && (a3.popups.hideAll(), a3.$el.find(a3.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").remove(), a3.html.wrap(), a3.html.fillEmptyBlocks(), a3.undo.saveStep(), a3.events.trigger("element.dropped"), a3.opts.iframe && a3.size.syncIframe()), d2.events.trigger("element.dropped", [r3]), false;
          }
          p2 && p2.removeClass("fr-visible"), d2.undo.canDo() || d2.undo.saveStep(), setTimeout(function() {
            d2.undo.saveStep();
          }, 0);
        }
        function i2(e2) {
          if (e2 && "DIV" === e2.tagName && d2.node.hasClass(e2, "fr-drag-helper")) e2.parentNode.removeChild(e2);
          else if (e2 && e2.nodeType === Node.ELEMENT_NODE) for (var t2 = e2.querySelectorAll("div.fr-drag-helper"), a3 = 0; a3 < t2.length; a3++) t2[a3].parentNode.removeChild(t2[a3]);
        }
        return { _init: function o2() {
          d2.opts.enter === St.ENTER_BR && (d2.opts.dragInline = true), d2.events.on("dragstart", e, true), d2.events.on("dragover", t, true), d2.events.on("dragenter", a2, true), d2.events.on("document.dragend", n2, true), d2.events.on("document.drop", n2, true), d2.events.on("drop", r2, true), d2.events.on("html.processGet", i2);
        } };
      }, Object.assign(St.DEFAULTS, { editInPopup: false }), St.MODULES.editInPopup = function(n2) {
        function e() {
          n2.events.$on(n2.$el, n2._mouseup, function() {
            setTimeout(function() {
              !function a2() {
                var e2, t = n2.popups.get("text.edit");
                e2 = "INPUT" === n2.el.tagName ? n2.$el.attr("placeholder") : n2.$el.text(), t.find("input").val(e2).trigger("change"), n2.popups.setContainer("text.edit", n2.$sc), n2.popups.show("text.edit", n2.$el.offset().left + n2.$el.outerWidth() / 2, n2.$el.offset().top + n2.$el.outerHeight(), n2.$el.outerHeight());
              }();
            }, 10);
          });
        }
        return { _init: function a2() {
          n2.opts.editInPopup && (!function t() {
            var e2 = { edit: '<div id="fr-text-edit-'.concat(n2.id, '" class="fr-layer fr-text-edit-layer"><div class="fr-input-line"><input type="text" placeholder="').concat(n2.language.translate("Text"), '" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="updateText" tabIndex="2">').concat(n2.language.translate("Update"), "</button></div></div>") };
            n2.popups.create("text.edit", e2);
          }(), e());
        }, update: function t() {
          var e2 = n2.popups.get("text.edit").find("input").val();
          0 === e2.length && (e2 = n2.opts.placeholderText), "INPUT" === n2.el.tagName ? n2.$el.attr("placeholder", e2) : n2.$el.text(e2), n2.events.trigger("contentChanged"), n2.popups.hide("text.edit");
        } };
      }, St.RegisterCommand("updateText", { focus: false, undo: false, callback: function() {
        this.editInPopup.update();
      } }), Object.assign(St.POPUP_TEMPLATES, { emoticons: "[_BUTTONS_][_CUSTOM_LAYER_]" }), Object.assign(St.DEFAULTS, { emoticonsSet: [{ id: "people", name: "Smileys & People", code: "1f600", emoticons: [{ code: "1f600", desc: "Grinning face" }, { code: "1f601", desc: "Grinning Face with Smiling Eyes" }, { code: "1f602", desc: "Face with Tears of Joy" }, { code: "1f603", desc: "Smiling Face with Open Mouth" }, { code: "1f604", desc: "Smiling Face with Open Mouth and Smiling Eyes" }, { code: "1f605", desc: "Smiling Face with Open Mouth and Cold Sweat" }, { code: "1f606", desc: "Smiling Face with Open Mouth and Tightly-Closed Eyes" }, { code: "1f609", desc: "Winking Face" }, { code: "1f60a", desc: "Smiling Face with Smiling Eyes" }, { code: "1f608", desc: "Face Savouring Delicious Food" }, { code: "1f60e", desc: "Smiling Face with Sunglasses" }, { code: "1f60d", desc: "Smiling Face with Heart-Shaped Eyes" }, { code: "1f618", desc: "Face Throwing a Kiss" }, { code: "1f617", desc: "Kissing Face" }, { code: "1f619", desc: "Kissing Face with Smiling Eyes" }, { code: "1f61a", desc: "Kissing Face with Closed Eyes" }, { code: "263a", desc: "White Smiling Face" }, { code: "1f642", desc: "Slightly Smiling Face" }, { code: "1f610", desc: "Neutral Face" }, { code: "1f611", desc: "Expressionless Face" }, { code: "1f636", desc: "Face Without Mouth" }, { code: "1f60f", desc: "Smirking Face" }, { code: "1f623", desc: "Persevering Face" }, { code: "1f625", desc: "Disappointed but Relieved Face" }, { code: "1f62e", desc: "Face with Open Mouth" }, { code: "1f62f", desc: "Hushed Face" }, { code: "1f62a", desc: "Sleepy Face" }, { code: "1f62b", desc: "Tired Face" }, { code: "1f634", desc: "Sleeping Face" }, { code: "1f60c", desc: "Relieved Face" }, { code: "1f61b", desc: "Face with Stuck-out Tongue" }, { code: "1f61c", desc: "Face with Stuck-out Tongue and Winking Eye" }, { code: "1f61d", desc: "Face with Stuck-out Tongue and Tightly-Closed Eyes" }, { code: "1f612", desc: "Unamused Face" }, { code: "1f613", desc: "Face with Cold Sweat" }, { code: "1f613", desc: "Face with Cold Sweat" }, { code: "1f614", desc: "Pensive Face" }, { code: "1f615", desc: "Confused Face" }, { code: "1f632", desc: "Astonished  Face" }, { code: "1f616", desc: "Confounded Face" }, { code: "1f61e", desc: "Disappointed Face" }, { code: "1f61f", desc: "Worried Face" }, { code: "1f624", desc: "Face with Look of Triumph" }, { code: "1f622", desc: "Crying Face" }, { code: "1f62d", desc: "Loudly Crying Face" }, { code: "1f626", desc: "Frowning Face with Open Mouth" }, { code: "1f627", desc: "Anguished Face" }, { code: "1f628", desc: "Fearful Face" }, { code: "1f629", desc: "Weary Face" }, { code: "1f62c", desc: "Grimacing Face" }, { code: "1f630", desc: "Face with Open Mouth and Cold Sweat" }, { code: "1f631", desc: "Face Screaming in Fear" }, { code: "1f633", desc: "Flushed Face" }, { code: "1f635", desc: "Dizzy Face" }, { code: "1f621", desc: "Pouting Face" }, { code: "1f620", desc: "Angry Face" }, { code: "1f637", desc: "Face with Medical Mask" }, { code: "1f607", desc: "Smiling Face with Halo" }, { code: "1f608", desc: "Smiling Face with Horns" }, { code: "1f47f", desc: "Imp" }, { code: "1f479", desc: "Japanese Ogre" }, { code: "1f47a", desc: "Japanese Goblin" }, { code: "1f480", desc: "Skull" }, { code: "1f47b", desc: "Ghost" }, { code: "1f47d", desc: "Extraterrestrial Alien" }, { code: "1f47e", desc: "Alien Monster" }, { code: "1f4a9", desc: "Pile of Poo" }, { code: "1f63a", desc: "Smiling Cat Face with Open Mouth" }, { code: "1f638", desc: "Grinning Cat Face with Smiling Eyes" }, { code: "1f639", desc: "Cat Face with Tears of Joy" }, { code: "1f63b", desc: "Smiling Cat Face with Heart-Shaped Eyes" }, { code: "1f63c", desc: "Cat Face with Wry Smile" }, { code: "1f63d", desc: "Kissing Cat Face with Closed Eyes" }, { code: "1f640", desc: "Weary Cat Face" }, { code: "1f63f", desc: "Crying Cat Face" }, { code: "1f63e", desc: "Pouting Cat Face" }, { code: "1f648", desc: "See-No-Evil Monkey" }, { code: "1f649", desc: "Hear-No-Evil Monkey" }, { code: "1f64a", desc: "Speak-No-Evil Monkey" }, { code: "1f476", desc: "Baby" }, { code: "1f466", desc: "Boy" }, { code: "1f467", desc: "Girl" }, { code: "1f468", desc: "Man" }, { code: "1f469", desc: "Woman" }, { code: "1f474", desc: "Older Man" }, { code: "1f475", desc: "Older Woman" }, { code: "1f46e", desc: "Police Officer" }, { code: "1f482", desc: " Guardsman" }, { code: "1f477", desc: " Construction Worker" }, { code: "1f478", desc: "Princess" }, { code: "1f473", desc: "Man with Turban" }, { code: "1f472", desc: "Man with Gua Pi Mao" }, { code: "1f471", desc: "Person with Blond Hair" }, { code: "1f470", desc: "Bride with Veil" }, { code: "1f47c", desc: "Baby Angel" }, { code: "1f385", desc: "Father Christmas" }, { code: "1f64e", desc: "Person with Pouting Face" }, { code: "1f645", desc: "Face with No Good Gesture" }, { code: "1f646", desc: "Face with Ok Gesture" }, { code: "1f481", desc: "Information Desk Person" }, { code: "1f64b", desc: "Happy Person Raising One Hand" }, { code: "1f647", desc: "Person Bowing Deeply" }, { code: "1f486", desc: "Face Massage" }, { code: "1f487", desc: "Haircut" }, { code: "1f6b6", desc: "Pedestrian" }, { code: "1f3c3", desc: "Runner" }, { code: "1f483", desc: "Dancer" }, { code: "1f46f", desc: "Woman with Bunny Ears" }, { code: "1f6c0", desc: "Bath" }, { code: "1f464", desc: "Bust in Silhouette" }, { code: "1f465", desc: "Busts in Silhouette" }, { code: "1f3c7", desc: "Horse Racing" }, { code: "1f3c2", desc: " Snowboarder" }, { code: "1f3c4", desc: " Surfer" }, { code: "1f6a3", desc: " Rowboat" }, { code: "1f3ca", desc: " Swimmer" }, { code: "1f6b4", desc: " Bicyclist" }, { code: "1f6b5", desc: "Mountain Bicyclist" }, { code: "1f46b", desc: " Man and Woman Holding Hands" }, { code: "1f46c", desc: "Two Men Holding Hands" }, { code: "1f46d", desc: "Two Women Holding Hands" }, { code: "1f48f", desc: "Kiss" }, { code: "1f468-2764-1f48b-1f468", uCode: "👨‍❤️‍💋‍👨", desc: "Man Kiss Man" }, { code: "1f469-2764-1f48b-1f469", uCode: "👩‍❤️‍👩", desc: "Woman Kiss Woman" }, { code: "1f491", desc: "Couple with Heart" }, { code: "1f468-2764-1f468", uCode: "👨‍❤️‍👨", desc: "Man Heart Man" }, { code: "1f469-2764-1f469", uCode: "👩‍❤️‍👩", desc: "Woman Heart Woman" }, { code: "1f46a", desc: "Family" }, { code: "1f468", desc: "Man Woman Boy" }, { code: "1f468-1f469-1f467", desc: "Man Woman Girl" }, { code: "1f468-1f469-1f467-1f466", desc: "Man Woman Girl Boy" }, { code: "1f468-1f469-1f466-1f466", desc: "Man Woman Boy Boy" }, { code: "1f468-1f469-1f467-1f467", desc: "Man Woman Girl Girl" }, { code: "1f468-1f468-1f466", desc: "Man Man Boy" }, { code: "1f468-1f468-1f467", desc: "Man Man Girl" }, { code: "1f468-1f468-1f467-1f466", desc: "Man Man Girl Boy" }, { code: "1f468-1f468-1f466-1f466", desc: "Man Man Boy Boy" }, { code: "1f469-1f469-1f466", desc: "Woman Woman Boy" }, { code: "1f469-1f469-1f467", desc: "Woman Woman Girl" }, { code: "1f469-1f469-1f467-1f466", desc: "Woman Woman Girl Boy" }, { code: "1f469-1f469-1f467-1f467", desc: "Woman Woman Girl Girl" }, { code: "1f4aa", desc: "Flexed Biceps" }, { code: "1f448", desc: "White Left Pointing Backhand Index" }, { code: "1f449", desc: "White Right Pointing Backhand Index" }, { code: "1f446", desc: "White Up Pointing Backhand Index" }, { code: "1f447", desc: "White Down Pointing Backhand Index" }, { code: "270c", desc: "Victory Hand" }, { code: "270b", desc: "Raised Hand" }, { code: "1f44c", desc: "Ok Hand Sign" }, { code: "1f44d", desc: "Thumbs Up Sign" }, { code: "1f44e", desc: "Thumbs Down Sign" }, { code: "270a", desc: "Raised Fist" }, { code: "1f44a", desc: "Fisted Hand Sign" }, { code: "1f44b", desc: "Waving Hand Sign" }, { code: "1f44f", desc: "Clapping Hands Sign" }, { code: "1f450", desc: "Open  Hands Sign" }, { code: "1f64c", desc: "Person Raising Both Hands in Celebration" }, { code: "1f64f", desc: "Person with Folded Hands" }, { code: "1f485", desc: "Nail Polish" }, { code: "1f442", desc: "Ear" }, { code: "1f443", desc: "Nose" }, { code: "1f463", desc: "Footprints" }, { code: "1f440", desc: "Eyes" }, { code: "1f445", desc: "Tongue" }, { code: "1f444", desc: "Mouth" }, { code: "1f48b", desc: "Kiss Mark" }, { code: "1f498", desc: "Heart with Arrow" }, { code: "2764", desc: "Heavy Black Heart" }, { code: "1f493", desc: "Heavy Black Heart" }, { code: "1f494", desc: "Broken Heart" }, { code: "1f495", desc: "Two Hearts" }, { code: "1f496", desc: "Sparkling Hearts" }, { code: "1f497", desc: "Growing Hearts" }, { code: "1f499", desc: "Blue Heart" }, { code: "1f49a", desc: "Green Heart" }, { code: "1f49b", desc: "Yellow Heart" }, { code: "1f49c", desc: "Purple Heart" }, { code: "1f49d", desc: "Heart with Ribbon" }, { code: "1f49e", desc: "Revolving Hearts" }, { code: "1f49f", desc: "Heart Decoration" }, { code: "1f48c", desc: "Love Letter" }, { code: "1f4a4", desc: "Sleeping Symbol" }, { code: "1f4a2", desc: "Anger Symbol" }, { code: "1f4a3", desc: "Bomb" }, { code: "1f4a5", desc: "Collision Symbol" }, { code: "1f4a6", desc: "Splashing Sweat Symbol" }, { code: "1f4a8", desc: "Dash Symbol" }, { code: "1f4ab", desc: "Dizzy Symbol" }, { code: "1f4ab", desc: "Dizzy Symbol" }, { code: "1f4ac", desc: "Speech Balloon" }, { code: "1f4ad", desc: "Thought Balloon" }, { code: "1f453", desc: "Eyeglasses" }, { code: "1f454", desc: "Necktie" }, { code: "1f455", desc: "T-Shirt" }, { code: "1f456", desc: "Jeans" }, { code: "1f457", desc: "Dress" }, { code: "1f458", desc: "Kimono" }, { code: "1f459", desc: "Bikini" }, { code: "1f45a", desc: "Womans Clothes" }, { code: "1f45b", desc: "Purse" }, { code: "1f45c", desc: "Handbag" }, { code: "1f45d", desc: "Pouch" }, { code: "1f392", desc: "School Satchel" }, { code: "1f45e", desc: "Mans Shoe" }, { code: "1f45f", desc: "Athletic Shoe" }, { code: "1f460", desc: "High-Heeled Shoe" }, { code: "1f461", desc: "Womans Sandal" }, { code: "1f462", desc: "Womans Boots" }, { code: "1f451", desc: "Crown" }, { code: "1f452", desc: "Womans Hat" }, { code: "1f462", desc: "Top Hat" }, { code: "1f393", desc: "Graduation Cap" }, { code: "1f484", desc: "Lipstick" }, { code: "1f48d", desc: "Ring" }, { code: "1f48e", desc: "Gem Stone" }] }, { id: "nature", name: "Animals & Nature", code: "1F435", emoticons: [{ code: "1F435", desc: "Monkey Face" }, { code: "1F412", desc: "Monkey" }, { code: "1F436", desc: "Dog Face" }, { code: "1F415", desc: "Dog" }, { code: "1F429", desc: "Poodle" }, { code: "1F43A", desc: "Wolf Face" }, { code: "1F431", desc: "Cat Face" }, { code: "1F408", desc: "Cat" }, { code: "1F42F", desc: "Tiger Face" }, { code: "1F405", desc: "Tiger" }, { code: "1F406", desc: "Leopard" }, { code: "1F434", desc: "Horse Face" }, { code: "1F40E", desc: "Horse" }, { code: "1F42E", desc: "Cow Face" }, { code: "1F402", desc: "Ox" }, { code: "1F403", desc: "Water Buffalo" }, { code: "1F404", desc: "Cow" }, { code: "1F437", desc: "Pig Face" }, { code: "1F416", desc: "Pig" }, { code: "1F417", desc: "Boar" }, { code: "1F43D", desc: "Pig Nose" }, { code: "1F40F", desc: "Ram" }, { code: "1F411", desc: "Sheep" }, { code: "1F410", desc: "Goat" }, { code: "1F42A", desc: "Dromedary Camel" }, { code: "1F42B", desc: "Bactrian Camel" }, { code: "1F418", desc: "Elephant" }, { code: "1F42D", desc: "Mouse Face" }, { code: "1F401", desc: "Mouse" }, { code: "1F400", desc: "Rat" }, { code: "1F439", desc: "Hamster Face" }, { code: "1F430", desc: "Rabbit Face" }, { code: "1F407", desc: "Rabbit" }, { code: "1F43B", desc: "Bear Face" }, { code: "1F428", desc: "Koala" }, { code: "1F43C", desc: "Panda Face" }, { code: "1F43E", desc: "Paw Prints" }, { code: "1F414", desc: "Chicken" }, { code: "1F413", desc: "Rooster" }, { code: "1F423", desc: "Hatching Chick" }, { code: "1F424", desc: "Baby Chick" }, { code: "1F425", desc: "Front-Facing Baby Chick" }, { code: "1F426", desc: "Bird" }, { code: "1F427", desc: "Penguin" }, { code: "1F438", desc: "Frog Face" }, { code: "1F40A", desc: "Crocodile" }, { code: "1F422", desc: "Turtle" }, { code: "1F40D", desc: "Snake" }, { code: "1F432", desc: "Dragon Face" }, { code: "1F409", desc: "Dragon" }, { code: "1F433", desc: "Spouting Whale" }, { code: "1F40B", desc: "Whale" }, { code: "1F42C", desc: "Dolphin" }, { code: "1F41F", desc: "Fish" }, { code: "1F420", desc: "Tropical Fish" }, { code: "1F421", desc: "Blowfish" }, { code: "1F419", desc: "Octopus" }, { code: "1F41A", desc: "Spiral Shell" }, { code: "1F40C", desc: "Snail" }, { code: "1F41B", desc: "Bug" }, { code: "1F41C", desc: "Ant" }, { code: "1F41D", desc: "Honeybee" }, { code: "1F41E", desc: "Lady Beetle" }, { code: "1F490", desc: "Bouquet" }, { code: "1F338", desc: "Cherry Blossom" }, { code: "1F4AE", desc: "White Flower" }, { code: "1F339", desc: "Rose" }, { code: "1F33A", desc: "Hibiscus" }, { code: "1F33B", desc: "Sunflower" }, { code: "1F33C", desc: "Blossom" }, { code: "1F337", desc: "Tulip" }, { code: "1F331", desc: "Seedling" }, { code: "1F332", desc: "Evergreen Tree" }, { code: "1F333", desc: "Deciduous Tree" }, { code: "1F334", desc: "Palm Tree" }, { code: "1F335", desc: "Cactus" }, { code: "1F33E", desc: "Ear of Rice" }, { code: "1F33F", desc: "Herb" }, { code: "2618", desc: "Four Leaf Clover" }, { code: "1F341", desc: "Maple Leaf" }, { code: "1F342", desc: "Fallen Leaf" }, { code: "1F343", desc: "Leaf Fluttering in Wind" }] }, { id: "foods", name: "Food & Drink", code: "1F347", emoticons: [{ code: "1F347", desc: "Grapes" }, { code: "1F348", desc: "Melon" }, { code: "1F349", desc: "Watermelon" }, { code: "1F34A", desc: "Tangerine" }, { code: "1F34B", desc: "Lemon" }, { code: "1F34C", desc: "Banana" }, { code: "1F34D", desc: "Pineapple" }, { code: "1F34E", desc: "Red Apple" }, { code: "1F34F", desc: "Green Apple" }, { code: "1F350", desc: "Pear" }, { code: "1F351", desc: "Peach" }, { code: "1F352", desc: "Cherries" }, { code: "1F353", desc: "Strawberry" }, { code: "1F345", desc: "Tomato" }, { code: "1F346", desc: "Aubergine" }, { code: "1F33D", desc: "Ear of Maize" }, { code: "1F344", desc: "Mushroom" }, { code: "1F330", desc: "Chestnut" }, { code: "1F35E", desc: "Bread" }, { code: "1F356", desc: "Meat on Bone" }, { code: "1F357", desc: "Poultry Leg" }, { code: "1F354", desc: "Hamburger" }, { code: "1F35F", desc: "French Fries" }, { code: "1F355", desc: "Slice of Pizza" }, { code: "1F373", desc: "Cooking" }, { code: "1F372", desc: "Pot of Food" }, { code: "1F371", desc: "Bento Box" }, { code: "1F358", desc: "Rice Cracker" }, { code: "1F359", desc: "Rice Ball" }, { code: "1F35A", desc: "Cooked Rice" }, { code: "1F35B", desc: "Curry and Rice" }, { code: "1F35C", desc: "Steaming Bowl" }, { code: "1F35D", desc: "Spaghetti" }, { code: "1F360", desc: "Roasted Sweet Potato" }, { code: "1F362", desc: "Oden" }, { code: "1F363", desc: "Sushi" }, { code: "1F364", desc: "Fried Shrimp" }, { code: "1F365", desc: "Fish Cake with Swirl Design" }, { code: "1F361", desc: "Dango" }, { code: "1F366", desc: "Soft Ice Cream" }, { code: "1F367", desc: "Shaved Ice" }, { code: "1F368", desc: "Ice Cream" }, { code: "1F369", desc: "Doughnut" }, { code: "1F36A", desc: "Cookie" }, { code: "1F382", desc: "Birthday Cake" }, { code: "1F370", desc: "Shortcake" }, { code: "1F36B", desc: "Chocolate Bar" }, { code: "1F36C", desc: "Candy" }, { code: "1F36D", desc: "Lollipop" }, { code: "1F36E", desc: "Custard" }, { code: "1F36F", desc: "Honey Pot" }, { code: "1F37C", desc: "Baby Bottle" }, { code: "2615", desc: "Hot Beverage" }, { code: "1F375", desc: "Teacup Without Handle" }, { code: "1F376", desc: "Sake Bottle and Cup" }, { code: "1F377", desc: "Wine Glass" }, { code: "1F378", desc: "Cocktail Glass" }, { code: "1F379", desc: "Tropical Drink" }, { code: "1F37A", desc: "Beer Mug" }, { code: "1F37B", desc: "Clinking Beer Mugs" }, { code: "1F374", desc: "Fork and Knife" }, { code: "1F52A", desc: "Hocho" }] }, { id: "activity", name: "Activities", code: "1f383", emoticons: [{ code: "1f383", desc: " Jack-O-Lantern" }, { code: "1f384", desc: "Christmas Tree" }, { code: "1f386", desc: " Fireworks" }, { code: "1f387", desc: "Firework Sparkler" }, { code: "2728", desc: " Sparkles" }, { code: "1f388", desc: "Balloon" }, { code: "1f389", desc: "Party Popper" }, { code: "1f38a", desc: "Confetti Ball" }, { code: "1f38b", desc: "Tanabata Tree" }, { code: "1f38d", desc: "Pine Decoration" }, { code: "1f38e", desc: "Japanese Dolls" }, { code: "1f38f", desc: "Carp Streamer" }, { code: "1f390", desc: "Wind Chime" }, { code: "1f391", desc: "Moon Viewing Ceremony" }, { code: "1f380", desc: "Ribbon" }, { code: "1f381", desc: "Wrapped Present" }, { code: "1f3ab", desc: "Ticket" }, { code: "1f3c6", desc: "Trophy" }, { code: "1f388", desc: "Balloon" }, { code: "26bd", desc: "Soccer Ball" }, { code: "26be", desc: "Baseball" }, { code: "1f3c0", desc: "Basketball and Hoop" }, { code: "1f3c8", desc: "American Football" }, { code: "1f3c9", desc: "Rugby Football" }, { code: "1f3be", desc: "Tennis Racquet and Ball" }, { code: "1f3b1", desc: "Billiards" }, { code: "1f3b3", desc: "Bowling" }, { code: "1f3af", desc: "Direct Hit" }, { code: "26f3", desc: "Flag in Hole" }, { code: "1f3a3", desc: "Fishing Pole and Fish" }, { code: "1f3bd", desc: "Running Shirt with Sash" }, { code: "1f3bf", desc: "Ski and Ski Boot" }, { code: "1f3ae", desc: "Video Game" }, { code: "1f3b2", desc: "Game Die" }, { code: "2660", desc: "Black Spade Suit" }, { code: "2665", desc: "Black Heart SuiT" }, { code: "2666", desc: "Black Diamond Suit" }, { code: "2663", desc: "Black Club Suit" }, { code: "1f0cf", desc: "Playing Card Black Joker" }, { code: "1f004", desc: "Mahjong Tile Red Dragon" }, { code: "1f3b4", desc: "Flower Playing Cards" }] }, { id: "places", name: "Travel & Places", code: "1f30d", emoticons: [{ code: "1f30d", desc: "Earth Globe Europe-Africa" }, { code: "1f30e", desc: "Earth Globe Americas" }, { code: "1f30f", desc: "Earth Globe Asia-Australia" }, { code: "1f310", desc: "Globe with Meridians" }, { code: "1f5fe", desc: "Silhouette of Japan" }, { code: "1f30b", desc: "Volcano" }, { code: "1f5fb", desc: "Mount Fuji" }, { code: "1f3e0", desc: "House Building" }, { code: "1f3e1", desc: "House with Garden" }, { code: "1f3e2", desc: "Office Building" }, { code: "1f3e3", desc: "Japanese Post Office" }, { code: "1f3e4", desc: "European Post Office" }, { code: "1f3e5", desc: "Hospital" }, { code: "1f3e6", desc: "Bank" }, { code: "1f3e8", desc: "Hotel" }, { code: "1f3e9", desc: "Love Hotel" }, { code: "1f3ea", desc: "Convenience Store" }, { code: "1f3eb", desc: "School" }, { code: "1f3ec", desc: "Department Store" }, { code: "1f3ed", desc: "Factory" }, { code: "1f3ef", desc: "Japanese Castle" }, { code: "1f3f0", desc: "European Castle" }, { code: "1f492", desc: "Wedding" }, { code: "1f5fc", desc: "Tokyo Tower" }, { code: "1f5fd", desc: "Statue of Liberty" }, { code: "26ea", desc: "Church" }, { code: "26f2", desc: "Fountain" }, { code: "26fa", desc: "Tent" }, { code: "1f301", desc: "Foggy" }, { code: "1f303", desc: "Night with Stars" }, { code: "1f304", desc: "Sunrise over Mountains" }, { code: "1f305", desc: "Sunrise" }, { code: "1f306", desc: "Cityscape at Dusk" }, { code: "1f307", desc: "Sunset over Buildings" }, { code: "1f309", desc: "Bridge at Night" }, { code: "2668", desc: "Hot Springs" }, { code: "1f30c", desc: "Milky Way" }, { code: "1f3a0", desc: "Carousel Horse" }, { code: "1f3a1", desc: "Ferris Wheel" }, { code: "1f3a2", desc: "Roller Coaster" }, { code: "1f488", desc: "Barber Pole" }, { code: "1f3aa", desc: "Circus Tent" }, { code: "1f3ad", desc: "Performing Arts" }, { code: "1f3a8", desc: "Artist Palette" }, { code: "1f3b0", desc: "Slot Machine" }, { code: "1f682", desc: "Steam Locomotive" }, { code: "1f683", desc: "Railway Car" }, { code: "1f684", desc: "High-Speed Train" }, { code: "1f685", desc: "High-Speed Train with Bullet Nose" }, { code: "1f686", desc: "Train" }, { code: "1f687", desc: "Metro" }, { code: "1f688", desc: "Light Rail" }, { code: "1f689", desc: "Station" }, { code: "1f68a", desc: "Tram" }, { code: "1f69d", desc: "Monorail" }, { code: "1f69e", desc: "Mountain Railway" }, { code: "1f68b", desc: "Tram Car" }, { code: "1f68c", desc: "Bus" }, { code: "1f68d", desc: "Oncoming Bus" }, { code: "1f68e", desc: "Trolleybus" }, { code: "1f690", desc: "Minibus" }, { code: "1f691", desc: "Ambulance" }, { code: "1f692", desc: "Fire Engine" }, { code: "1f693", desc: "Police Car" }, { code: "1f694", desc: "Oncoming Police Car" }, { code: "1f695", desc: "Taxi" }, { code: "1f695", desc: "Oncoming Taxi" }, { code: "1f697", desc: "Automobile" }, { code: "1f698", desc: "Oncoming Automobile" }, { code: "1f699", desc: "Recreational Vehicle" }, { code: "1f69a", desc: "Delivery Truck" }, { code: "1f69b", desc: "Articulated Lorry" }, { code: "1f69c", desc: "Tractor" }, { code: "1f6b2", desc: "Bicycle" }, { code: "1f68f", desc: "Bus Stop" }, { code: "26fd", desc: "Fuel Pump" }, { code: "1f6a8", desc: "Police Cars Revolving Light" }, { code: "1f6a5", desc: "Horizontal Traffic Light" }, { code: "1f6a6", desc: "Vertical Traffic Light" }, { code: "1f6a7", desc: "Construction Sign" }, { code: "2693", desc: "Anchor" }, { code: "26f5", desc: "Sailboat" }, { code: "1f6a4", desc: "Speedboat" }, { code: "1f6a2", desc: "Ship" }, { code: "2708", desc: "Airplane" }, { code: "1f4ba", desc: "Seat" }, { code: "1f681", desc: "Helicopter" }, { code: "1f69f", desc: "Suspension Railway" }, { code: "1f6a0", desc: "Mountain Cableway" }, { code: "1f6a1", desc: "Aerial Tramway" }, { code: "1f680", desc: "Rocket" }, { code: "1f6aa", desc: "Door" }, { code: "1f6bd", desc: "Toilet" }, { code: "1f6bf", desc: "Shower" }, { code: "1f6c1", desc: "Bathtub" }, { code: "231b", desc: "Hourglass" }, { code: "23f3", desc: "Hourglass with Flowing Sand" }, { code: "231a", desc: "Watch" }, { code: "23f0", desc: "Alarm Clock" }, { code: "1f55b", desc: "Clock Face Twelve Oclock" }, { code: "1f567", desc: "Clock Face Twelve-Thirty" }, { code: "1f550", desc: "Clock Face One Oclock" }, { code: "1f55c", desc: "Clock Face One-thirty" }, { code: "1f551", desc: "Clock Face Two Oclock" }, { code: "1f55d", desc: "Clock Face Two-thirty" }, { code: "1f552", desc: "Clock Face Three Oclock" }, { code: "1f55e", desc: "Clock Face Three-thirty" }, { code: "1f553", desc: "Clock Face Four Oclock" }, { code: "1f55f", desc: "Clock Face Four-thirty" }, { code: "1f554", desc: "Clock Face Five Oclock" }, { code: "1f560", desc: "Clock Face Five-thirty" }, { code: "1f555", desc: "Clock Face Six Oclock" }, { code: "1f561", desc: "Clock Face Six-thirty" }, { code: "1f556", desc: "Clock Face Seven Oclock" }, { code: "1f562", desc: "Clock Face Seven-thirty" }, { code: "1f557", desc: "Clock Face Eight Oclock" }, { code: "1f563", desc: "Clock Face Eight-thirty" }, { code: "1f558", desc: "Clock Face Nine Oclock" }, { code: "1f564", desc: "Clock Face Nine-thirty" }, { code: "1f559", desc: "Clock Face Ten Oclock" }, { code: "1f565", desc: "Clock Face Ten-thirty" }, { code: "1f55a", desc: "Clock Face Eleven Oclock" }, { code: "1f566", desc: "Clock Face Eleven-thirty" }, { code: "1f311", desc: "New Moon Symbol" }, { code: "1f312", desc: "Waxing Crescent Moon Symbol" }, { code: "1f313", desc: "First Quarter Moon Symbol" }, { code: "1f314", desc: "Waxing Gibbous Moon Symbol" }, { code: "1f315", desc: "Full Moon Symbol" }, { code: "1f316", desc: "Waning Gibbous Moon Symbol" }, { code: "1f317", desc: "Last Quarter Moon Symbol" }, { code: "1f318", desc: "Waning Crescent Moon Symbol" }, { code: "1f319", desc: "Crescent Moon" }, { code: "1f31a", desc: "New Moon with Face" }, { code: "1f31b", desc: "First Quarter Moon with Face" }, { code: "1f31c", desc: "Last Quarter Moon with Face" }, { code: "2600", desc: "Black Sun with Rays" }, { code: "1f31d", desc: "Full Moon with Face" }, { code: "1f31e", desc: "Sun with Face" }, { code: "2b50", desc: "White Medium Star" }, { code: "1f31f", desc: "Glowing Star" }, { code: "1f320", desc: "Shooting Star" }, { code: "2601", desc: "Cloud" }, { code: "26c5", desc: "Sun Behind Cloud" }, { code: "1f300", desc: "Cyclone" }, { code: "1f308", desc: "Rainbow" }, { code: "1f302", desc: "Closed Umbrella" }, { code: "2614", desc: "Umbrella with Rain Drops" }, { code: "26a1", desc: "High Voltage Sign" }, { code: "2744", desc: "Snowflake" }, { code: "2603", desc: "Snowman Without Snow" }, { code: "1f525", desc: "Fire" }, { code: "1f4a7", desc: "Droplet" }, { code: "1F30A", desc: "Water Wave" }] }, { id: "objects", name: "Objects", code: "1F507", emoticons: [{ code: "1F507", desc: "Speaker with Cancellation Stroke" }, { code: "1F508", desc: "Speaker" }, { code: "1F509", desc: "Speaker with One Sound Wave" }, { code: "1F50A", desc: "Speaker with Three Sound Wave" }, { code: "1F4E2", desc: "Public Address Loudspeaker" }, { code: "1F4E3", desc: "Cheering Megaphone" }, { code: "1F4EF", desc: "Postal Horn" }, { code: "1F514", desc: "Bell" }, { code: "1F515", desc: "Bell with Cancellation Stroke" }, { code: "1F3BC", desc: "Musical Score" }, { code: "1F3B5", desc: "Musical Note" }, { code: "1F3B6", desc: "Multiple Musical Notes" }, { code: "1F3A4", desc: "Microphone" }, { code: "1F3A7", desc: "Headphone" }, { code: "1F4FB", desc: "Radio" }, { code: "1F3B7", desc: "Saxophone" }, { code: "1F3B8", desc: "Guitar" }, { code: "1F3B9", desc: "Musical Keyboard" }, { code: "1F3BA", desc: "Trumpet" }, { code: "1F3BB", desc: "Violin" }, { code: "1F4F1", desc: "Mobile Phone" }, { code: "1F4F2", desc: "Mobile Phone with Rightwards Arrow at Left" }, { code: "260E", desc: "Black Telephone" }, { code: "1F4DE", desc: "Telephone Receiver" }, { code: "1F4DF", desc: "Pager" }, { code: "1F4E0", desc: "Fax Machine" }, { code: "1F50B", desc: "Battery" }, { code: "1F50C", desc: "Electric Plug" }, { code: "1F4BB", desc: "Personal Computer" }, { code: "1F4BD", desc: "Minidisc" }, { code: "1F4BE", desc: "Floppy Disk" }, { code: "1F4BF", desc: "Optical Disk" }, { code: "1F4C0", desc: "Dvd" }, { code: "1F3A5", desc: "Movie Camera" }, { code: "1F3AC", desc: "Clapper Board" }, { code: "1F4FA", desc: "Television" }, { code: "1F4F7", desc: "Camera" }, { code: "1F4F9", desc: "Video Camera" }, { code: "1F4FC", desc: "Videocassette" }, { code: "1F50D", desc: "Left-Pointing Magnifying Glass" }, { code: "1F50E", desc: "Right-Pointing Magnifying Glass" }, { code: "1F52C", desc: "Microscope" }, { code: "1F52D", desc: "Telelscope" }, { code: "1F4E1", desc: "Satellite Antenna" }, { code: "1F4A1", desc: "Electric Light Bulb" }, { code: "1F526", desc: "Electric Torch" }, { code: "1F3EE", desc: "Izakaya Lantern" }, { code: "1F4D4", desc: "Notebook with Decorative Cover" }, { code: "1F4D5", desc: "Closed Book" }, { code: "1F4D6", desc: "Open Book" }, { code: "1F4D7", desc: "Green Book" }, { code: "1F4D8", desc: "Blue Book" }, { code: "1F4D9", desc: "Orange Book" }, { code: "1F4DA", desc: "Books" }, { code: "1F4D3", desc: "Notebook" }, { code: "1F4D2", desc: "Ledger" }, { code: "1F4C3", desc: "Curl" }, { code: "1F4DC", desc: "Scroll" }, { code: "1F4C4", desc: "Page Facing Up" }, { code: "1F4F0", desc: "Newspaper" }, { code: "1F4D1", desc: "Bookmark Tabs" }, { code: "1F516", desc: "Bookmark" }, { code: "1F4B0", desc: "Money Bag" }, { code: "1F4B4", desc: "Banknote with Yen Sign" }, { code: "1F4B5", desc: "Banknote with Dollar Sign" }, { code: "1F4B6", desc: "Banknote with Euro Sign" }, { code: "1F4B7", desc: "Banknote with Pound Sign" }, { code: "1F4B8", desc: "Money with Wings" }, { code: "1F4B3", desc: "Credit Card" }, { code: "1F4B9", desc: "Chart with Upwards Trend and Yen Sign" }, { code: "1F4B1", desc: "Currency Exchange" }, { code: "1F4B2", desc: "Heavy Dollar Sign" }, { code: "2709", desc: "Envelope" }, { code: "1F4E7", desc: "E-Mail Symbol" }, { code: "1F4E8", desc: "Incoming Envelope" }, { code: "1F4E9", desc: "Envelope with Downwards Arrow Above" }, { code: "1F4E4", desc: "Outbox Tray" }, { code: "1F4E5", desc: "Inbox Tray" }, { code: "1F4E6", desc: "Package" }, { code: "1F4BE", desc: "Closed Mailbox with Raised Flag" }, { code: "1F4EA", desc: "Closed Mailbox with Lowered Flag" }, { code: "1F4EC", desc: "Open Mailbox with Raised Flag" }, { code: "1F4ED", desc: "Open Mailbox with Lowered Flag" }, { code: "1F5F3", desc: "Postbox" }, { code: "270F", desc: "Pencil" }, { code: "2712", desc: "Black Nib" }, { code: "1F4DD", desc: "Memo" }, { code: "1F4BC", desc: "Briefcase" }, { code: "1F4C1", desc: "File Folder" }, { code: "1F4C2", desc: "Open File Folder" }, { code: "1F4C5", desc: "Calender" }, { code: "1F4C6", desc: "Tear-off Calender" }, { code: "1F4C7", desc: "Card Index" }, { code: "1F4C8", desc: "Chart with Upwards Trend" }, { code: "1F4C9", desc: "Chart with Downwards Trend" }, { code: "1F4CA", desc: "Bar Chart" }, { code: "1F4CB", desc: "Clipboard" }, { code: "1F4CC", desc: "Pushpin" }, { code: "1F4CD", desc: "Round Pushpin" }, { code: "1F4CE", desc: "Paperclip" }, { code: "1F4CF", desc: "Straight Ruler" }, { code: "1F4D0", desc: "Triangular Ruler" }, { code: "2702", desc: "Black Scissors" }, { code: "1F512", desc: "Lock" }, { code: "1F513", desc: "Open Lock" }, { code: "1F50F", desc: "Lock with Ink Pen" }, { code: "1F510", desc: "Closed Lock with Key" }, { code: "1F511", desc: "Key" }, { code: "1F528", desc: "Hammer" }, { code: "1F52B", desc: "Pistol" }, { code: "1F527", desc: "Wrench" }, { code: "1F529", desc: "Nut and Bolt" }, { code: "1F517", desc: "Link Symbol" }, { code: "1F489", desc: "Syringe" }, { code: "1F48A", desc: "Pill" }, { code: "1F6AC", desc: "Smoking Symbol" }, { code: "1F5FF", desc: "Moyai" }, { code: "1F52E", desc: "Crystal Ball" }] }, { id: "symbols", name: "Symbols", code: "1F3E7", emoticons: [{ code: "1F3E7", desc: "Automated Teller Machine" }, { code: "1F6AE", desc: "Put Litter in Its Place Symbol" }, { code: "1F6B0", desc: "Potable Water Symbol" }, { code: "267F", desc: "Wheelchair Symbol" }, { code: "1F6B9", desc: "Mens Symbol" }, { code: "1F6BA", desc: "Womens Symbol" }, { code: "1F6BB", desc: "Restroom" }, { code: "1F6BC", desc: "Baby Symbol" }, { code: "1F6BE", desc: "Water Closet" }, { code: "1F6C2", desc: "Passport Control" }, { code: "1F6C3", desc: "Customs" }, { code: "1F6C4", desc: "Baggage Claim" }, { code: "1F6C5", desc: "Left Luggage" }, { code: "26A0", desc: "Warning Sign" }, { code: "1F6B8", desc: "Children Crossing" }, { code: "26D4", desc: "No Entry" }, { code: "1F6AB", desc: "No Entry Sign" }, { code: "1F6B3", desc: "No Bicycles" }, { code: "1F6AD", desc: "No Smoking Symbol" }, { code: "1F6AF", desc: "Do Not Litter Symbol" }, { code: "1F6B1", desc: "Non-Potable Water Symbol" }, { code: "1F6B7", desc: "No Pedestrians" }, { code: "1F4F5", desc: "No Mobile Phones" }, { code: "1F51E", desc: "No One Under Eighteen Symbol" }, { code: "2B06", desc: "Upwards Black Arrow" }, { code: "2197", desc: "North East Arrow" }, { code: "27A1", desc: "Black Rightwards Arrow" }, { code: "2198", desc: "South East Arrow" }, { code: "2B07", desc: "Downwards Black Arrow" }, { code: "2199", desc: "South West Arrow" }, { code: "2B05", desc: "Leftwards Black Arrow" }, { code: "2196", desc: "North West Arrow" }, { code: "2195", desc: "Up Down Arrow" }, { code: "2194", desc: "Left Right Arrow" }, { code: "21A9", desc: "Leftwards Arrow with Hook" }, { code: "21AA", desc: "Rightwards Arrow with Hook" }, { code: "2934", desc: "Arrow Pointing Rightwards Then Curving Upwards" }, { code: "2935", desc: "Arrow Pointing Rightwards Then Curving Downwards" }, { code: "1F503", desc: "Clockwise Downwards and Upwards Open Circle Arrows" }, { code: "1F504", desc: "Anticlockwise Downwards and Upwards Open Circle Arrows" }, { code: "1F519", desc: "Back with Leftwards Arrow Above" }, { code: "1F51A", desc: "End with Leftwards Arrow Above" }, { code: "1F51B", desc: "On with Exclamation Mark with Left Right Arrow Above" }, { code: "1F51C", desc: "Soon with Rightwards Arrow Above" }, { code: "1F51D", desc: "Top with Upwards Arrow Above" }, { code: "1F52F", desc: "Six Pointed Star with Middle Dot" }, { code: "2648", desc: "Aries" }, { code: "2649", desc: "Taurus" }, { code: "264A", desc: "Gemini" }, { code: "264B", desc: "Cancer" }, { code: "264C", desc: "Leo" }, { code: "264D", desc: "Virgo" }, { code: "264E", desc: "Libra" }, { code: "264F", desc: "Scorpius" }, { code: "2650", desc: "Sagittarius" }, { code: "2651", desc: "Capricorn" }, { code: "2652", desc: "Aquarius" }, { code: "2653", desc: "Pisces" }, { code: "26CE", desc: "Ophiuchus" }, { code: "1F500", desc: "Twisted Rightwards Arrows" }, { code: "1F501", desc: "Clockwise Rightwards and Leftwards Open Circle Arrows" }, { code: "1F502", desc: "Clockwise Rightwards and Leftwards Open Circle Arrows with Circled One Overlay" }, { code: "25B6", desc: "Black Right-Pointing Triangle" }, { code: "23E9", desc: "Black Right-Pointing Double Triangle" }, { code: "25C0", desc: "Black Left-Pointing Triangle" }, { code: "23EA", desc: "Black Left-Pointing Double Triangle" }, { code: "1F53C", desc: "Up-Pointing Small Red Triangle" }, { code: "23EB", desc: "Black Up-Pointing Double Triangle" }, { code: "1F53D", desc: "Down-Pointing Small Red Triangle" }, { code: "23EC", desc: "Black Down-Pointing Double Triangle" }, { code: "1F3A6", desc: "Cinema" }, { code: "1F505", desc: "Low Brightness Symbol" }, { code: "1F506", desc: "High Brightness Symbol" }, { code: "1F4F6", desc: "Antenna with Bars" }, { code: "1F4F3", desc: "Vibration Mode" }, { code: "1F4F4", desc: "Mobile Phone off" }, { code: "267B", desc: "Black Universal Recycling Symbol" }, { code: "1F531", desc: "Trident Emblem" }, { code: "1F4DB", desc: "Name Badge" }, { code: "1F530", desc: "Japanese Symbol for Beginner" }, { code: "2B55", desc: "Heavy Large Circle" }, { code: "2705", desc: "White Heavy Check Mark" }, { code: "2611", desc: "Ballot Box with Check" }, { code: "2714", desc: "Heavy Check Mark" }, { code: "2716", desc: "Heavy Multiplication X" }, { code: "274C", desc: "Cross Mark" }, { code: "274E", desc: "Negative Squared Cross Mark" }, { code: "2795", desc: "Heavy Plus Sign" }, { code: "2796", desc: "Heavy Minus Sign" }, { code: "2797", desc: "Heavy Division Sign" }, { code: "27B0", desc: "Curly Loop" }, { code: "27BF", desc: "Double Curly Loop" }, { code: "303D", desc: "Part Alternation Mark" }, { code: "2733", desc: "Eight Spoked Asterisk" }, { code: "2734", desc: "Eight Pointed Black Star" }, { code: "2747", desc: "Sparkle" }, { code: "203C", desc: "Double Exclamation Mark" }, { code: "2049", desc: "Exclamation Question Mark" }, { code: "2753", desc: "Black Question Mark Ornament" }, { code: "2754", desc: "White Question Mark Ornament" }, { code: "2755", desc: "White Exclamation Mark Ornament" }, { code: "2757", desc: "Heavy Exclamation Mark Symbol" }, { code: "3030", desc: "Wavy Dash" }, { code: "2122", desc: "Trade Mark Sign" }, { code: "1F51F", desc: "Keycap Ten" }, { code: "1F4AF", desc: "Hundred Points Symbol" }, { code: "1F520", desc: "Input Symbol for Latin Capital Letters" }, { code: "1F521", desc: "Input Symbol for Latin Small Letters" }, { code: "1F522", desc: "Input Symbol for Numbers" }, { code: "1F523", desc: "Input Symbol for Symbols" }, { code: "1F524", desc: "Input Symbol for Latin Letters" }, { code: "1F170", desc: "Negative Squared Latin Capital Letter a" }, { code: "1F18E", desc: "Negative Squared Ab" }, { code: "1F171", desc: "Negative Squared Latin Capital Letter B" }, { code: "1F191", desc: "Squared Cl" }, { code: "1F192", desc: "Squared Cool" }, { code: "1F193", desc: "Squared Free" }, { code: "2139", desc: "Information Source" }, { code: "1F194", desc: "Squared Id" }, { code: "24C2", desc: "Circled Latin Capital Letter M" }, { code: "1F195", desc: "Squared New" }, { code: "1F196", desc: "Squared Ng" }, { code: "1F17E", desc: "Negative Squared Latin Capital Letter O" }, { code: "1F197", desc: "Squared Ok" }, { code: "1F17F", desc: "Negative Squared Latin Capital Letter P" }, { code: "1F198", desc: "Squared Sos" }, { code: "1F199", desc: "Squared Up with Exclamation Mark" }, { code: "1F19A", desc: "Squared Vs" }, { code: "1F201", desc: "Squared Katakana Koko" }, { code: "1F202", desc: "Squared Katakana Sa" }, { code: "1F237", desc: "Squared Cjk Unified Ideograph-6708" }, { code: "1F236", desc: "Squared Cjk Unified Ideograph-6709" }, { code: "1F22F", desc: "Squared Cjk Unified Ideograph-6307" }, { code: "1F250", desc: "Circled Ideograph Advantage" }, { code: "1F239", desc: "Squared Cjk Unified Ideograph-5272" }, { code: "1F21A", desc: "Squared Cjk Unified Ideograph-7121" }, { code: "1F232", desc: "Squared Cjk Unified Ideograph-7981" }, { code: "1F251", desc: "Circled Ideograph Accept" }, { code: "1F238", desc: "Squared Cjk Unified Ideograph-7533" }, { code: "1F234", desc: "Squared Cjk Unified Ideograph-5408" }, { code: "1F233", desc: "Squared Cjk Unified Ideograph-7a7a" }, { code: "3297", desc: "Circled Ideograph Congratulation" }, { code: "3299", desc: "Circled Ideograph Secret" }, { code: "1F23A", desc: "Squared Cjk Unified Ideograph-55b6" }, { code: "1F235", desc: "Squared Cjk Unified Ideograph-6e80" }, { code: "25AA", desc: "Black Small Square" }, { code: "25AB", desc: "White Small Square" }, { code: "25FB", desc: "White Medium Square" }, { code: "25FC", desc: "Black Medium Square" }, { code: "25FD", desc: "White Medium Small Square" }, { code: "25FE", desc: "Black Medium Small Square" }, { code: "2B1B", desc: "Black Large Square" }, { code: "2B1C", desc: "White Large Square" }, { code: "1F536", desc: "Large Orange Diamond" }, { code: "1F537", desc: "Large Blue Diamond" }, { code: "1F538", desc: "Small Orange Diamond" }, { code: "1F539", desc: "Small Blue Diamond" }, { code: "1F53A", desc: "Up-Pointing Red Triangle" }, { code: "1F53B", desc: "Down-Pointing Red Triangle" }, { code: "1F4A0", desc: "Diamond Shape with a Dot Inside" }, { code: "1F518", desc: "Radio Button" }, { code: "1F532", desc: "Black Square Button" }, { code: "1F533", desc: "White Square Button" }, { code: "26AA", desc: "Medium White Circle" }, { code: "26AB", desc: "Medium Black Circle" }, { code: "1F534", desc: "Large Red Circle" }, { code: "1F535", desc: "Large Blue Circle" }] }, { id: "flags", name: "Flags", code: "1F3C1", emoticons: [{ code: "1f3c1", desc: "Chequered Flag" }, { code: "1f1e8-1f1f3", desc: "China Flag" }, { code: "1f38c", desc: "Crossed Flags" }, { code: "1f1e9-1f1ea", desc: "Germany Flag" }, { code: "1f1ea-1f1f8", desc: "Spain Flag" }, { code: "1f1e6-1f1e8", desc: "Ascension Island Flag" }, { code: "1f1e6-1f1e9", desc: "Andorra Flag" }, { code: "1f1e6-1f1ea", desc: "United Arab Emirates Flag" }, { code: "1f1e6-1f1eb", desc: "Afghanistan Flag" }, { code: "1f1e6-1f1ec", desc: "Antigua & Barbuda Flag" }, { code: "1f1e6-1f1ee", desc: "Anguilla Flag" }, { code: "1f1e6-1f1f1", desc: "Albania Flag" }, { code: "1f1e6-1f1f2", desc: "Armenia Flag" }, { code: "1f1e6-1f1f4", desc: "Angola Flag" }, { code: "1f1e6-1f1f6", desc: "Antarctica Flag" }, { code: "1f1e6-1f1f7", desc: "Argentina Flag" }, { code: "1f1e6-1f1f8", desc: "American Samoa Flag" }, { code: "1f1e6-1f1f9", desc: "Austria Flag" }, { code: "1f1e6-1f1fa", desc: "Australia Flag" }, { code: "1f1e6-1f1fc", desc: "Aruba Flag" }, { code: "1f1e6-1f1fd", desc: "Åland Islands Flag" }, { code: "1f1e6-1f1ff", desc: "Azerbaijan Flag" }, { code: "1f1e7-1f1e7", desc: "Barbados Flag" }, { code: "1f1e7-1f1e9", desc: "Bangladesh Flag" }, { code: "1f1e7-1f1ea", desc: "Belgium Flag" }, { code: "1f1e7-1f1eb", desc: "Burkina Faso Flag" }, { code: "1f1e7-1f1ec", desc: "Bulgaria Flag" }, { code: "1f1e7-1f1ed", desc: "Bahrain Flag" }, { code: "1f1e7-1f1ee", desc: "Burundi Flag" }, { code: "1f1e7-1f1ef", desc: "Benin Flag" }, { code: "1f1e7-1f1f1", desc: "St. Barthélemy Flag" }, { code: "1f1e7-1f1f2", desc: "Bermuda Flag" }, { code: "1f1e7-1f1f4", desc: "Bolivia Flag" }, { code: "1f1e7-1f1f6", desc: "Caribbean Netherlands Flag" }, { code: "1f1e7-1f1f7", desc: "Brazil Flag" }, { code: "1f1e7-1f1f8", desc: "Bahamas Flag" }, { code: "1f1e7-1f1f9", desc: "Bhutan Flag" }, { code: "1f1e7-1f1fb", desc: "Bouvet Island Flag" }, { code: "1f1e7-1f1fc", desc: "Botswana Flag" }, { code: "1f1e7-1f1fe", desc: "Belarus Flag" }, { code: "1f1e7-1f1ff", desc: "Belize Flag" }, { code: "1f1e8-1f1e6", desc: "Canada Flag" }, { code: "1f1e8-1f1e8", desc: "Cocos (keeling) Islands Flag" }, { code: "1f1e8-1f1e9", desc: "Congo - Kinshasa Flag" }, { code: "1f1e8-1f1eb", desc: "Central African Republic Flag" }, { code: "1f1e8-1f1ec", desc: "Congo - Brazzaville Flag" }, { code: "1f1e8-1f1ed", desc: "Switzerland Flag" }, { code: "1f1e8-1f1ee", desc: "Côte D’ivoire Flag" }, { code: "1f1e8-1f1f0", desc: "Cook Islands Flag" }, { code: "1f1e8-1f1f1", desc: "Chile Flag" }, { code: "1f1e8-1f1f2", desc: "Cameroon Flag" }, { code: "1f1e8-1f1f4", desc: "Colombia Flag" }, { code: "1f1e8-1f1f7", desc: "Costa Rica Flag" }, { code: "1f1e8-1f1fa", desc: "Cuba Flag" }, { code: "1f1e8-1f1fb", desc: "Cape Verde Flag" }, { code: "1f1e8-1f1fc", desc: "Curaçao Flag" }, { code: "1f1e8-1f1fd", desc: "Christmas Island Flag" }, { code: "1f1e8-1f1fe", desc: "Cyprus Flag" }, { code: "1f1e8-1f1ff", desc: 'Czechia Flag"' }, { code: "1f1e9-1f1ec", desc: "Diego Garcia Flag" }, { code: "1f1e9-1f1ef", desc: "Djibouti Flag" }, { code: "1f1e9-1f1f0", desc: "Denmark Flag" }, { code: "1f1e9-1f1f2", desc: "Dominica Flag" }, { code: "1f1e9-1f1f4", desc: "Dominican Republic Flag" }, { code: "1f1e9-1f1ff", desc: "Algeria Flag" }, { code: "1f1ea-1f1e6", desc: "Ceuta & Melilla Flag" }, { code: "1f1ea-1f1e8", desc: "Ecuador Flag" }, { code: "1f1ea-1f1ea", desc: "Estonia Flag" }, { code: "1f1ea-1f1ec", desc: "Egypt Flag" }, { code: "1f1ea-1f1ed", desc: "Western Sahara Flag" }, { code: "1f1ea-1f1f7", desc: "Eritrea Flag" }, { code: "1f1ea-1f1f9", desc: "Ethiopia Flag" }, { code: "1f1ea-1f1fa", desc: "European Union Flag" }, { code: "1f1eb-1f1ee", desc: "Finland Flag" }, { code: "1f1eb-1f1ef", desc: "Fiji Flag" }, { code: "1f1eb-1f1f0", desc: "Falkland Islands Flag" }, { code: "1f1eb-1f1f2", desc: "Micronesia Flag" }, { code: "1f1eb-1f1f4", desc: "Faroe Islands Flag" }, { code: "1f1ec-1f1e6", desc: "Gabon Flag" }, { code: "1f1ec-1f1e9", desc: "Grenada Flag" }, { code: "1f1ec-1f1ea", desc: "Georgia Flag" }, { code: "1f1ec-1f1eb", desc: "French Guiana Flag" }, { code: "1f1ec-1f1ec", desc: "Guernsey Flag" }, { code: "1f1ec-1f1ed", desc: "Ghana Flag" }, { code: "1f1ec-1f1ee", desc: "Gibraltar Flag" }, { code: "1f1ec-1f1f1", desc: "Greenland Flag" }, { code: "1f1ec-1f1f2", desc: "Gambia Flag" }, { code: "1f1ec-1f1f3", desc: "Guinea Flag" }, { code: "1f1ec-1f1f5", desc: "Guadeloupe Flag" }, { code: "1f1ec-1f1f6", desc: "Equatorial Guinea Flag" }, { code: "1f1ec-1f1f7", desc: "Greece Flag" }, { code: "1f1ec-1f1f8", desc: "South Georgia & South Sandwich Islands Flag" }, { code: "1f1ec-1f1f9", desc: "Guatemala Flag" }, { code: "1f1ec-1f1fa", desc: "Guam Flag" }, { code: "1f1ec-1f1fc", desc: "Guinea-Bissau Flag" }, { code: "1f1ec-1f1fe", desc: "Guyana Flag" }, { code: "1f1ed-1f1f0", desc: "Hong Kong Sar China Flag" }, { code: "1f1ed-1f1f2", desc: "Heard & Mcdonald Islands Flag" }, { code: "1f1ed-1f1f3", desc: "Honduras Flag" }, { code: "1f1ed-1f1f7", desc: "Croatia Flag" }, { code: "1f1ed-1f1f9", desc: "Haiti Flag" }, { code: "1f1ed-1f1fa", desc: "Hungary Flag" }, { code: "1f1ee-1f1e8", desc: "Canary Islands Flag" }, { code: "1f1ee-1f1e9", desc: "Indonesia Flag" }, { code: "1f1ee-1f1ea", desc: "Ireland Flag" }, { code: "1f1ee-1f1f1", desc: "Israel Flag" }, { code: "1f1ee-1f1f2", desc: "Isle of Man Flag" }, { code: "1f1ee-1f1f3", desc: "India Flag" }, { code: "1f1ee-1f1f4", desc: "British Indian Ocean Territory Flag" }, { code: "1f1ee-1f1f6", desc: "Iraq Flag" }, { code: "1f1ee-1f1f7", desc: "Iran Flag" }, { code: "1f1ee-1f1f8", desc: "Iceland Flag" }, { code: "1f1ef-1f1ea", desc: "Jersey Flag" }, { code: "1f1ef-1f1f2", desc: "Jamaica Flag" }, { code: "1f1ef-1f1f4", desc: "Jordan Flag" }, { code: "1f1f0-1f1ea", desc: "Kenya Flag" }, { code: "1f1f0-1f1ec", desc: "Kyrgyzstan Flag" }, { code: "1f1f0-1f1ed", desc: "Cambodia Flag" }, { code: "1f1f0-1f1ee", desc: "Kiribati Flag" }, { code: "1f1f0-1f1f2", desc: "Comoros Flag" }, { code: "1f1f0-1f1f3", desc: "St. Kitts & Nevis Flag" }, { code: "1f1f0-1f1f5", desc: "North Korea Flag" }, { code: "1f1f0-1f1fc", desc: "Kuwait Flag" }, { code: "1f1f0-1f1fe", desc: "Cayman Islands Flag" }, { code: "1f1f0-1f1ff", desc: "Kazakhstan Flag" }, { code: "1f1f1-1f1e6", desc: "Laos Flag" }, { code: "1f1f1-1f1e7", desc: "Lebanon Flag" }, { code: "1f1f1-1f1e8", desc: "St. Lucia Flag" }, { code: "1f1f1-1f1ee", desc: "Liechtenstein Flag" }, { code: "1f1f1-1f1f0", desc: "Sri Lanka Flag" }, { code: "1f1f1-1f1f7", desc: "Liberia Flag" }, { code: "1f1f1-1f1f8", desc: "Lesotho Flag" }, { code: "1f1f1-1f1f9", desc: "Lithuania Flag" }, { code: "1f1f1-1f1fa", desc: "Luxembourg Flag" }, { code: "1f1f1-1f1fb", desc: "Latvia Flag" }, { code: "1f1f1-1f1fe", desc: "Libya Flag" }, { code: "1f1f2-1f1e6", desc: "Morocco Flag" }, { code: "1f1f2-1f1e8", desc: "Monaco Flag" }, { code: "1f1f2-1f1e9", desc: "Moldova Flag" }, { code: "1f1f2-1f1ea", desc: "Montenegro Flag" }, { code: "1f1f2-1f1eb", desc: "St. Martin Flag" }, { code: "1f1f2-1f1ec", desc: "Madagascar Flag" }, { code: "1f1f2-1f1ed", desc: "Marshall Islands Flag" }, { code: "1f1f2-1f1f0", desc: "Macedonia Flag" }, { code: "1f1f2-1f1f1", desc: "Mali Flag" }, { code: "1f1f2-1f1f2", desc: "Myanmar (burma) Flag" }, { code: "1f1f2-1f1f3", desc: "Mongolia Flag" }, { code: "1f1f2-1f1f4", desc: "Macau Sar China Flag" }, { code: "1f1f2-1f1f5", desc: "Northern Mariana Islands Flag" }, { code: "1f1f2-1f1f6", desc: "Martinique Flag" }, { code: "1f1f2-1f1f7", desc: "Mauritania Flag" }, { code: "1f1f2-1f1f8", desc: "Montserrat Flag" }, { code: "1f1f2-1f1f9", desc: "Malta Flag" }, { code: "1f1f2-1f1fa", desc: "Mauritius Flag" }, { code: "1f1f2-1f1fb", desc: "Maldives Flag" }, { code: "1f1f2-1f1fc", desc: "Malawi Flag" }, { code: "1f1f2-1f1fd", desc: "Mexico Flag" }, { code: "1f1f2-1f1fe", desc: "Malaysia Flag" }, { code: "1f1f2-1f1ff", desc: "Mozambique Flag" }, { code: "1f1f3-1f1e6", desc: "Namibia Flag" }, { code: "1f1f3-1f1e8", desc: "New Caledonia Flag" }, { code: "1f1f3-1f1ea", desc: "Niger Flag" }, { code: "1f1f3-1f1eb", desc: "Norfolk Island Flag" }, { code: "1f1f3-1f1ec", desc: "Nigeria Flag" }, { code: "1f1f3-1f1ee", desc: "Nicaragua Flag" }, { code: "1f1f3-1f1f1", desc: "Netherlands Flag" }, { code: "1f1f3-1f1f4", desc: "Norway Flag" }, { code: "1f1f3-1f1f5", desc: "Nepal Flag" }, { code: "1f1f3-1f1f7", desc: "Nauru Flag" }, { code: "1f1f3-1f1fa", desc: "Niue Flag" }, { code: "1f1f3-1f1ff", desc: "New Zealand Flag" }, { code: "1f1f4-1f1f2", desc: "Oman Flag" }, { code: "1f1f8-1f1ff", desc: "Swaziland Flag" }, { code: "1f1f5-1f1e6", desc: "Panama Flag" }, { code: "1f1f5-1f1ea", desc: "Peru Flag" }, { code: "1f1f5-1f1eb", desc: "French Polynesia Flag" }, { code: "1f1f5-1f1ec", desc: "Papua New Guinea Flag" }, { code: "1f1f5-1f1ed", desc: "Philippines Flag" }, { code: "1f1f5-1f1f0", desc: "Pakistan Flag" }, { code: "1f1f5-1f1f1", desc: "Poland Flag" }, { code: "1f1f5-1f1f2", desc: "St. Pierre & Miquelon  Flag" }, { code: "1f1f5-1f1f3", desc: "Pitcairn Islands Flag" }, { code: "1f1f5-1f1f7", desc: "Puerto Rico Flag" }, { code: "1f1f5-1f1f8", desc: "Palestinian Territories Flag" }, { code: "1f1f5-1f1f9", desc: "Portugal Flag" }, { code: "1f1f5-1f1fc", desc: "Palau Flag" }, { code: "1f1f5-1f1fe", desc: "Paraguay Flag" }, { code: "1f1f6-1f1e6", desc: "Qatar Flag" }, { code: "1f1f7-1f1ea", desc: "Réunion Flag" }, { code: "1f1f7-1f1f4", desc: "Romania Flag" }, { code: "1f1f7-1f1f8", desc: "Serbia Flag" }, { code: "1f1f7-1f1fc", desc: "Rwanda Flag" }, { code: "1f1f8-1f1e6", desc: "Saudi Arabia Flag" }, { code: "1f1f8-1f1e7", desc: "Solomon Islands Flag" }, { code: "1f1f8-1f1e8", desc: "Seychelles Flag" }, { code: "1f1f8-1f1e9", desc: "Sudan Flag" }, { code: "1f1f8-1f1ea", desc: "Sweden Flag" }, { code: "1f1f8-1f1ec", desc: "Singapore Flag" }, { code: "1f1f8-1f1ee", desc: "Slovenia Flag" }, { code: "1f1f8-1f1ed", desc: "St. Helena  Flag" }, { code: "1f1f8-1f1ef", desc: "Svalbard & Jan Mayen  Flag" }, { code: "1f1f8-1f1f1", desc: "Sierra Leone Flag" }, { code: "1f1f8-1f1f2", desc: "San Marino Flag" }, { code: "1f1f8-1f1f3", desc: "Senegal Flag" }, { code: "1f1f8-1f1f4", desc: "Somalia Flag" }, { code: "1f1f8-1f1f7", desc: "Suriname Flag" }, { code: "1f1f8-1f1f8", desc: "South Sudan  Flag" }, { code: "1f1f8-1f1f9", desc: "São Tomé & Príncipe Flag" }, { code: "1f1f8-1f1fb", desc: "El Salvador Flag" }, { code: "1f1f8-1f1fd", desc: "Sint Maarten Flag" }, { code: "1f1f8-1f1fe", desc: "Syria Flag" }, { code: "1f1f9-1f1e6", desc: "Tristan Da Cunha Flag" }, { code: "1f1f9-1f1e8", desc: "Turks & Caicos Islands  Flag" }, { code: "1f1f9-1f1eb", desc: "French Southern Territories Flag" }, { code: "1f1f9-1f1ec", desc: "Togo Flag" }, { code: "1f1f9-1f1ed", desc: "Thailand Flag" }, { code: "1f1f9-1f1ef", desc: "Tajikistan Flag" }, { code: "1f1f9-1f1f0", desc: "Tokelau Flag" }, { code: "1f1f9-1f1f1", desc: "Timor-Leste Flag" }, { code: "1f1f9-1f1f2", desc: "Turkmenistan Flag" }, { code: "1f1f9-1f1f3", desc: "Tunisia Flag" }, { code: "1f1f9-1f1f4", desc: "Tonga Flag" }, { code: "1f1f9-1f1f7", desc: "Turkey Flag" }, { code: "1f1f9-1f1f9", desc: "Trinidad & Tobago Flag" }, { code: "1f1f9-1f1fb", desc: "Tuvalu Flag" }, { code: "1f1f9-1f1fc", desc: "Taiwan Flag" }, { code: "1f1f9-1f1ff", desc: "Tanzania Flag" }, { code: "1f1fa-1f1e6", desc: "Ukraine City  Flag" }, { code: "1f1fa-1f1ec", desc: "Uganda Flag" }, { code: "1f1fa-1f1f2", desc: "U.s. Outlying Islands  Flag" }, { code: "1f1fa-1f1fe", desc: "Uruguay  Flag" }, { code: "1f1fa-1f1ff", desc: "Uzbekistan Flag" }, { code: "1f1fb-1f1e6", desc: "Vatican City  Flag" }, { code: "1f1fb-1f1e8", desc: "St. Vincent & Grenadines Flag" }, { code: "1f1fb-1f1ea", desc: "Venezuela Flag" }, { code: "1f1fb-1f1ec", desc: "British Virgin Islands Flag" }, { code: "1f1fb-1f1ee", desc: "U.s. Virgin Islands Flag" }, { code: "1f1fb-1f1f3", desc: "Vietnam Flag" }, { code: "1f1fc-1f1f8", desc: "Samoa Flag" }, { code: "1f1fb-1f1fa", desc: "Vanuatu Flag" }, { code: "1f1fc-1f1eb", desc: '"Wallis & Futuna Flag' }, { code: "1f1fd-1f1f0", desc: "Kosovo Flag" }, { code: "1f1fe-1f1ea", desc: "Yemen Flag" }, { code: "1f1fe-1f1f9", desc: "Mayotte Flag" }, { code: "1f1ff-1f1e6", desc: "South Africa Flag" }, { code: "1f1ff-1f1f2", desc: "Zambia Flag" }, { code: "1f1ff-1f1fc", desc: "Zimbabwe Flag" }, { code: "1f1eb-1f1f7", desc: "France Flag" }, { code: "1f1ec-1f1e7", desc: "United Kingdom  Flag" }, { code: "1f1ee-1f1f9", desc: "Italy Flag" }, { code: "1f1ef-1f1f5", desc: "Japan Flag" }, { code: "1f1f0-1f1f7", desc: "South Korea Flag" }, { code: "1f1f7-1f1fa", desc: "Russia Flag" }, { code: "1F6A9", desc: "Triangular Flag on Post" }, { code: "1f1fa-1f1f8", desc: "United States Flag" }] }], emoticonsButtons: ["emoticonsBack", "|"], emoticonsUseImage: true }), St.PLUGINS.emoticons = function(E2) {
        var _ = E2.$, r2 = E2.opts.emoticonsSet, i2 = r2 && r2[0], o2 = "";
        function s2() {
          if (!E2.selection.isCollapsed()) return false;
          var e = E2.selection.element(), t = E2.selection.endElement();
          if (e && E2.node.hasClass(e, "fr-emoticon")) return e;
          if (t && E2.node.hasClass(t, "fr-emoticon")) return t;
          var a2 = E2.selection.ranges(0), n2 = a2.startContainer;
          if (n2.nodeType == Node.ELEMENT_NODE && 0 < n2.childNodes.length && 0 < a2.startOffset) {
            var r3 = n2.childNodes[a2.startOffset - 1];
            if (E2.node.hasClass(r3, "fr-emoticon")) return r3;
          }
          return false;
        }
        function l2() {
          return "".concat(function n2(e, t) {
            return '<div class="fr-buttons fr-tabs fr-tabs-scroll">\n                        '.concat(function a2(e2, n3) {
              var r3 = "";
              return e2.forEach(function(e3) {
                var t2 = { image: e3.code.toLowerCase() }, a3 = { elementClass: e3.id === n3.id ? "fr-active fr-active-tab" : "", emoticonsUnicodeClass: E2.opts.emoticonsUseImage ? "" : "fr-tabs-unicode", title: E2.language.translate(e3.name), dataCmd: "setEmoticonCategory", dataParam1: e3.id, image: E2.opts.emoticonsUseImage ? '<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'.concat(t2.image, '.svg"/>') : "&#x".concat(t2.image, ";") };
                r3 += '<button class="fr-command fr-btn '.concat(a3.elementClass, " ").concat(a3.emoticonsUnicodeClass, '" \n      title="').concat(a3.title, '" data-cmd="').concat(a3.dataCmd, '" data-param1="').concat(a3.dataParam1, '">\n       ').concat(a3.image, " </button>");
              }), r3;
            }(e, t), "\n                        </div>");
          }(r2, i2), "\n                      ").concat(function a2(e) {
            return '\n        <div class="fr-icon-container fr-emoticon-container">\n            '.concat(function t(e2) {
              var r3 = "";
              return e2.emoticons.forEach(function(e3) {
                var t2 = e3.code.split("-").reduce(function(e4, t3) {
                  return e4 ? "".concat(e4, "&zwj;&#x").concat(t3.toLowerCase(), ";") : "&#x".concat(t3.toLowerCase(), ";");
                }, ""), a3 = { image: e3.code.toLowerCase(), compiledCode: e3.uCode ? e3.uCode : t2 }, n2 = { dataParam1: e3.code.toLowerCase(), dataParam2: a3.compiledCode, title: E2.language.translate(e3.desc), image: E2.opts.emoticonsUseImage ? '<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'.concat(a3.image, '.svg"/>') : "".concat(a3.compiledCode), desc: E2.language.translate(e3.desc) };
                r3 += '<span class="fr-command fr-emoticon fr-icon" role="button" \n      data-cmd="insertEmoticon" data-param1="'.concat(n2.dataParam1, '" tabindex="0"\n      data-param2="').concat(n2.dataParam2, '"  title="').concat(n2.title, '" >\n      ').concat(n2.image, '<span class="fr-sr-only">').concat(n2.desc, "&nbsp;&nbsp;&nbsp;</span></span>");
              }), r3;
            }(e), "\n        </div>\n        ");
          }(i2), "\n                      ").concat(function e() {
            return E2.opts.emoticonsUseImage ? '<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a class="fr-link" tabIndex="-1" href="http://emojione.com/" target="_blank" rel="nofollow noopener noreferrer" role="link" aria-label="Open Emoji One website.">Emoji One</a></p>' : "";
          }());
        }
        return { _init: function e() {
          var a2 = function a3() {
            for (var e2 = E2.el.querySelectorAll(".fr-emoticon:not(.fr-deletable)"), t = 0; t < e2.length; t++) e2[t].className += " fr-deletable";
          };
          a2(), E2.events.on("html.set", a2), E2.events.on("keydown", function(e2) {
            if (E2.keys.isCharacter(e2.which) && E2.selection.inEditor()) {
              var t = E2.selection.ranges(0), a3 = s2();
              E2.node.hasClass(a3, "fr-emoticon-img") && a3 && (0 === t.startOffset && E2.selection.element() === a3 ? _(a3).before(St.MARKERS + St.INVISIBLE_SPACE) : _(a3).after(St.INVISIBLE_SPACE + St.MARKERS), E2.selection.restore());
            }
          }), E2.events.on("keyup", function(e2) {
            for (var t = E2.el.querySelectorAll(".fr-emoticon"), a3 = 0; a3 < t.length; a3++) "undefined" != typeof t[a3].textContent && 0 === t[a3].textContent.replace(/\u200B/gi, "").length && _(t[a3]).remove();
            if (!(e2.which >= St.KEYCODE.ARROW_LEFT && e2.which <= St.KEYCODE.ARROW_DOWN)) {
              var n2 = s2();
              E2.node.hasClass(n2, "fr-emoticon-img") && (_(n2).append(St.MARKERS), E2.selection.restore());
            }
          });
        }, insert: function c2(e, t) {
          var a2 = s2(), n2 = E2.selection.ranges(0);
          a2 ? (0 === n2.startOffset && E2.selection.element() === a2 ? _(a2).before(St.MARKERS + St.INVISIBLE_SPACE) : 0 < n2.startOffset && E2.selection.element() === a2 && n2.commonAncestorContainer.parentNode.classList.contains("fr-emoticon") && _(a2).after(St.INVISIBLE_SPACE + St.MARKERS), E2.selection.restore(), E2.html.insert('<span class="fr-emoticon fr-deletable'.concat(t ? " fr-emoticon-img" : "", '"').concat(t ? ' style="background: url('.concat(t, ');"') : "", ">").concat(t ? "&nbsp;" : e, "</span>&nbsp;").concat(St.MARKERS), true)) : E2.html.insert('<span class="fr-emoticon fr-deletable'.concat(t ? " fr-emoticon-img" : "", '"').concat(t ? ' style="background: url('.concat(t, ');"') : "", ">").concat(t ? "&nbsp;" : e, "</span>").concat(St.INVISIBLE_SPACE), true);
        }, setEmoticonCategory: function n2(t) {
          i2 = r2.filter(function(e) {
            return e.id === t;
          })[0], function a2() {
            E2.popups.get("emoticons").html(o2 + l2());
            var e = E2.popups.get("emoticons").children().not(".fr-buttons");
            E2.accessibility.registerPopup("emoticons"), E2.accessibility.focusContent(e);
          }();
        }, showEmoticonsPopup: function d2() {
          var e = E2.popups.get("emoticons");
          if (e || (e = function i3() {
            E2.opts.toolbarInline && 0 < E2.opts.emoticonsButtons.length && (o2 = '<div class="fr-buttons fr-emoticons-buttons fr-tabs">'.concat(E2.button.buildList(E2.opts.emoticonsButtons), "</div>"));
            var e2 = { buttons: o2, custom_layer: l2() }, t2 = E2.popups.create("emoticons", e2);
            return function a3(b2) {
              E2.events.on("popup.tab", function(e3) {
                var t3 = _(e3.currentTarget);
                if (!E2.popups.isVisible("emoticons") || !t3.is("span, a")) return true;
                var a4, n3, r4, i4 = e3.which, o3 = window.getComputedStyle(b2.find(".fr-icon-container")[0]), s3 = o3.getPropertyValue("grid-template-columns").split(" ").length;
                if (St.KEYCODE.TAB == i4) {
                  var l3 = b2.find("span.fr-emoticon");
                  if (t3.is(l3.first()) && e3.shiftKey || t3.is("a") && !e3.shiftKey) {
                    var c2 = b2.find(".fr-buttons");
                    a4 = !E2.accessibility.focusToolbar(c2, !!e3.shiftKey);
                  }
                  if (false !== a4) {
                    var d3 = b2.find("span.fr-emoticon");
                    d3.add(b2.find("a.fr-link")), d3.add(b2.find("button.fr-btn")), n3 = d3.index(t3), n3 = e3.shiftKey ? ((n3 - 1) % d3.length + d3.length) % d3.length : (n3 + 1) % d3.length, r4 = d3.get(n3), E2.events.disableBlur(), r4.focus(), a4 = false;
                  }
                } else if (St.KEYCODE.ARROW_UP == i4 || St.KEYCODE.ARROW_DOWN == i4 || St.KEYCODE.ARROW_LEFT == i4 || St.KEYCODE.ARROW_RIGHT == i4) {
                  if (t3.is("span.fr-emoticon")) {
                    var f2 = t3.parent().find("span.fr-emoticon");
                    n3 = f2.index(t3);
                    var p2 = s3, u2 = Math.ceil(f2.length / p2), g2 = n3 % p2, h2 = Math.floor(n3 / p2), m2 = h2 * p2 + g2, v2 = u2 * p2;
                    St.KEYCODE.ARROW_UP == i4 ? m2 = ((m2 - p2) % v2 + v2) % v2 : St.KEYCODE.ARROW_DOWN == i4 ? m2 = (m2 + p2) % v2 : St.KEYCODE.ARROW_LEFT == i4 ? m2 = ((m2 - 1) % v2 + v2) % v2 : St.KEYCODE.ARROW_RIGHT == i4 && (m2 = (m2 + 1) % v2), r4 = _(f2.get(m2)), E2.events.disableBlur(), r4.focus(), a4 = false;
                  }
                } else St.KEYCODE.ENTER == i4 && (t3.is("a") ? t3[0].click() : E2.button.exec(t3), a4 = false);
                return false === a4 && (e3.preventDefault(), e3.stopPropagation()), a4;
              }, true);
            }(t2), t2;
          }()), !e.hasClass("fr-active")) {
            E2.popups.refresh("emoticons"), E2.popups.setContainer("emoticons", E2.$tb);
            var t = E2.$tb.find('.fr-command[data-cmd="emoticons"]'), a2 = E2.button.getPosition(t), n2 = a2.left, r3 = a2.top;
            E2.popups.show("emoticons", n2, r3, t.outerHeight()), E2.popups.get("emoticons").css("overflow", "hidden");
          }
        }, back: function t() {
          E2.popups.hide("emoticons"), E2.toolbar.showInline();
        } };
      }, St.DefineIcon("emoticons", { NAME: "smile-o", FA5NAME: "smile", SVG_KEY: "smile" }), St.RegisterCommand("emoticons", { title: "Emoticons", undo: false, focus: true, refreshAfterCallback: false, popup: true, callback: function() {
        this.popups.isVisible("emoticons") ? (this.$el.find(".fr-marker").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide("emoticons")) : this.emoticons.showEmoticonsPopup();
      }, plugin: "emoticons" }), St.RegisterCommand("insertEmoticon", { callback: function(e, t, a2) {
        this.emoticons.insert(a2, this.opts.emoticonsUseImage ? "https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/".concat(t, ".svg") : null), this.popups.hide("emoticons");
      } }), St.RegisterCommand("setEmoticonCategory", { undo: false, focus: false, callback: function(e, t) {
        this.emoticons.setEmoticonCategory(t);
      } }), St.DefineIcon("emoticonsBack", { NAME: "arrow-left", SVG_KEY: "back" }), St.RegisterCommand("emoticonsBack", { title: "Back", undo: false, focus: false, back: true, refreshAfterCallback: false, callback: function() {
        this.emoticons.back();
      } }), Object.assign(St.DEFAULTS, { entities: "&quot;&#39;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;" }), St.PLUGINS.entities = function(r2) {
        var i2, o2, s2 = r2.$;
        function n2(e) {
          var t = e.textContent;
          if (t.match(i2)) {
            for (var a2 = "", n3 = 0; n3 < t.length; n3++) o2[t[n3]] ? a2 += o2[t[n3]] : a2 += t[n3];
            e.textContent = a2;
          }
        }
        function l2(e) {
          if (e && 0 <= ["STYLE", "SCRIPT", "svg", "IFRAME"].indexOf(e.tagName)) return true;
          for (var t = r2.node.contents(e), a2 = 0; a2 < t.length; a2++) t[a2].nodeType === Node.TEXT_NODE ? n2(t[a2]) : l2(t[a2]);
          return e.nodeType === Node.TEXT_NODE && n2(e), false;
        }
        var c2 = function c3(e) {
          return 0 === e.length ? "" : r2.clean.exec(e, l2).replace(/\&amp;/g, "&");
        };
        return { _init: function d2() {
          r2.opts.htmlSimpleAmpersand || (r2.opts.entities = "".concat(r2.opts.entities, "&amp;"));
          var e = s2(document.createElement("div")).html(r2.opts.entities).text(), t = r2.opts.entities.split(";");
          o2 = {}, i2 = "";
          for (var a2 = 0; a2 < e.length; a2++) {
            var n3 = e.charAt(a2);
            o2[n3] = "".concat(t[a2], ";"), i2 += "\\".concat(n3 + (a2 < e.length - 1 ? "|" : ""));
          }
          i2 = new RegExp("(".concat(i2, ")"), "g"), r2.events.on("html.get", c2, true);
        } };
      }, Object.assign(St.POPUP_TEMPLATES, { "file.insert": "[_BUTTONS_][_UPLOAD_LAYER_][_PROGRESS_BAR_]" }), Object.assign(St.DEFAULTS, { fileUpload: true, fileUploadURL: null, fileUploadParam: "file", fileUploadParams: {}, fileUploadToS3: false, fileUploadToAzure: false, fileUploadMethod: "POST", fileMaxSize: 10485760, fileAllowedTypes: ["*"], fileInsertButtons: ["fileBack", "|"], fileUseSelectedText: false }), St.PLUGINS.file = function(w) {
        var n2, p2 = w.$, y2 = "https://i.froala.com/upload", u2 = 2, g2 = 3, h2 = 4, A = 5, C = 6, a2 = {};
        function T() {
          var e = w.popups.get("file.insert");
          e || (e = l2()), e.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"), e.find(".fr-file-progress-bar-layer").addClass("fr-active"), e.find(".fr-buttons").hide(), r2(w.language.translate("Uploading"), 0);
        }
        function i2(e) {
          var t2 = w.popups.get("file.insert");
          t2 && (t2.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"), t2.find(".fr-file-progress-bar-layer").removeClass("fr-active"), t2.find(".fr-buttons").show(), e && (w.events.focus(), w.popups.hide("file.insert")));
        }
        function r2(e, t2) {
          var a3 = w.popups.get("file.insert");
          if (a3) {
            var n3 = a3.find(".fr-file-progress-bar-layer");
            n3.find("h3").text(e + (t2 ? " ".concat(t2, "%") : "")), n3.removeClass("fr-error"), t2 ? (n3.find("div").removeClass("fr-indeterminate"), n3.find("div > span").css("width", "".concat(t2, "%"))) : n3.find("div").addClass("fr-indeterminate");
          }
        }
        function m2(e, t2, a3, n3) {
          var r3;
          w.edit.on(), w.events.focus(true), w.selection.restore(), w.opts.fileUseSelectedText && w.selection.text().length && (t2 = w.selection.text());
          var i3 = '<a href="'.concat(e, '" id="fr-inserted-file" ');
          if (void 0 !== n3) for (r3 in n3) n3.hasOwnProperty(r3) && "link" != r3 && (i3 += "".concat(r3, '="').concat(n3[r3], '" '));
          -1 == i3.indexOf(' class="') && (i3 += 'class="fr-file" '), i3 += ">".concat(t2, "</a>"), w.html.insert(i3);
          var o3 = w.$el.find("#fr-inserted-file");
          o3.removeAttr("id"), w.popups.hide("file.insert"), w.undo.saveStep(), d2(), w.events.trigger("file.inserted", [o3, a3]);
        }
        function k(e, t2, a3) {
          var n3 = this.status, r3 = this.response, i3 = this.responseXML, o3 = this.responseText;
          try {
            if (w.opts.fileUploadToS3 || w.opts.fileUploadToAzure) if (201 === n3) {
              var s3;
              if (w.opts.fileUploadToAzure) {
                if (false === w.events.trigger("file.uploadedToAzure", [this.responseURL, a3, r3], true)) return w.edit.on(), false;
                s3 = t2;
              } else s3 = function c3(e2) {
                try {
                  var t3 = p2(e2).find("Location").text(), a4 = p2(e2).find("Key").text();
                  return false === w.events.trigger("file.uploadedToS3", [t3, a4, e2], true) ? (w.edit.on(), false) : t3;
                } catch (n4) {
                  return L(h2, e2), false;
                }
              }(i3);
              s3 && m2(s3, e, r3 || i3);
            } else L(h2, r3 || i3);
            else if (200 <= n3 && n3 < 300) {
              var l3 = function d3(e2) {
                try {
                  if (false === w.events.trigger("file.uploaded", [e2], true)) return w.edit.on(), false;
                  var t3 = JSON.parse(e2);
                  return t3.link ? t3 : (L(u2, e2), false);
                } catch (a4) {
                  return L(h2, e2), false;
                }
              }(o3);
              l3 && m2(l3.link, e, r3 || o3, l3);
            } else L(g2, r3 || o3);
          } catch (f2) {
            L(h2, r3 || o3);
          }
        }
        function S() {
          L(h2, this.response || this.responseText || this.responseXML);
        }
        function R(e) {
          if (e.lengthComputable) {
            var t2 = e.loaded / e.total * 100 | 0;
            r2(w.language.translate("Uploading"), t2);
          }
        }
        function L(e, t2) {
          w.edit.on(), function n3(e2) {
            T();
            var t3 = w.popups.get("file.insert").find(".fr-file-progress-bar-layer");
            t3.addClass("fr-error");
            var a3 = t3.find("h3");
            a3.text(e2), w.events.disableBlur(), a3.focus();
          }(w.language.translate("Something went wrong. Please try again.")), w.events.trigger("file.error", [{ code: e, message: a2[e] }, t2]);
        }
        function x() {
          w.edit.on(), i2(true);
        }
        function o2(e) {
          if (void 0 !== e && 0 < e.length) {
            var t2 = e[0].type;
            if (e[0].name && e[0].name.endsWith(".msg") && (t2 = "application/vnd.ms-outlook"), false === w.events.trigger("file.beforeUpload", [e])) return false;
            var a3, n3 = e[0];
            if (!(null !== w.opts.fileUploadURL && w.opts.fileUploadURL !== y2 || w.opts.fileUploadToS3 || w.opts.fileUploadToAzure)) return function _(i4) {
              var o4 = new FileReader();
              o4.onload = function() {
                for (var e2 = o4.result, t3 = atob(o4.result.split(",")[1]), a4 = [], n4 = 0; n4 < t3.length; n4++) a4.push(t3.charCodeAt(n4));
                var r4 = i4.type;
                i4.name && i4.name.endsWith(".msg") && (r4 = "application/vnd.ms-outlook"), e2 = window.URL.createObjectURL(new Blob([new Uint8Array(a4)], { type: r4 })), w.file.insert(e2, i4.name, null);
              }, T(), o4.readAsDataURL(i4);
            }(n3), false;
            if (n3.size > w.opts.fileMaxSize) return L(A), false;
            if (w.opts.fileAllowedTypes.indexOf("*") < 0 && w.opts.fileAllowedTypes.indexOf(t2.replace(/file\//g, "")) < 0) return L(C), false;
            if (w.drag_support.formdata && (a3 = w.drag_support.formdata ? new FormData() : null), a3) {
              var r3;
              if (false !== w.opts.fileUploadToS3) for (r3 in a3.append("key", w.opts.fileUploadToS3.keyStart + (/* @__PURE__ */ new Date()).getTime() + "-" + (n3.name || "untitled")), a3.append("success_action_status", "201"), a3.append("X-Requested-With", "xhr"), a3.append("Content-Type", t2), w.opts.fileUploadToS3.params) w.opts.fileUploadToS3.params.hasOwnProperty(r3) && a3.append(r3, w.opts.fileUploadToS3.params[r3]);
              for (r3 in w.opts.fileUploadParams) w.opts.fileUploadParams.hasOwnProperty(r3) && a3.append(r3, w.opts.fileUploadParams[r3]);
              a3.append(w.opts.fileUploadParam, n3);
              var i3, o3, s3 = w.opts.fileUploadURL;
              w.opts.fileUploadToS3 && (s3 = w.opts.fileUploadToS3.uploadURL ? w.opts.fileUploadToS3.uploadURL : "https://".concat(w.opts.fileUploadToS3.region, ".amazonaws.com/").concat(w.opts.fileUploadToS3.bucket));
              var l3 = w.opts.fileUploadMethod;
              w.opts.fileUploadToAzure && (s3 = w.opts.fileUploadToAzure.uploadURL ? "".concat(w.opts.fileUploadToAzure.uploadURL, "/").concat(n3.name) : encodeURI("https://".concat(w.opts.fileUploadToAzure.account, ".blob.core.windows.net/").concat(w.opts.fileUploadToAzure.container, "/").concat(n3.name)), i3 = s3, w.opts.fileUploadToAzure.SASToken && (s3 += w.opts.fileUploadToAzure.SASToken), l3 = "PUT");
              var c3 = w.core.getXHR(s3, l3);
              if (w.opts.fileUploadToAzure) {
                var d3 = (/* @__PURE__ */ new Date()).toUTCString();
                if (!w.opts.fileUploadToAzure.SASToken && w.opts.fileUploadToAzure.accessKey) {
                  var f2 = w.opts.fileUploadToAzure.account, p3 = w.opts.fileUploadToAzure.container;
                  if (w.opts.fileUploadToAzure.uploadURL) {
                    var u3 = w.opts.fileUploadToAzure.uploadURL.split("/");
                    p3 = u3.pop(), f2 = u3.pop().split(".")[0];
                  }
                  var g3 = "x-ms-blob-type:BlockBlob\nx-ms-date:".concat(d3, "\nx-ms-version:2019-07-07"), h3 = encodeURI("/" + f2 + "/" + p3 + "/" + n3.name), m3 = l3 + "\n\n\n" + n3.size + "\n\n" + t2 + "\n\n\n\n\n\n\n" + g3 + "\n" + h3, v2 = w.cryptoJSPlugin.cryptoJS.HmacSHA256(m3, w.cryptoJSPlugin.cryptoJS.enc.Base64.parse(w.opts.fileUploadToAzure.accessKey)).toString(w.cryptoJSPlugin.cryptoJS.enc.Base64), b2 = "SharedKey " + f2 + ":" + v2;
                  o3 = v2, c3.setRequestHeader("Authorization", b2);
                }
                for (r3 in c3.setRequestHeader("x-ms-version", "2019-07-07"), c3.setRequestHeader("x-ms-date", d3), c3.setRequestHeader("Content-Type", t2), c3.setRequestHeader("x-ms-blob-type", "BlockBlob"), w.opts.fileUploadParams) w.opts.fileUploadParams.hasOwnProperty(r3) && c3.setRequestHeader(r3, w.opts.fileUploadParams[r3]);
                for (r3 in w.opts.fileUploadToAzure.params) w.opts.fileUploadToAzure.params.hasOwnProperty(r3) && c3.setRequestHeader(r3, w.opts.fileUploadToAzure.params[r3]);
              }
              c3.onload = function() {
                k.call(c3, n3.name, i3, o3);
              }, c3.onerror = S, c3.upload.onprogress = R, c3.onabort = x, T();
              var E2 = w.popups.get("file.insert");
              E2 && (E2.off("abortUpload"), E2.on("abortUpload", function() {
                4 !== c3.readyState && c3.abort();
              })), c3.send(w.opts.fileUploadToAzure ? n3 : a3);
            }
          }
        }
        function s2() {
          i2();
        }
        function l2(e) {
          if (e) return w.popups.onHide("file.insert", s2), true;
          var t2;
          w.opts.fileUpload || w.opts.fileInsertButtons.splice(w.opts.fileInsertButtons.indexOf("fileUpload"), 1), t2 = '<div class="fr-buttons fr-tabs">'.concat(w.button.buildList(w.opts.fileInsertButtons), "</div>");
          var a3 = "";
          w.opts.fileUpload && (a3 = '<div class="fr-file-upload-layer fr-layer fr-active" id="fr-file-upload-layer-'.concat(w.id, '"><strong>').concat(w.language.translate("Drop file"), "</strong><br>(").concat(w.language.translate("or click"), ')<div class="fr-form"><input type="file" name="').concat(w.opts.fileUploadParam, '" accept="').concat(0 <= w.opts.fileAllowedTypes.indexOf("*") ? "/" : "").concat(w.opts.fileAllowedTypes.join(", ").toLowerCase(), '" tabIndex="-1" aria-labelledby="fr-file-upload-layer-').concat(w.id, '" role="button"></div></div>'));
          var n3 = { buttons: t2, upload_layer: a3, progress_bar: '<div class="fr-file-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="fileDismissError" tabIndex="2" role="button">OK</button></div></div>' }, r3 = w.popups.create("file.insert", n3);
          return function i3(a4) {
            w.events.$on(a4, "dragover dragenter", ".fr-file-upload-layer", function() {
              return p2(this).addClass("fr-drop"), false;
            }, true), w.events.$on(a4, "dragleave dragend", ".fr-file-upload-layer", function() {
              return p2(this).removeClass("fr-drop"), false;
            }, true), w.events.$on(a4, "drop", ".fr-file-upload-layer", function(e2) {
              e2.preventDefault(), e2.stopPropagation(), p2(this).removeClass("fr-drop");
              var t3 = e2.originalEvent.dataTransfer;
              t3 && t3.files && (a4.data("instance") || w).file.upload(t3.files);
            }, true), w.helpers.isIOS() && w.events.$on(a4, "touchstart", '.fr-file-upload-layer input[type="file"]', function() {
              p2(this).trigger("click");
            }), w.events.$on(a4, "change", '.fr-file-upload-layer input[type="file"]', function() {
              if (this.files) {
                var e2 = a4.data("instance") || w;
                e2.events.disableBlur(), a4.find("input:focus").blur(), e2.events.enableBlur(), e2.file.upload(this.files);
              }
              p2(this).val("");
            }, true);
          }(r3), r3;
        }
        function t(e) {
          w.node.hasClass(e, "fr-file");
        }
        function c2(e) {
          var t2 = e.originalEvent.dataTransfer;
          if (t2 && t2.files && t2.files.length) {
            var a3 = t2.files[0];
            if (a3 && "undefined" != typeof a3.type) {
              if (a3.type.indexOf("image") < 0) {
                if (!w.opts.fileUpload) return e.preventDefault(), e.stopPropagation(), false;
                w.markers.remove(), w.markers.insertAtPoint(e.originalEvent), w.$el.find(".fr-marker").replaceWith(St.MARKERS), w.popups.hideAll();
                var n3 = w.popups.get("file.insert");
                return n3 || (n3 = l2()), w.popups.setContainer("file.insert", w.$sc), w.popups.show("file.insert", e.originalEvent.pageX, e.originalEvent.pageY), T(), o2(t2.files), e.preventDefault(), e.stopPropagation(), false;
              }
            } else a3.type.indexOf("image") < 0 && (e.preventDefault(), e.stopPropagation());
          }
        }
        function d2() {
          var e, t2 = Array.prototype.slice.call(w.el.querySelectorAll("a.fr-file")), a3 = [];
          for (e = 0; e < t2.length; e++) a3.push(t2[e].getAttribute("href"));
          if (n2) for (e = 0; e < n2.length; e++) a3.indexOf(n2[e].getAttribute("href")) < 0 && w.events.trigger("file.unlink", [n2[e]]);
          n2 = t2;
        }
        return a2[1] = "File cannot be loaded from the passed link.", a2[u2] = "No link in upload response.", a2[g2] = "Error during file upload.", a2[h2] = "Parsing response failed.", a2[A] = "File is too large.", a2[C] = "File file type is invalid.", a2[7] = "Files can be uploaded only to same domain in IE 8 and IE 9.", { _init: function f2() {
          !function e() {
            w.events.on("drop", c2), w.events.$on(w.$win, "keydown", function(e2) {
              var t2 = e2.which, a3 = w.popups.get("file.insert");
              a3 && t2 === St.KEYCODE.ESC && a3.trigger("abortUpload");
            }), w.events.on("destroy", function() {
              var e2 = w.popups.get("file.insert");
              e2 && e2.trigger("abortUpload");
            });
          }(), w.events.on("link.beforeRemove", t), w.$wp && (d2(), w.events.on("contentChanged", d2)), l2(true);
        }, showInsertPopup: function v2() {
          var e = w.$tb.find('.fr-command[data-cmd="insertFile"]'), t2 = w.popups.get("file.insert");
          if (t2 || (t2 = l2()), i2(), !t2.hasClass("fr-active")) if (w.popups.refresh("file.insert"), w.popups.setContainer("file.insert", w.$tb), e.isVisible) {
            var a3 = w.button.getPosition(e), n3 = a3.left, r3 = a3.top;
            w.popups.show("file.insert", n3, r3, e.outerHeight());
          } else w.position.forSelection(t2), w.popups.show("file.insert");
        }, upload: o2, insert: m2, back: function e() {
          w.events.disableBlur(), w.selection.restore(), w.events.enableBlur(), w.popups.hide("file.insert"), w.toolbar.showInline();
        }, hideProgressBar: i2 };
      }, St.DefineIcon("insertFile", { NAME: "file-o", FA5NAME: "file", SVG_KEY: "insertFile" }), St.RegisterCommand("insertFile", { title: "Upload File", undo: false, focus: true, refreshAfterCallback: false, popup: true, callback: function() {
        this.popups.isVisible("file.insert") ? (this.$el.find(".fr-marker").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide("file.insert")) : this.file.showInsertPopup();
      }, plugin: "file" }), St.DefineIcon("fileBack", { NAME: "arrow-left", SVG_KEY: "back" }), St.RegisterCommand("fileBack", { title: "Back", undo: false, focus: false, back: true, refreshAfterCallback: false, callback: function() {
        this.file.back();
      }, refresh: function(e) {
        this.opts.toolbarInline ? (e.removeClass("fr-hidden"), e.next(".fr-separator").removeClass("fr-hidden")) : (e.addClass("fr-hidden"), e.next(".fr-separator").addClass("fr-hidden"));
      } }), St.RegisterCommand("fileDismissError", { title: "OK", callback: function() {
        this.file.hideProgressBar(true);
      } }), Object.assign(St.POPUP_TEMPLATES, { "filesManager.insert": "[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_PROGRESS_LAYER_][_PROGRESS_BAR_]", "image.edit": "[_BUTTONS_]", "image.alt": "[_BUTTONS_][_ALT_LAYER_]", "image.size": "[_BUTTONS_][_SIZE_LAYER_]" }), Object.assign(St.DEFAULTS, { filesInsertButtons: ["imageBack", "|", "filesUpload", "filesByURL", "filesEmbed"], filesInsertButtons2: ["deleteAll", "insertAll", "cancel", "minimize"], imageEditButtons: ["imageReplace", "imageAlign", "imageCaption", "imageRemove", "imageLink", "linkOpen", "linkEdit", "linkRemove", "-", "imageDisplay", "imageStyle", "imageAlt", "imageSize"], imageAltButtons: ["imageBack", "|"], imageSizeButtons: ["imageBack", "|"], imageUpload: true, filesManagerUploadURL: null, imageCORSProxy: "https://cors-anywhere.froala.com", imageUploadRemoteUrls: true, filesManagerUploadParam: "file", filesManagerUploadParams: {}, googleOptions: {}, filesManagerUploadToS3: false, filesManagerUploadToAzure: false, filesManagerUploadMethod: "POST", filesManagerMaxSize: 10485760, filesManagerAllowedTypes: ["*"], imageResize: true, imageResizeWithPercent: false, imageRoundPercent: false, imageDefaultWidth: 300, imageDefaultAlign: "center", imageDefaultDisplay: "block", imageSplitHTML: false, imageStyles: { "fr-rounded": "Rounded", "fr-bordered": "Bordered", "fr-shadow": "Shadow" }, imageMove: true, imageMultipleStyles: true, imageTextNear: true, imagePaste: true, imagePasteProcess: false, imageMinWidth: 16, imageOutputSize: false, imageDefaultMargin: 5, imageAddNewLine: false }), St.VIDEO_PROVIDERS = [{ test_regex: /^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\??v?=?([^#\&\?]*).*/, url_regex: /(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/)?([0-9a-zA-Z_\-]+)(.+)?/g, url_text: "https://www.youtube.com/embed/$1?$2", html: '<iframe width="640" height="360" src="{url}&wmode=opaque" frameborder="0" allowfullscreen></iframe>', provider: "youtube" }, { test_regex: /^.*(?:vimeo.com)\/(?:channels(\/\w+\/)?|groups\/*\/videos\/\u200b\d+\/|video\/|)(\d+)(?:$|\/|\?)/, url_regex: /(?:https?:\/\/)?(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?(\/[a-zA-Z0-9_\-]+)?/i, url_text: "https://player.vimeo.com/video/$1", html: '<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>', provider: "vimeo" }, { test_regex: /^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/, url_regex: /(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g, url_text: "https://www.dailymotion.com/embed/video/$1", html: '<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>', provider: "dailymotion" }, { test_regex: /^.+(screen.yahoo.com)\/[^_&]+/, url_regex: "", url_text: "", html: '<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>', provider: "yahoo" }, { test_regex: /^.+(rutube.ru)\/[^_&]+/, url_regex: /(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g, url_text: "https://rutube.ru/play/embed/$1", html: '<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>', provider: "rutube" }, { test_regex: /^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/, url_regex: /^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/g, url_text: "https://play.vidyard.com/$1", html: '<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>', provider: "vidyard" }], St.VIDEO_EMBED_REGEX = /^\W*((<iframe(.|\n)*>(\s|\n)*<\/iframe>)|(<embed(.|\n)*>))\W*$/i, St.IMAGE_EMBED_REGEX = /^\W*((<img(.|\n)*>(\s|\n)*))\W*$/i, St.IMAGE_TYPE = "image/png", St.IMAGE_ALLOW_REGEX = /\.(gif|jpe?g|tiff?|png|webp|bmp)$/i, St.PLUGINS.filesManager = function(R) {
        var w, o2, L, l2, c2, d2, s2, f2, x = R.$, y2 = "https://i.froala.com/upload", p2 = false, t = false, I2 = /* @__PURE__ */ new Map(), O2 = /* @__PURE__ */ new Map(), A = /* @__PURE__ */ new Map(), C = /* @__PURE__ */ new Map(), F = /* @__PURE__ */ new Map(), T = /* @__PURE__ */ new Map(), i2 = 0, r2 = [], u2 = -1, M = [], g2 = 0, h2 = ["file", "image", "imageTUI", "video"], N = 1, m2 = 2, k = 3, S = 4, D = 5, P = 6, B = 10, U = ["video/avi", "video/mpeg", "video/x-ms-wmv"], v2 = {};
        function b2() {
          var e = R.popups.get("filesManager.insert"), t2 = e.find(".fr-files-by-url-layer input");
          t2.val(""), e.find(".fr-files-embed-layer textarea").val("").trigger("change"), t2.trigger("change");
        }
        function E2(e) {
          var t2;
          R.hasOwnProperty("imageTUI") || (s2 = "fr-disabled"), T.forEach(function(e2, t3) {
            X(t3);
          }), _() ? (t2 = R.popups.get("filesManager.insert")) || (t2 = He2()) : (t2 = R.popups.get("filesManager.insert")) || (t2 = function o3() {
            var e2 = "<div style= 'padding:10px'>\n    <div class = 'fr-message'><h3 style ='font-size: 16px; margin: 10px 10px;font-weight: normal;'>".concat(R.language.translate(function n4() {
              var e3 = "", t4 = function a5() {
                var t5 = [];
                return h2.forEach(function(e4) {
                  R.opts.pluginsEnabled.indexOf(e4) < 0 && t5.push(e4.charAt(0).toUpperCase() + e4.slice(1));
                }), t5;
              }();
              e3 = t4.join(", "), 1 < t4.length ? e3 += " plugin are" : e3 += " plugin is";
              return e3;
            }() + " not enabled. Do you want to enable?"), "</h3></div>\n    <div style='text-align:right;'>\n      <button class='fr-trim-button fr-plugins-enable'>").concat(R.language.translate("Enable"), "</button>               \n      <button class='fr-trim-button fr-plugins-cancel'>").concat(R.language.translate("Cancel"), "</button>\n    </div>"), t3 = { buttons: '<div class="fr-buttons fr-tabs"></div>', upload_layer: e2, by_url_layer: "", embed_layer: "", upload_progress_layer: "", progress_bar: "" }, a4 = R.popups.create("filesManager.insert", t3);
            return Fe(a4), a4;
          }());
          var a3 = R.$tb.find('.fr-command[data-cmd="insertFiles"]');
          if (J(), e || !t2.hasClass("fr-active")) if (e || Z(), R.popups.refresh("filesManager.insert"), R.popups.setContainer("filesManager.insert", R.$tb), a3.isVisible()) {
            var n3 = R.button.getPosition(a3, I2.size), r3 = n3.left, i3 = n3.top;
            R.popups.show("filesManager.insert", r3, i3, a3.outerHeight());
          } else R.position.forSelection(t2), R.popups.show("filesManager.insert");
          R.popups.setPopupDimensions(t2), _() && R.popups.setFileListHeight(t2), t2.find(".fr-upload-progress") && 0 == I2.size && t2.find(".fr-upload-progress").addClass("fr-none");
        }
        function _() {
          var t2 = true;
          return h2.forEach(function(e) {
            R.opts.pluginsEnabled.indexOf(e) < 0 && (t2 = false);
          }), t2;
        }
        function H() {
          J();
        }
        function $() {
          if (l2 || function o3() {
            var e2;
            R.shared.$image_resizer ? (l2 = R.shared.$image_resizer, d2 = R.shared.$img_overlay, R.events.on("destroy", function() {
              x("body").first().append(l2.removeClass("fr-active"));
            }, true)) : (R.shared.$image_resizer = x(document.createElement("div")).attr("class", "fr-image-resizer"), l2 = R.shared.$image_resizer, R.events.$on(l2, "mousedown", function(e3) {
              e3.stopPropagation();
            }, true), R.opts.imageResize && (l2.append(z("nw") + z("ne") + z("sw") + z("se")), R.shared.$img_overlay = x(document.createElement("div")).attr("class", "fr-image-overlay"), d2 = R.shared.$img_overlay, e2 = l2.get(0).ownerDocument, x(e2).find("body").first().append(d2)));
            R.events.on("shared.destroy", function() {
              l2.html("").removeData().remove(), l2 = null, R.opts.imageResize && (d2.remove(), d2 = null);
            }, true), R.helpers.isMobile() || R.events.$on(x(R.o_win), "resize", function() {
              w && !w.hasClass("fr-uploading") ? at(true) : w && ($(), replace(), Q(false));
            });
            if (R.opts.imageResize) {
              e2 = l2.get(0).ownerDocument, R.events.$on(l2, R._mousedown, ".fr-handler", K), R.events.$on(x(e2), R._mousemove, G), R.events.$on(x(e2.defaultView || e2.parentWindow), R._mouseup, V), R.events.$on(d2, "mouseleave", V);
              var n4 = 1, r4 = null, i4 = 0;
              R.events.on("keydown", function(e3) {
                if (w) {
                  var t3 = -1 != navigator.userAgent.indexOf("Mac OS X") ? e3.metaKey : e3.ctrlKey, a4 = e3.which;
                  (a4 !== r4 || 200 < e3.timeStamp - i4) && (n4 = 1), (a4 == St.KEYCODE.EQUALS || R.browser.mozilla && a4 == St.KEYCODE.FF_EQUALS) && t3 && !e3.altKey ? n4 = je.call(this, e3, 1, 1, n4) : (a4 == St.KEYCODE.HYPHEN || R.browser.mozilla && a4 == St.KEYCODE.FF_HYPHEN) && t3 && !e3.altKey ? n4 = je.call(this, e3, 2, -1, n4) : R.keys.ctrlKey(e3) || a4 != St.KEYCODE.ENTER || (w.before("<br>"), Ae(w)), r4 = a4, i4 = e3.timeStamp;
                }
              }, true), R.events.on("keyup", function() {
                n4 = 1;
              });
            }
          }(), !w) return false;
          var e = R.$wp || R.$sc;
          e.append(l2), l2.data("instance", R);
          var t2 = e.scrollTop() - ("static" != e.css("position") ? e.offset().top : 0), a3 = e.scrollLeft() - ("static" != e.css("position") ? e.offset().left : 0);
          a3 -= R.helpers.getPX(e.css("border-left-width")), t2 -= R.helpers.getPX(e.css("border-top-width")), R.$el.is("img") && R.$sc.is("body") && (a3 = t2 = 0);
          var n3 = lt();
          ct() && (n3 = n3.find(".fr-img-wrap"));
          var r3 = 0, i3 = 0;
          R.opts.iframe && (r3 = R.helpers.getPX(R.$wp.find(".fr-iframe").css("padding-top")), i3 = R.helpers.getPX(R.$wp.find(".fr-iframe").css("padding-left"))), l2.css("top", (R.opts.iframe ? n3.offset().top + r3 : n3.offset().top + t2) - 1).css("left", (R.opts.iframe ? n3.offset().left + i3 : n3.offset().left + a3) - 1).css("width", n3.get(0).getBoundingClientRect().width).css("height", n3.get(0).getBoundingClientRect().height).addClass("fr-active");
        }
        function z(e) {
          return '<div class="fr-handler fr-h'.concat(e, '"></div>');
        }
        function W(e) {
          ct() ? w.parents(".fr-img-caption").css("width", e) : w.css("width", e);
        }
        function K(e) {
          if (!R.core.sameInstance(l2)) return true;
          if (e.preventDefault(), e.stopPropagation(), R.$el.find("img.fr-error").left) return false;
          R.undo.canDo() || R.undo.saveStep();
          var t2 = e.pageX || e.originalEvent.touches[0].pageX;
          if ("mousedown" == e.type) {
            var a3 = R.$oel.get(0).ownerDocument, n3 = a3.defaultView || a3.parentWindow, r3 = false;
            try {
              r3 = n3.location != n3.parent.location && !(n3.$ && n3.$.FE);
            } catch (s3) {
            }
            r3 && n3.frameElement && (t2 += R.helpers.getPX(x(n3.frameElement).offset().left) + n3.frameElement.clientLeft);
          }
          (c2 = x(this)).data("start-x", t2), c2.data("start-width", w.width()), c2.data("start-height", w.height());
          var i3 = w.width();
          if (R.opts.imageResizeWithPercent) {
            var o3 = w.parentsUntil(R.$el, R.html.blockTagsQuery()).get(0) || R.el;
            i3 = (i3 / x(o3).outerWidth() * 100).toFixed(2) + "%";
          }
          W(i3), d2.show(), R.popups.hideAll(), it();
        }
        function G(e) {
          if (!R.core.sameInstance(l2)) return true;
          var t2;
          if (c2 && w) {
            if (e.preventDefault(), R.$el.find("img.fr-error").left) return false;
            var a3 = e.pageX || (e.originalEvent.touches ? e.originalEvent.touches[0].pageX : null);
            if (!a3) return false;
            var n3 = a3 - c2.data("start-x"), r3 = c2.data("start-width");
            if ((c2.hasClass("fr-hnw") || c2.hasClass("fr-hsw")) && (n3 = 0 - n3), R.opts.imageResizeWithPercent) {
              var i3 = w.parentsUntil(R.$el, R.html.blockTagsQuery()).get(0) || R.el;
              r3 = ((r3 + n3) / x(i3).outerWidth() * 100).toFixed(2), R.opts.imageRoundPercent && (r3 = Math.round(r3)), W("".concat(r3, "%")), (t2 = ct() ? (R.helpers.getPX(w.parents(".fr-img-caption").css("width")) / x(i3).outerWidth() * 100).toFixed(2) : (R.helpers.getPX(w.css("width")) / x(i3).outerWidth() * 100).toFixed(2)) === r3 || R.opts.imageRoundPercent || W("".concat(t2, "%")), w.css("height", "").removeAttr("height");
            } else r3 + n3 >= R.opts.imageMinWidth && (W(r3 + n3), t2 = ct() ? R.helpers.getPX(w.parents(".fr-img-caption").css("width")) : R.helpers.getPX(w.css("width"))), t2 !== r3 + n3 && W(t2), ((w.attr("style") || "").match(/(^height:)|(; *height:)/) || w.attr("height")) && (w.css("height", c2.data("start-height") * w.width() / c2.data("start-width")), w.removeAttr("height"));
            $(), R.events.trigger("image.resize", [st()]);
          }
        }
        function V(e) {
          if (!R.core.sameInstance(l2)) return true;
          if (c2 && w) {
            if (e && e.stopPropagation(), R.$el.find("img.fr-error").left) return false;
            c2 = null, d2.hide(), $(), R.undo.saveStep(), R.events.trigger("image.resizeEnd", [st()]);
          } else l2.removeClass("fr-active");
        }
        function Y() {
          T.forEach(function(e, t2) {
            var a3 = R.popups.get("filesManager.insert");
            a3.find(".fr-checkbox-file-" + t2).get(0).disabled = true, document.getElementById("fr-file-autoplay-button-" + t2) && (document.getElementById("fr-file-autoplay-button-" + t2).disabled = true, document.getElementById("fr-file-autoplay-button-" + t2).parentElement.classList.add("fr-checkbox-disabled"), document.getElementById("fr-file-autoplay-button-" + t2).parentElement.classList.remove("fr-files-checkbox")), a3.find(".fr-checkbox-" + t2).get(0).classList.remove("fr-files-checkbox"), a3.find(".fr-checkbox-" + t2).get(0).classList.add("fr-checkbox-disabled");
          });
        }
        function j(e, t2, a3, n3) {
          R.edit.on(), w && w.addClass("fr-error"), v2[e] ? (e != k && e != m2 && e != S || _e(100, n3, true), T.set(n3, v2[e]), Y(), function r3() {
            T.forEach(function(e2, t3) {
              R.popups.get("filesManager.insert"), document.getElementById("fr-file-edit-button-".concat(t3)) && (document.getElementById("fr-file-edit-button-".concat(t3)).classList.add("fr-disabled"), document.getElementById("fr-file-view-button-".concat(t3)).classList.add("fr-disabled"), document.getElementById("fr-file-insert-button-".concat(t3)).classList.add("fr-disabled"));
            });
          }(), ae(R.language.translate(v2[e]), n3)) : ae(R.language.translate("Something went wrong. Please try again."), n3), !w && a3 && qe(a3), R.events.trigger("filesManager.error", [{ code: e, message: v2[e] }, t2, a3]);
        }
        function q() {
          var e = R.popups.get("filesManager.insert"), t2 = e.find('.fr-command[data-cmd="insertAll"]'), a3 = e.find('.fr-command[data-cmd="deleteAll"]'), n3 = true;
          F.forEach(function r3(e2, t3, a4) {
            F.get(t3) && (n3 = false);
          }), n3 ? t2.addClass("fr-disabled") : t2.removeClass("fr-disabled"), n3 ? a3.addClass("fr-disabled") : a3.removeClass("fr-disabled");
        }
        function X(e) {
          O2.get(e) && O2.get(e).link && R.events.trigger("filesManager.removed", [O2.get(e).link]);
          var t2 = R.popups.get("filesManager.insert");
          t2.find(".fr-file-" + e).get(0) !== void 0 && (t2.find(".fr-file-" + e).get(0).outerHTML = ""), O2["delete"](e), I2["delete"](e), F["delete"](e), q(), 0 == I2.size && (g2 = 0), T["delete"](e), R.popups.setPopupDimensions(t2, true), R.opts.toolbarBottom ? E2(true) : R.popups.setPopupDimensions(t2), t2.find(".fr-upload-progress") && 0 == I2.size && t2.find(".fr-upload-progress").addClass("fr-none");
        }
        function Z() {
          for (var e = R.popups.get("filesManager.insert"), t2 = e.find(".fr-insert-checkbox"), a3 = 0; a3 < t2.length; a3++) t2.get(a3).children.target.checked = false, e.find(".fr-file-" + t2.get(a3).id.split("-").pop()).get(0).classList.add("fr-unchecked");
          if (L) document.getElementById("fr-file-autoplay-button-".concat(L)) && (document.getElementById("fr-file-autoplay-button-".concat(L)).checked = false), M = M.filter(function(e2) {
            return e2 != L;
          });
          else {
            for (var n3 = e.find(".fr-file-autoplay-button"), r3 = 0; r3 < n3.length; r3++) n3.get(r3).checked = false;
            M = [];
          }
          F = /* @__PURE__ */ new Map(), q();
        }
        function Q(e) {
          var t2 = R.popups.get("filesManager.insert");
          if (t2 || (t2 = He2()), t2.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"), t2.find(".fr-files-progress-bar-layer").addClass("fr-active"), t2.find(".fr-buttons").hide(), w) {
            var a3 = lt();
            R.popups.setContainer("filesManager.insert", R.$sc);
            var n3 = a3.offset().left, r3 = a3.offset().top + a3.height();
            R.popups.show("filesManager.insert", n3, r3, a3.outerHeight());
          }
          void 0 === e && ee(R.language.translate("Uploading"), 0);
        }
        function J(e) {
          var t2 = R.popups.get("filesManager.insert");
          if (t2 && (t2.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"), t2.find(".fr-files-progress-bar-layer").removeClass("fr-active"), t2.find(".fr-buttons").show(), e || R.$el.find("img.fr-error").length)) {
            if (R.events.focus(), R.$el.find("img.fr-error").length && (R.$el.find("img.fr-error").remove(), R.undo.saveStep(), R.undo.run(), R.undo.dropRedo()), !R.$wp && w) {
              var a3 = w;
              at(true), R.selection.setAfter(a3.get(0)), R.selection.restore();
            }
            R.popups.hide("filesManager.insert");
          }
        }
        function ee(e, t2) {
          var a3 = R.popups.get("filesManager.insert");
          if (a3) {
            var n3 = a3.find(".fr-files-progress-bar-layer");
            n3.find("h3").text(e + (t2 ? " ".concat(t2, "%") : "")), n3.removeClass("fr-error"), t2 ? (n3.find("div").removeClass("fr-indeterminate"), n3.find("div > span").css("width", "".concat(t2, "%"))) : n3.find("div").addClass("fr-indeterminate");
          }
        }
        function te(e) {
          Q();
          var t2 = R.popups.get("filesManager.insert").find(".fr-files-progress-bar-layer");
          t2.addClass("fr-error");
          var a3 = t2.find("h3");
          a3.text(e), R.events.disableBlur(), a3.focus();
        }
        function ae(e, t2) {
          var a3 = R.popups.get("filesManager.insert"), n3 = a3.find(".fr-upload-progress-layer"), r3 = a3.find(".fr-file-".concat(t2));
          n3.addClass("fr-error"), r3.find("h5").text(e);
        }
        v2[N] = "File cannot be loaded from the passed link.", v2[m2] = "No link in upload response.", v2[k] = "Error during file upload.", v2[S] = "Parsing response failed.", v2[D] = "File is too large.", v2[P] = "File type is invalid.", v2[7] = "Files can be uploaded only to same domain in IE 8 and IE 9.", v2[8] = "File is corrupted.", v2[9] = "Error during file loading.", v2[B] = "File upload cancelled";
        var a2, ne, re, ie, oe, se, n2, le, ce, de, fe = "";
        function pe(e) {
          fe = e, a2 = document.getElementsByClassName(e), Array.prototype.map.call(a2, function(e2) {
            !function n3(e3) {
              if (e3.addEventListener("dragover", function(e4) {
                e4.preventDefault(), e4.stopPropagation(), ne = e4.pageX, re = e4.pageY;
                var t3 = document.getElementById("filesList");
                re + 20 > t3.getBoundingClientRect().bottom && ue(t3, 0, 10), re - 20 < t3.getBoundingClientRect().top && ue(t3, 0, -10);
              }, false), R.helpers.isMobile()) {
                var t2 = e3.getElementsByClassName("dot");
                t2[0].addEventListener("touchmove", function(e4) {
                  e4.preventDefault(), e4.stopPropagation();
                  for (var t3 = e4.target; t3 && !t3.classList.contains(fe); ) t3 = t3.parentElement;
                  for (var a4 = document.elementFromPoint(e4.targetTouches[0].clientX, e4.targetTouches[0].clientY); a4 && !a4.classList.contains(fe); ) a4 = a4.parentElement;
                  var n4 = document.getElementsByClassName("fr-hovered-over-file");
                  Array.prototype.forEach.call(n4, function(e5) {
                    e5.classList.remove("fr-hovered-over-file");
                  }), a4 && !t3.classList.contains("fr-unchecked") && a4.classList.add("fr-hovered-over-file");
                  var r3 = document.getElementById("filesList");
                  e4.targetTouches[0].clientY + 5 > r3.getBoundingClientRect().bottom && ue(r3, 0, 5), e4.targetTouches[0].clientY - 5 < r3.getBoundingClientRect().top && ue(r3, 0, -5);
                }, false);
              }
              if (e3.ondrag = ge, e3.ondragend = he, R.helpers.isMobile()) {
                var a3 = e3.getElementsByClassName("dot");
                a3[0].addEventListener("touchmove", ge, false), a3[0].addEventListener("touchend", he, false);
              }
            }(e2);
          });
        }
        function ue(e, t2, a3) {
          e.scrollLeft += t2, e.scrollTop += a3;
        }
        function ge(e) {
          for (R.helpers.isMobile() && (oe = event.touches[0].clientX, se = event.touches[0].clientY), ie = e.target; !ie.classList.contains(fe); ) ie = ie.parentElement;
          ie.classList.contains(fe) && !ie.classList.contains("fr-unchecked") ? R.helpers.isMobile() && ie.classList.add("drag-sort-active") : ie = void 0;
        }
        function he(e) {
          var t2;
          if (ie !== void 0) {
            var a3, n3;
            if (R.helpers.isMobile()) for (a3 = oe, n3 = se, t2 = event.target; !t2.classList.contains(fe); ) t2 = t2.parentElement;
            else a3 = event.clientX, n3 = event.clientY;
            R.helpers.isMobile() || !R.browser.safari && !R.browser.mozilla || (a3 = ne, n3 = re);
            for (var r3 = document.elementFromPoint(a3, n3); r3 && !r3.classList.contains(fe); ) r3 = r3.parentElement;
            r3 && !r3.classList.contains(fe) ? r3 = void 0 : r3 && ie !== r3 && function s3(e2, t3) {
              var a4, n4, r4 = e2.parentNode, i3 = t3.parentNode;
              if (!r4 || !i3 || r4.isEqualNode(t3) || i3.isEqualNode(e2)) return;
              for (var o3 = 0; o3 < r4.children.length; o3++) r4.children[o3].isEqualNode(e2) && (a4 = o3);
              for (var o3 = 0; o3 < i3.children.length; o3++) i3.children[o3].isEqualNode(t3) && (n4 = o3);
              r4.isEqualNode(i3) && a4 < n4 && n4++;
              r4.insertBefore(t3, r4.children[a4]), i3.insertBefore(e2, i3.children[n4]);
            }(ie, r3), R.helpers.isMobile() && (t2.classList.remove("fr-hovered-over-file"), r3.classList.remove("fr-hovered-over-file"));
          }
        }
        function me(e) {
          var n3 = R.popups.get("filesManager.insert");
          n3.find(".fr-upload-progress-layer").hasClass("fr-active") || n3.find(".fr-upload-progress-layer").addClass("fr-active"), n3.find(".fr-upload-progress").removeClass("fr-none");
          var t2 = I2.get(e), a3 = function o3(e2) {
            var t3, a4 = { weekday: "long", year: "numeric", month: "long", day: "numeric" };
            try {
              t3 = e2.toLocaleDateString(R.opts.language ? R.opts.language : void 0, a4);
            } catch (n4) {
              t3 = e2.toLocaleDateString(void 0, a4);
            }
            return t3 + "";
          }(/* @__PURE__ */ new Date()), r3 = F.get(e) ? "" : "fr-unchecked ", i3 = "\n        <div id='fr-file-".concat(e, "' class='fr-file-list-item fr-file-").concat(e, " ").concat(r3, `' draggable = "`).concat(!r3, `" >
        <div class='fr-file-item-left' >

    
            <div class="fr-file-item-insert-checkbox fr-files-checkbox-line">
            `).concat(R.helpers.isMobile() ? "<div id='fr-pick-".concat(e, "}' class='dot'>\n            </div>") : "", '\n            <div id="checkbox-key-').concat(e, '" class="fr-files-checkbox fr-insert-checkbox  fr-checkbox-').concat(e, '">\n            <input name="target" class="fr-insert-attr fr-checkbox-file-').concat(e, ' fr-file-insert-check" data-cmd="fileInsertCheckbox"\n             data-checked="_blank" type="checkbox" id="fr-link-target-').concat(R.id, '" tabIndex="0" />\n            <span>').concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>', '\n            </span>\n        </div>\n                <label id="fr-label-target-').concat(R.id, `"></label>
            </div>
    
            <div class='fr-file-item-icon fr-file-item-icon-`).concat(e, "' >\n                <img src='https://secure.webtoolhub.com/static/resources/icons/set112/f2afb6f7.png' alt='Image preview' class='fr-thumbnail-padding' height='36px' width='36px' />\n            </div>\n\n            <div class='fr-file-item-description' >\n                <div class='fr-file-name fr-files-manager-tooltip'>\n                   ").concat(function s3(e2, t3, a4) {
            null == t3 && (t3 = 100);
            null == a4 && (a4 = "...");
            return e2.length > t3 ? e2.substring(0, t3 - a4.length) + a4 : e2;
          }(t2.name, 20), '\n                      <span class="').concat(20 < t2.name.length ? "tooltiptext" : "fr-none", '">').concat(t2.name, "\n                      </span>\n                 </div>\n                 <div class='fr-file-details'>\n                 <div class='fr-file-date'>").concat(a3, "\n                 </div>\n \n                 <div class='fr-file-size'>\n                     ").concat(function l3(e2) {
            if (0 == e2) return "0 Bytes";
            var t3 = Math.floor(Math.log(e2) / Math.log(1024));
            return " | " + 1 * (e2 / Math.pow(1024, t3)).toFixed(2) + " " + ["Bytes", "KB", "MB", "GB", "TB"][t3];
          }(t2.size), "\n                 </div>\n                 </div>\n\n                  <div class='fr-file-error'>\n                    <h5 class='fr-file-error-h5'></h5>\n                 </div>\n             </div>\n    \n        </div>\n\n        <div class='fr-file-item-right fr-file-item-right-").concat(e, "'>") + Ee(e) + "</div>\n    </div>";
          n3.find(".fr-upload-progress-layer")[0].innerHTML = i3 + n3.find(".fr-upload-progress-layer")[0].innerHTML, I2.forEach(function c3(e2, t3, a4) {
            F.get(t3) && n3.find("input.fr-insert-attr.fr-checkbox-file-".concat(t3))[0].setAttribute("checked", null);
          }), M.forEach(function(e2) {
            document.getElementById("fr-file-autoplay-button-" + e2).checked = true;
          }), be(e, t2), J(), R.opts.toolbarBottom ? E2(true) : R.popups.setPopupDimensions(n3), pe("fr-file-list-item");
        }
        function ve(e) {
          switch (e) {
            case "application/msword":
              return R.icon.getFileIcon("docIcon");
            case "application/vnd.openxmlformats-officedocument.wordprocessingml.document":
              return R.icon.getFileIcon("docxIcon");
            case "image/gif":
              return R.icon.getFileIcon("gifIcon");
            case "image/jpeg":
              return R.icon.getFileIcon("jpegIcon");
            case "image/jpeg":
              return R.icon.getFileIcon("jpgIcon");
            case "type/text":
              return R.icon.getFileIcon("logIcon");
            case "video/quicktime":
              return R.icon.getFileIcon("movIcon");
            case "audio/mp3":
            case "audio/mpeg":
              return R.icon.getFileIcon("mp3Icon");
            case "video/mp4":
              return R.icon.getFileIcon("mp4Icon");
            case "audio/ogg":
              return R.icon.getFileIcon("oggIcon");
            case "video/ogg":
              return R.icon.getFileIcon("ogvIcon");
            case "application/pdf":
              return R.icon.getFileIcon("pdfIcon");
            case "image/png":
              return R.icon.getFileIcon("pngIcon");
            case "text/plain":
              return R.icon.getFileIcon("txtIcon");
            case "video/webm":
              return R.icon.getFileIcon("webmIcon");
            case "image/webp":
              return R.icon.getFileIcon("webpIcon");
            case "video/x-ms-wmv":
              return R.icon.getFileIcon("wmvIcon");
            case "application/vnd.ms-excel":
              return R.icon.getFileIcon("xlsIcon");
            case "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":
              return R.icon.getFileIcon("xlsxIcon");
            case "application/x-zip-compressed":
            case "application/zip":
              return R.icon.getFileIcon("zipIcon");
            default:
              return R.icon.getFileIcon("defaultIcon");
          }
        }
        function be(n3, r3, e) {
          var i3 = R.popups.get("filesManager.insert"), t2 = i3.find(".fr-file-item-icon-" + n3).get(0);
          if (Ne(Re(r3)) && "image/gif" != Re(r3) && "image/webp" != Re(r3)) {
            "a" != t2.children[0].localName && (t2.innerHTML = "<a target='_blank' href=''>" + t2.innerHTML + "</a>");
            i3.find(".fr-file-item-icon-" + n3).get(0).children[0].children[0];
            var o3 = new FileReader();
            if (null != e && e) {
              var a3 = I2.get(n3);
              r3.name = a3.name, I2.set(n3, r3);
            }
            if (o3.onloadend = function() {
              i3.find(".fr-file-item-icon-" + n3).get(0).children[0].children[0].src = o3.result;
              for (var e2 = atob(o3.result.split(",")[1]), t3 = [], a4 = 0; a4 < e2.length; a4++) t3.push(e2.charCodeAt(a4));
              i3.find(".fr-file-item-icon-" + n3).get(0).children[0].href = window.URL.createObjectURL(new Blob([new Uint8Array(t3)], { type: Re(r3) })), i3.find(".fr-file-item-icon-" + n3).get(0).classList.add("fr-file-item-thumbnail-hover");
            }, r3) o3.readAsDataURL(r3);
            else {
              var s3 = ve(Re(r3));
              t2.innerHTML = '<svg height="40px" width="40px" viewBox="0 0 55 5" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        '.concat(s3.path, "\n        </svg>");
            }
          } else {
            var l3 = ve(Re(r3));
            t2.innerHTML = '<svg height="40px" width="40px" viewBox="0 0 55 55" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      '.concat(l3.path, "\n      </svg>");
          }
        }
        function Ee(e) {
          var t2 = "";
          if (Pe(Re(I2.get(e)))) {
            var a3 = "fr-files-checkbox", n3 = "";
            Ue(Re(I2.get(e))) || (a3 = "fr-checkbox-disabled", n3 = "disabled");
            t2 = '\n      <div class="fr-files-checkbox-line align-autoplay">\n      <div id="checkbox-key-'.concat(e, '" class="').concat(a3, " fr-autoplay-checkbox  fr-checkbox-").concat(e, '">  \n                   \n      <input type="checkbox" id="fr-file-autoplay-button-').concat(e, '" class="fr-file-button-').concat(e, ' fr-file-autoplay-button" data-title="Edit" data-param1="').concat(e, '" role="button" ').concat(n3, "/>\n\n      <span>").concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>', " </span>\n      </div>      \n      <label  class='fr-autoplay-checkbox-label'>Autoplay </label>\n      </div>");
          }
          var r3 = "application/msword", i3 = "application/vnd.openxmlformats-officedocument.wordprocessingml.document", o3 = "";
          return !Be(Re(I2.get(e))) && Ue(Re(I2.get(e))) || (s2 = "fr-disabled"), Pe(Re(I2.get(e))) && (s2 = "fr-disabled"), De(Re(I2.get(e))) && (s2 = "fr-disabled", Re(I2.get(e)) != r3 && Re(I2.get(e)) != i3 || R.opts.googleOptions && !R.helpers.isMobile() && R.opts.googleOptions.API_KEY && R.opts.googleOptions.CLIENT_ID && (s2 = ""), "text/plain" != Re(I2.get(e)) && Re(I2.get(e)) != r3 && "application/pdf" != Re(I2.get(e)) && Re(I2.get(e)) != i3 && "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" != Re(I2.get(e)) && "application/vnd.ms-excel" != Re(I2.get(e)) && "type/text" != Re(I2.get(e)) || (o3 = "")), "video/url" === Re(I2.get(e)) && (s2 = "fr-disabled"), t2 += `<div class='fr-file-item-action-buttons' >
                <button type="button" id="fr-file-insert-button-`.concat(e, '" class=" fr-doc-edit-').concat(e, " fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons \n                fr-file-button-").concat(e, " fr-file-insert-button-").concat(e, ' fr-file-insert-button" data-cmd="imageInsertByUpload" data-title="Insert" data-param1="').concat(e, `" tabIndex="2" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-5 0 28 28" xlmns = "http://w3.org/200/svg"><path d = 'M 9.25 12 L 6.75 12 C 6.335938 12 6 11.664062 6 11.25 L 6 6 L 3.257812 6 C 2.703125 6 2.425781 5.328125 2.820312 4.933594 L 7.570312 0.179688 C 7.804688 -0.0546875 8.191406 -0.0546875 8.425781 0.179688 L 13.179688 4.933594 C 13.574219 5.328125 13.296875 6 12.742188 6 L 10 6 L 10 11.25 C 10 11.664062 9.664062 12 9.25 12 Z M 16 11.75 L 16 15.25 C 16 15.664062 15.664062 16 15.25 16 L 0.75 16 C 0.335938 16 0 15.664062 0 15.25 L 0 11.75 C 0 11.335938 0.335938 11 0.75 11 L 5 11 L 5 11.25 C 5 12.214844 5.785156 13 6.75 13 L 9.25 13 C 10.214844 13 11 12.214844 11 11.25 L 11 11 L 15.25 11 C 15.664062 11 16 11.335938 16 11.75 Z M 12.125 14.5 C 12.125 14.15625 11.84375 13.875 11.5 13.875 C 11.15625 13.875 10.875 14.15625 10.875 14.5 C 10.875 14.84375 11.15625 15.125 11.5 15.125 C 11.84375 15.125 12.125 14.84375 12.125 14.5 Z M 14.125 14.5 C 14.125 14.15625 13.84375 13.875 13.5 13.875 C 13.15625 13.875 12.875 14.15625 12.875 14.5 C 12.875 14.84375 13.15625 15.125 13.5 15.125 C 13.84375 15.125 14.125 14.84375 14.125 14.5 Z M 14.125 14.5 '></path></svg>
                </button>

                <button type="button" id="fr-file-edit-button-`).concat(e, '" class=" fr-doc-edit-').concat(e, " ").concat(s2, " fr-img-icon fr-btn fr-command fr-submit \n                fr-file-action-icons fr-file-edit-button-").concat(e, " fr-file-button-").concat(e, ' fr-file-edit-button" data-cmd="editImage" data-title="Edit" data-param1="').concat(e, `" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "0 4 25 25" xlmns = "http://w3.org/200/svg"><path d = 'M17,11.2L12.8,7L5,14.8V19h4.2L17,11.2z M7,16.8v-1.5l5.6-5.6l1.4,1.5l-5.6,5.6H7z M13.5,6.3l0.7-0.7c0.8-0.8,2.1-0.8,2.8,0  c0,0,0,0,0,0L18.4,7c0.8,0.8,0.8,2,0,2.8l-0.7,0.7L13.5,6.3z'></path></svg>
                </button>
                
                <span class="fr-file-view-`).concat(e, '"><button type="button" id="fr-file-view-button-').concat(e, '" class=" fr-doc-edit-').concat(e, " ").concat(o3, " fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons \n                fr-file-view-button-").concat(e, ' fr-file-view-button" data-cmd="viewImage" data-title="View" data-param1="').concat(e, `" tabIndex="2" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "15 19 21 21" xlmns = "http://w3.org/200/svg"> <path style="fill:none;stroke-width:0.9077;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;" d="M 19.086094 16.541466 C 16.185625 16.541466 14.318281 19.447115 14.318281 19.447115 L 14.318281 19.555288 C 14.318281 19.555288 16.176719 22.475962 19.077187 22.475962 C 21.977656 22.475962 23.847969 19.576322 23.847969 19.576322 L 23.847969 19.465144 C 23.847969 19.465144 21.989531 16.541466 19.086094 16.541466 Z M 19.07125 21.024639 C 18.248906 21.024639 17.583906 20.357572 17.583906 19.53726 C 17.583906 18.716947 18.248906 18.04988 19.07125 18.04988 C 19.890625 18.04988 20.555625 18.716947 20.555625 19.53726 C 20.555625 20.357572 19.890625 21.024639 19.07125 21.024639 Z M 19.07125 21.024639 " transform="matrix(1.315789,0,0,1.3,0,0)"/></svg></button></span>

                <button type="button" id="fr-file-delete-button-`).concat(e, '" class=" fr-doc-edit-').concat(e, " fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons\n                fr-file-button-").concat(e, ' fr-file-delete-button" data-cmd="deleteImage" data-title="Delete" data-param1="').concat(e, `" role="button">
                <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = 'M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z'></path></svg>
                </button>
                 
            </div>
            <div id="user_area-`).concat(e, `" style="display: none;">
            
              <div id="file_container"></div>

              <div style='display:block;text-align: center; margin-left:50%; id='edit-file-loader' class='fr-file-loader'></div>

          </div> 
            `);
        }
        function _e(e, t2, a3) {
          var n3 = R.popups.get("filesManager.insert");
          if (!a3 && e <= 100) {
            n3.find(".fr-checkbox-file-" + t2).get(0).disabled = true, n3.find(".fr-checkbox-" + t2).get(0).classList.remove("fr-files-checkbox"), n3.find(".fr-checkbox-" + t2).get(0).classList.add("fr-checkbox-disabled");
            var r3 = n3.find(".fr-file-progress-circle-" + t2), i3 = n3.find(".fr-file-upload-percent-" + t2);
            return 50 < e ? r3.get(0).setAttribute("class", "fr-file-progress-circle-" + t2 + " progress-circle p" + Math.floor(e) + " over50") : r3.get(0).setAttribute("class", "fr-file-progress-circle-" + t2 + " progress-circle p" + Math.floor(e)), i3.get(0).innerHTML = Math.floor(e) + "%", void we(t2, e, a3);
          }
          a3 && (n3.find(".fr-checkbox-file-" + t2).get(0).disabled = false, n3.find(".fr-checkbox-" + t2).get(0).classList.remove("fr-checkbox-disabled"), n3.find(".fr-checkbox-" + t2).get(0).classList.add("fr-files-checkbox"), n3.find(".fr-file-item-right-" + t2).get(0).innerHTML = Ee(t2), we(t2, 100, a3));
        }
        function we(e, t2, a3) {
          var n3 = R.popups.get("filesManager.insert");
          n3.find(".fr-progress-bar").removeClass("fr-none").addClass("fr-display-block"), n3.find(".fr-upload-progress").hasClass("fr-height-set") && R.popups.setFileListHeight(n3);
          var r3 = 0;
          C.set(e, t2), C.forEach(function(e2, t3) {
            r3 += e2;
          }), r3 /= C.size, 100 == t2 && a3 && i2++, n3.find('.fr-command[data-cmd="filesUpload"]').addClass("fr-disabled"), n3.find('.fr-command[data-cmd="filesByURL"]').addClass("fr-disabled"), n3.find('.fr-command[data-cmd="filesEmbed"]').addClass("fr-disabled"), n3.find(".fr-progress-bar").get(0).style.width = r3 + "%", i2 == C.size && (n3.find(".fr-progress-bar").removeClass("fr-display-block").addClass("fr-none"), C = /* @__PURE__ */ new Map(), i2 = 0, n3.find('.fr-command[data-cmd="filesUpload"]').removeClass("fr-disabled"), n3.find('.fr-command[data-cmd="filesByURL"]').removeClass("fr-disabled"), n3.find('.fr-command[data-cmd="filesEmbed"]').removeClass("fr-disabled"));
        }
        function ye2(a3, n3) {
          J(), R.popups.get("filesManager.insert").find(".fr-upload-progress-layer").addClass("fr-active"), a3.forEach(function(e, t2) {
            Ne(Re(e)) && R.opts.imageUploadRemoteUrls && R.opts.imageCORSProxy && R.opts.imageUpload ? Oe(e, a3, w, n3[t2]) : O2.set(n3[t2], e);
          });
        }
        function Ae(e) {
          e && e.get && (function a3(e2) {
            if ("false" == x(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")) return true;
            if (e2 && "touchend" == e2.type && de) return true;
            if (e2 && R.edit.isDisabled()) return e2.stopPropagation(), e2.preventDefault(), false;
            for (var t2 = 0; t2 < St.INSTANCES.length; t2++) St.INSTANCES[t2] != R && St.INSTANCES[t2].events.trigger("image.hideResizer");
            R.toolbar.disable(), e2 && (e2.stopPropagation(), e2.preventDefault());
            R.helpers.isMobile() && (R.events.disableBlur(), R.$el.blur(), R.events.enableBlur());
            R.opts.iframe && R.size.syncIframe();
            w = x(this), $(), R.browser.msie ? (R.popups.areVisible() && R.events.disableBlur(), R.win.getSelection && (R.win.getSelection().removeAllRanges(), R.win.getSelection().addRange(R.doc.createRange()))) : R.selection.clear();
            R.helpers.isIOS() && (R.events.disableBlur(), R.$el.blur());
            R.button.bulkRefresh(), R.events.trigger("video.hideResizer");
          }).call(e.get(0));
        }
        function Ce() {
          var e = x(this);
          e.removeClass("fr-uploading"), e.next().is("br") && e.next().remove(), (0 == r2.length || 0 < r2.length && r2.length == u2) && (f2 = e), "VIDEO" == e.get(0).tagName || "AUDIO" == e.get(0).tagName ? R.selection.setAfter(e.parent()) : R.selection.setAfter(e), R.undo.saveStep(), R.events.trigger("filesManager.loaded", [e]), ke(r2);
        }
        function Te() {
          var e, t2 = Array.prototype.slice.call(R.el.querySelectorAll("video, .fr-video > *")), a3 = [];
          for (e = 0; e < t2.length; e++) a3.push(t2[e].getAttribute("src")), x(t2[e]).toggleClass("fr-draggable", R.opts.videoMove), "" === t2[e].getAttribute("class") && t2[e].removeAttribute("class"), "" === t2[e].getAttribute("style") && t2[e].removeAttribute("style");
          if (n2) for (e = 0; e < n2.length; e++) a3.indexOf(n2[e].getAttribute("src")) < 0 && R.events.trigger("video.removed", [x(n2[e])]);
          n2 = t2;
        }
        function ke(e) {
          if (null != e) {
            if (0 == e.length) return void (null != f2 && ("VIDEO" == f2.get(0).tagName ? R.video._editVideo(f2.parent()) : "IMG" == f2.get(0).tagName ? R.image.edit(f2) : f2.trigger("click"), R.toolbar.disable()));
            Le(e.shift(), e);
          }
        }
        function Se(e) {
          var t2 = false;
          if (Pe(Re(O2.get(e)))) R.trimVideoPlugin.trimVideo(I2.get(e), e, I2), t2 = true;
          else if (Ne(Re(O2.get(e)))) {
            var a3 = O2.get(e).link, n3 = R.o_doc.createElement("img");
            n3.src = a3, w = n3, o2 = e, R.imageTUI.launch(R, false, e), t2 = true;
          } else if (De(Re(O2.get(e)))) {
            var r3 = { apiKey: R.opts.googleOptions.API_KEY, clientId: R.opts.googleOptions.CLIENT_ID, authorizeButton: "authorize_button-".concat(e), signoutButton: "signout_button", userArea: "user_area-".concat(e), fileInput: "file_input", fileIndex: e, file: I2.get(e), fileContainer: "file_container", loadingText: "File is being uploaded...", events: { onInvalidFile: function(e2) {
            }, onError: function(e2) {
            } } };
            ce = function d3(p3) {
              var i3, e2 = ["https://www.googleapis.com/discovery/v1/apis/drive/v2/rest"], u3 = "id,title,mimeType,userPermission,editable,copyable,shared,fileSize", g3 = "-------314159265358979323846", h3 = "\r\n--" + g3 + "\r\n", m3 = "\r\n--" + g3 + "--", t3 = (document.getElementById(p3.authorizeButton), document.getElementById(p3.userArea));
              p3.events || (p3.events = {});
              function a4() {
                gapi.client.init({ apiKey: p3.apiKey, clientId: p3.clientId, discoveryDocs: e2, scope: "https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.appdata" }).then(function() {
                  gapi.auth2.getAuthInstance().isSignedIn.listen(n4), n4(gapi.auth2.getAuthInstance().isSignedIn.get()), function t4(e3) {
                    !gapi.auth2.getAuthInstance().isSignedIn.get() || gapi.auth.getToken() !== void 0 && gapi.auth.getToken().access_token === void 0 ? Promise.resolve(gapi.auth2.getAuthInstance().signIn()).then(function() {
                      o3();
                    }) : o3();
                  }();
                }, function(e3) {
                  p3.events.onError(e3);
                });
              }
              function n4(e3) {
                e3 && (t3.style.display = "block");
              }
              function r4(e3) {
                var t4 = gapi.auth.getToken().access_token, a5 = i3, n5 = "https://docs.google.com/feeds/download/documents/export/Export?id=" + a5 + "&format=docx&access_token=" + t4, r5 = new XMLHttpRequest();
                r5.open("get", n5), r5.responseType = "arraybuffer", r5.onload = function() {
                  var e4 = new Blob([new Uint8Array(this.response)], { type: "application/vnd.openxmlformats-officedocument.wordprocessingml.document" }), t5 = I2.get(p3.fileIndex);
                  e4.name = t5.name, e4.lastModified = t5.lastModified, e4.lastModifiedDate = t5.lastModifiedDate, I2.set(p3.fileIndex, e4), R.filesManager.upload(e4, O2, w, p3.fileIndex), l3();
                }, r5.send();
              }
              function o3(e3) {
                !function n5(e4) {
                  for (var t5 = document.getElementsByClassName("fr-doc-edit-".concat(e4)), a5 = 0; a5 < t5.length; a5++) t5[a5].setAttribute("disabled", true), t5[a5].classList.add("fr-disabled");
                }(p3.fileIndex);
                var t4 = p3.file;
                t4 ? function a5(c4, d4) {
                  var f3 = new FileReader();
                  f3.readAsArrayBuffer(c4), f3.onload = function(e4) {
                    for (var t5 = { title: c4.name, mimeType: "application/vnd.google-apps.document" }, a6 = "", n5 = new Uint8Array(f3.result), r5 = n5.byteLength, i4 = 0; i4 < r5; i4++) a6 += String.fromCharCode(n5[i4]);
                    var o4 = btoa(a6), s4 = h3 + "Content-Type: application/json; charset=UTF-8\r\n\r\n" + JSON.stringify(t5) + h3 + "Content-Type: application/octet-stream\r\nContent-Transfer-Encoding: base64\r\n\r\n" + o4 + m3, l4 = gapi.client.request({ path: "/upload/drive/v2/files", method: "POST", params: { uploadType: "multipart", fields: u3 }, headers: { "Content-Type": 'multipart/related; boundary="' + g3 + '"', "Content-Length": s4.Length }, body: s4 });
                    d4 || (d4 = function(e5) {
                    }), l4.execute(function(e5, t6) {
                      e5.error ? p3.events.onError(e5.error) : d4(e5);
                    });
                  };
                }(t4, s3) : p3.events.onInvalidFile("File is not selected");
              }
              function s3(e3) {
                i3 = e3.id;
                var t4 = "https://docs.google.com/document/d/" + e3.id + "/edit", a5 = R.o_doc.body, n5 = R.o_doc.createElement("div");
                n5.setAttribute("id", "editDocContainer"), n5.style.cssText = "position: fixed; top: 0;left: 0;padding: 0;width: 100%;height: 100%;background: rgba(255,255,255,1);z-index: 9998;display:block", n5.innerHTML = '<div style="margin-top:25px; text-align:center"><label>Sign Out : </label><input type="checkbox" id ="markSignOut" role="button"/>  <button id="signout_button"  class="fr-trim-button" >Save </button> <button id="cancel_file_edit" class="fr-trim-button">Cancel</button></div>  <iframe title="Edit your file" frameBorder="0" width="100%" height="700px" src="' + t4 + '"></iframe>', a5.appendChild(n5), document.getElementById("signout_button").onclick = r4, document.getElementById("cancel_file_edit").onclick = l3;
              }
              function l3() {
                document.getElementById("markSignOut").checked && gapi.auth2.getAuthInstance().signOut().then(function() {
                  gapi.auth.getToken() && (gapi.auth.getToken().access_token = void 0);
                });
                var e3 = document.getElementById("editDocContainer");
                e3.parentNode.removeChild(e3), document.getElementById("user_area-".concat(p3.fileIndex)) && (document.getElementById("user_area-".concat(p3.fileIndex)).style.display = "none"), function n5(e4) {
                  for (var t4 = document.getElementsByClassName("fr-doc-edit-".concat(e4)), a5 = 0; a5 < t4.length; a5++) t4[a5].removeAttribute("disabled"), t4[a5].classList.remove("fr-disabled");
                }(p3.fileIndex);
              }
              p3.events.onInvalidFile = p3.events.onInvalidFile || function(e3) {
              }, p3.events.onError = p3.events.onError || function(e3) {
              };
              var c3 = {};
              return c3.handleClientLoad = function() {
                gapi.load("client:auth2", a4);
              }, c3;
            }(r3), function i3(e2, t3) {
              var n4 = function n5(e3, t4) {
                var a4 = document.createElement("script");
                a4.src = e3, a4.onload = function() {
                  this.onload = function() {
                  }, ce.handleClientLoad();
                }, a4.onreadystatechange = function() {
                  "complete" === this.readyState && this.onload();
                }, (document.getElementsByTagName("head")[0] || document.body).appendChild(a4);
              };
              !function a4() {
                0 != e2.length ? n4(e2.shift(), a4) : t3 && t3();
              }();
            }(["https://apis.google.com/js/api.js"], function() {
            });
          }
          t2 && (p2 = true);
        }
        function Re(e) {
          var a3;
          if ("" != e.type) return e.type;
          if (e.name && e.name.endsWith(".msg")) return a3 = "application/vnd.ms-outlook";
          var n3 = /(?:\.([^.]+))?$/.exec(e.name)[1];
          return [[".doc", "application/msword"], [".docx", "application/vnd.openxmlformats-officedocument.wordprocessingml.document"], [".gif", "image/gif"], [".jpeg", "image/jpeg"], [".jpg", "image/jpeg"], [".txt", "text/plain"], [".log", "type/text"], [".mov", "video/quicktime"], [".mp3", "audio/mpeg"], [".mp4", "video/mp4"], [".ogg", "audio/ogg"], [".ogv", "video/ogg"], [".pdf", "application/pdf"], [".png", "image/png"], [".webm", "video/webm"], [".webp", "image/webp"], [".wmv", "video/x-ms-wmv"], [".xls", "application/vnd.ms-excel"], [".xlsx", "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"], [".zip", "application/x-zip-compressed"]].forEach(function(e2, t2) {
            e2[0] == ".".concat(n3) && (a3 = e2[1]);
          }), a3;
        }
        function Le(s3, e) {
          if (De(Re(O2.get(s3))) || !Ue(Re(O2.get(s3)))) {
            var t2, a3 = O2.get(s3).link, n3 = O2.get(s3).text, r3 = O2.get(s3).data;
            !n3 && I2.get(s3) && I2.get(s3).name && (n3 = I2.get(s3).name);
            var i3 = O2.get(s3).response;
            R.edit.on(), R.events.focus(true), R.selection.restore(), R.opts.fileUseSelectedText && R.selection.text().length && (n3 = R.selection.text());
            var o3 = '<a href="'.concat(a3, '" target="_blank" id="fr-inserted-file" ');
            if (void 0 !== r3) for (t2 in r3) r3.hasOwnProperty(t2) && "link" != t2 && (o3 += "".concat(t2, '="').concat(r3[t2], '" '));
            -1 == o3.indexOf(' class="') && (o3 += 'class="fr-file" '), o3 += ">".concat(n3, "</a>"), R.html.insert(o3);
            var l3 = R.$el.find("#fr-inserted-file");
            l3.removeAttr("id"), R.undo.saveStep(), function T2() {
              var e2, t3 = Array.prototype.slice.call(R.el.querySelectorAll("a.fr-file")), a4 = [];
              for (e2 = 0; e2 < t3.length; e2++) a4.push(t3[e2].getAttribute("href"));
              if (le) for (e2 = 0; e2 < le.length; e2++) a4.indexOf(le[e2].getAttribute("href")) < 0 && R.events.trigger("file.unlink", [le[e2]]);
              le = t3;
            }(), R.selection.clear(), R.selection.setAfter(l3), R.events.trigger("file.inserted", [l3, i3]), ke(e);
          }
          if (Ne(Re(O2.get(s3))) && Ue(Re(O2.get(s3)))) {
            var c3 = O2.get(s3).link, d3 = O2.get(s3).sanitize, f3 = O2.get(s3).data, p3 = O2.get(s3).$existing_img, u3 = O2.get(s3).response;
            p3 && "string" == typeof p3 && (p3 = R.$(p3)), R.edit.off(), ee(R.language.translate("Loading image")), d3 && (c3 = R.helpers.sanitizeURL(c3));
            var g3 = new Image();
            g3.onload = function() {
              var e2, t3;
              if (p3) {
                R.undo.canDo() || p3.hasClass("fr-uploading") || R.undo.saveStep();
                var a4 = p3.data("fr-old-src");
                p3.data("fr-image-pasted") && (a4 = null), R.$wp ? ((e2 = p3.clone().removeData("fr-old-src").removeClass("fr-uploading").removeAttr("data-fr-image-pasted")).off("load"), a4 && p3.attr("src", a4), p3.replaceWith(e2)) : e2 = p3;
                for (var n4 = e2.get(0).attributes, r4 = 0; r4 < n4.length; r4++) {
                  var i4 = n4[r4];
                  0 === i4.nodeName.indexOf("data-") && e2.removeAttr(i4.nodeName);
                }
                if (void 0 !== f3) for (t3 in f3) f3.hasOwnProperty(t3) && "link" != t3 && e2.attr("data-".concat(t3), f3[t3]);
                e2.on("load", Ce), e2.attr("src", c3), R.edit.on(), R.undo.saveStep(), R.events.disableBlur(), R.$el.blur(), R.events.trigger(a4 ? "image.replaced" : "image.inserted", [e2, u3]);
              } else e2 = function s4(e3, t4, a5) {
                var n5, r5 = x(document.createElement("img")).attr("src", e3);
                if (t4 && void 0 !== t4) for (n5 in t4) t4.hasOwnProperty(n5) && "link" != n5 && (" data-".concat(n5, '="').concat(t4[n5], '"'), r5.attr("data-".concat(n5), t4[n5]));
                var i5 = R.opts.imageDefaultWidth;
                i5 && "auto" != i5 && (i5 = R.opts.imageResizeWithPercent ? "100%" : "".concat(i5, "px"));
                r5.attr("style", i5 ? "width: ".concat(i5, ";") : ""), ot(r5, R.opts.imageDefaultDisplay, R.opts.imageDefaultAlign), r5.on("load", a5), r5.on("error", a5), R.edit.on(), R.events.focus(true), R.selection.restore(), R.undo.saveStep(), R.opts.imageSplitHTML ? R.markers.split() : R.markers.insert();
                R.html.wrap();
                var o4 = R.$el.find(".fr-marker");
                o4.length ? (o4.parent().is("hr") && o4.parent().after(o4), R.node.isLastSibling(o4) && o4.parent().hasClass("fr-deletable") && o4.insertAfter(o4.parent()), o4.replaceWith(r5)) : R.$el.append(r5);
                return r5;
              }(c3, f3, Ce), R.undo.saveStep(), R.events.disableBlur(), R.$el.blur(), R.events.trigger("image.inserted", [e2, u3]);
            }, g3.onerror = function() {
              j(N, null, null, s3), ke(e);
            }, g3.src = c3;
          }
          if ((Pe(Re(O2.get(s3))) || Be(Re(O2.get(s3)))) && Ue(Re(O2.get(s3)))) if (L = s3, "video/url" == Re(O2.get(s3))) {
            var h3 = false;
            if (document.getElementById("fr-file-autoplay-button-" + s3) !== void 0 && (h3 = document.getElementById("fr-file-autoplay-button-" + s3).checked), h3 && O2.get(s3) !== void 0 && -1 < O2.get(s3).video.indexOf("iframe") && O2.get(s3).video.indexOf("autoplay=1") < 0) {
              var m3 = O2.get(s3).video.substring(O2.get(s3).video.indexOf("src") + 3), v3 = "&";
              (m3 = (m3 = m3.substring(m3.indexOf('"') + 1)).substring(0, m3.indexOf('"'))).indexOf("?") < 0 && (v3 = "?"), O2.get(s3).video = O2.get(s3).video.replace(m3, m3 += v3 + "autoplay=1&mute=1");
            } else !h3 && O2.get(s3).video.indexOf(false) && (-1 < O2.get(s3).video.indexOf("&autoplay=1") && (O2.get(s3).video = O2.get(s3).video.replace("&autoplay=1", "")), -1 < O2.get(s3).video.indexOf("?autoplay=1") && (O2.get(s3).video = O2.get(s3).video.replace("?autoplay=1", "")));
            R.events.focus(true), R.selection.restore(), R.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(O2.get(s3).video, "</span>"), false, R.opts.videoSplitHTML), R.popups.hide("filesManager.insert");
            var b3 = R.$el.find(".fr-jiv");
            b3.removeClass("fr-jiv"), b3.toggleClass("fr-rv", R.opts.videoResponsive), function k2(e2, t3, a4) {
              !R.opts.htmlUntouched && R.opts.useClasses ? (e2.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"), e2.addClass("fr-fv".concat(a4[0], " fr-dv").concat(t3[0]))) : "inline" == t3 ? (e2.css({ display: "inline-block" }), "center" == a4 ? e2.css({ "float": "none" }) : "left" == a4 ? e2.css({ "float": "left" }) : e2.css({ "float": "right" })) : (e2.css({ display: "block", clear: "both" }), "left" == a4 ? e2.css({ textAlign: "left" }) : "right" == a4 ? e2.css({ textAlign: "right" }) : e2.css({ textAlign: "center" }));
            }(b3, R.opts.videoDefaultDisplay, R.opts.videoDefaultAlign), b3.toggleClass("fr-draggable", R.opts.videoMove), R.events.trigger("video.inserted", [b3]), Ce.call(b3);
          } else {
            var E3 = O2.get(s3).link, _2 = O2.get(s3).sanitize, w2 = O2.get(s3).data, y3 = O2.get(s3).$existing_img, A2 = O2.get(s3).response;
            R.edit.off(), _2 && (E3 = R.helpers.sanitizeURL(E3)), function S2() {
              var e2, t3;
              if (y3) {
                R.undo.canDo() || y3.find("video").hasClass("fr-uploading") || R.undo.saveStep();
                var a4 = y3.find("video").data("fr-old-src"), n4 = y3.data("fr-replaced");
                y3.data("fr-replaced", false), R.$wp ? ((e2 = y3.clone(true)).find("video").removeData("fr-old-src").removeClass("fr-uploading"), e2.find("video").off("canplay"), a4 && y3.find("video").attr("src", a4), y3.replaceWith(e2)) : e2 = y3;
                for (var r4 = e2.find("video").get(0).attributes, i4 = 0; i4 < r4.length; i4++) {
                  var o4 = r4[i4];
                  0 === o4.nodeName.indexOf("data-") && e2.find("video").removeAttr(o4.nodeName);
                }
                if (void 0 !== w2) for (t3 in w2) w2.hasOwnProperty(t3) && "link" != t3 && e2.find("video").attr("data-".concat(t3), w2[t3]);
                e2.find("video").on("canplay", Ce), e2.find("video").attr("src", E3), R.edit.on(), Te(), R.undo.saveStep(), R.$el.blur(), R.events.trigger(n4 ? "video.replaced" : "video.inserted", [e2, A2]);
              } else e2 = function u4(e3, t4, a5, n5, r5) {
                var i5, o5 = "";
                if (t4 && void 0 !== t4) for (i5 in t4) t4.hasOwnProperty(i5) && "link" != i5 && (o5 += " data-".concat(i5, '="').concat(t4[i5], '"'));
                var s4, l4 = R.opts.videoDefaultWidth;
                l4 && "auto" != l4 && (l4 = "".concat(l4, "px"));
                if (Be(n5)) s4 = x(document.createElement("span")).attr("contenteditable", "false").attr("draggable", "true").attr("class", "fr-video fr-dv" + R.opts.videoDefaultDisplay[0] + ("center" != R.opts.videoDefaultAlign ? " fr-fv" + R.opts.videoDefaultAlign[0] : "")).html('<audio src="' + e3 + '" ' + o5 + " controls>" + R.language.translate("Your browser does not support HTML5 video.") + "</audio>");
                else {
                  var c4 = "", d4 = document.getElementById("fr-file-autoplay-button-" + r5).checked;
                  d4 && (c4 = "autoplay"), s4 = x(document.createElement("span")).attr("contenteditable", "false").attr("draggable", "true").attr("class", "fr-video fr-dv" + R.opts.videoDefaultDisplay[0] + ("center" != R.opts.videoDefaultAlign ? " fr-fv" + R.opts.videoDefaultAlign[0] : "")).html('<video src="' + e3 + '" ' + o5 + (l4 ? ' style="width: ' + l4 + ';" ' : "") + c4 + "  controls>" + R.language.translate("Your browser does not support HTML5 video.") + "</video>");
                }
                s4.toggleClass("fr-draggable", R.opts.videoMove), R.edit.on(), R.events.focus(true), R.selection.restore(), R.undo.saveStep(), R.opts.videoSplitHTML ? R.markers.split() : R.markers.insert();
                R.html.wrap();
                var f4 = R.$el.find(".fr-marker");
                R.node.isLastSibling(f4) && f4.parent().hasClass("fr-deletable") && f4.insertAfter(f4.parent());
                f4.replaceWith(s4);
                var p4 = "";
                p4 = Be(n5) ? "audio" : "video", s4.find(p4).get(0).readyState > s4.find(p4).get(0).HAVE_FUTURE_DATA || R.helpers.isIOS() ? a5.call(s4.find(p4).get(0)) : (s4.find(p4).on("canplaythrough load", a5), s4.find(p4).on("error", a5));
                return s4;
              }(E3, w2, Ce, Re(O2.get(s3)), s3), Te(), R.undo.saveStep(), R.events.trigger("video.inserted", [e2, A2]);
            }();
          }
          R.popups.hide("filesManager.insert"), F["delete"](s3);
          var C2 = R.popups.get("filesManager.insert");
          C2.find("input.fr-insert-attr.fr-checkbox-file-".concat(s3))[0].checked = false, C2.find(".fr-file-" + s3).get(0).classList.add("fr-unchecked"), q(), document.getElementById("fr-file-autoplay-button-" + s3) && (document.getElementById("fr-file-autoplay-button-" + s3).checked = false), M = M.filter(function(e2) {
            return e2 != s3;
          });
        }
        function xe(e, t2) {
          try {
            if (false === R.events.trigger("filesManager.uploaded", [e], true)) return R.edit.on(), false;
            var a3 = JSON.parse(e);
            return a3.link ? a3 : (j(m2, e, null, t2), false);
          } catch (n3) {
            return j(S, e, null, t2), false;
          }
        }
        function Ie(e, t2) {
          try {
            var a3 = x(e).find("Location").text(), n3 = x(e).find("Key").text();
            return false === R.events.trigger("filesManager.uploadedToS3", [a3, n3, e], true) ? (R.edit.on(), false) : a3;
          } catch (r3) {
            return j(S, e, null, t2), false;
          }
        }
        function Oe(e, t2, a3, n3) {
          if (-1 < U.indexOf(Re(e)) || !Re(e)) return j(P, null, null, n3), false;
          if (false === R.events.trigger("filesManager.beforeUpload", [t2])) return false;
          if (!(null !== R.opts.filesManagerUploadURL && R.opts.filesManagerUploadURL != y2 || R.opts.filesManagerUploadToS3 || R.opts.filesManagerUploadToAzure)) return function E3(s4, l4, c4) {
            var d4 = new FileReader();
            d4.onload = function() {
              var e2 = d4.result;
              if (d4.result.indexOf("svg+xml") < 0) {
                for (var t3 = atob(d4.result.split(",")[1]), a4 = [], n4 = 0; n4 < t3.length; n4++) a4.push(t3.charCodeAt(n4));
                if (e2 = window.URL.createObjectURL(new Blob([new Uint8Array(a4)], { type: Re(l4) })), Ne(Re(l4))) {
                  var r4 = { link: e2, sanitize: false, data: null, $existing_img: c4, response: null, type: Re(l4) };
                  O2.set(s4, r4);
                }
                if (De(Re(l4))) {
                  var i4 = { link: e2, text: l4.name, response: null, type: Re(l4) };
                  O2.set(s4, i4);
                }
                if (Pe(Re(l4)) || Be(Re(l4))) {
                  var o4 = { link: e2, sanitize: false, data: null, $existing_img: c4, type: Re(l4) };
                  O2.set(s4, o4);
                }
              }
            }, d4.readAsDataURL(l4);
          }(n3, e), false;
          if (Ne(Re(e)) && (e.name || (e.name = (/* @__PURE__ */ new Date()).getTime() + "." + (Re(e) || "image/jpeg").replace(/image\//g, ""))), e.size > R.opts.filesManagerMaxSize) return j(D, null, null, n3), false;
          if (R.opts.filesManagerAllowedTypes.indexOf("*") < 0 && R.opts.filesManagerAllowedTypes.indexOf(Re(e)) < 0) return j(P, null, null, n3), false;
          var r3;
          if (function _2(e2) {
            isNaN(e2) || (R.popups.get("filesManager.insert").find(".fr-file-item-right-" + e2).get(0).innerHTML = `<div class='fr-file-item-action-buttons' >
    <button type="button" id="fr-file-cancel-upload-button-`.concat(e2, '" class="fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons \n    fr-file-button-').concat(e2, ' fr-file-cancel-upload-button" data-cmd="cancelUpload" data-title="Cancel" data-param1="').concat(e2, `" role="button">
    <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = 'M13.4,12l5.6,5.6L17.6,19L12,13.4L6.4,19L5,17.6l5.6-5.6L5,6.4L6.4,5l5.6,5.6L17.6,5L19,6.4L13.4,12z'></path></svg>
    </button>

    <button type="button" id="fr-upload-delete-button-`).concat(e2, '" class="fr-img-icon fr-btn fr-command fr-submit fr-file-action-icons \n    fr-file-button-').concat(e2, ' fr-upload-delete-button" data-cmd="deleteUpload" data-title="Delete" data-param1="').concat(e2, `" role="button">
    <svg style='margin:0px !important; opacity:0.9' class = "fr-svg" focusable="false" width="16px" height="16px" viewBox = "-2 3 30 30" xlmns = "http://w3.org/200/svg"><path d = 'M15,10v8H9v-8H15 M14,4H9.9l-1,1H6v2h12V5h-3L14,4z M17,8H7v10c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2V8z'></path></svg>
    </button>

    <div class='progress-circle p0 fr-file-progress-circle-`).concat(e2, "'>\n                  <span class='fr-file-upload-percent-").concat(e2, " fr-file-upload-percent'>0%</span>\n                  <div class='left-half-clipper'>\n                    <div class='first50-bar'></div>\n                    <div class='value-bar'></div>\n                  </div>\n                </div>\n            </div>"), C.set(e2, 0));
          }(n3), R.drag_support.formdata && (r3 = R.drag_support.formdata ? new FormData() : null), r3) {
            var i3;
            if (false !== R.opts.filesManagerUploadToS3) for (i3 in r3.append("key", R.opts.filesManagerUploadToS3.keyStart + (/* @__PURE__ */ new Date()).getTime() + "-" + (e.name || "untitled")), r3.append("success_action_status", "201"), r3.append("X-Requested-With", "xhr"), r3.append("Content-Type", Re(e)), R.opts.filesManagerUploadToS3.params) R.opts.filesManagerUploadToS3.params.hasOwnProperty(i3) && r3.append(i3, R.opts.filesManagerUploadToS3.params[i3]);
            for (i3 in R.opts.filesManagerUploadParams) R.opts.filesManagerUploadParams.hasOwnProperty(i3) && r3.append(i3, R.opts.filesManagerUploadParams[i3]);
            r3.append(R.opts.filesManagerUploadParam, e, e.name);
            var o3, s3, l3 = R.opts.filesManagerUploadURL;
            R.opts.filesManagerUploadToS3 && (l3 = R.opts.filesManagerUploadToS3.uploadURL ? R.opts.filesManagerUploadToS3.uploadURL : "https://".concat(R.opts.filesManagerUploadToS3.region, ".amazonaws.com/").concat(R.opts.filesManagerUploadToS3.bucket)), R.opts.filesManagerUploadToAzure && (l3 = R.opts.filesManagerUploadToAzure.uploadURL ? "".concat(R.opts.filesManagerUploadToAzure.uploadURL, "/").concat(e.name) : encodeURI("https://".concat(R.opts.filesManagerUploadToAzure.account, ".blob.core.windows.net/").concat(R.opts.filesManagerUploadToAzure.container, "/").concat(e.name)), o3 = l3, R.opts.filesManagerUploadToAzure.SASToken && (l3 += R.opts.filesManagerUploadToAzure.SASToken), R.opts.filesManagerUploadMethod = "PUT");
            var c3 = R.core.getXHR(l3, R.opts.filesManagerUploadMethod);
            if (R.opts.filesManagerUploadToAzure) {
              var d3 = (/* @__PURE__ */ new Date()).toUTCString();
              if (!R.opts.filesManagerUploadToAzure.SASToken && R.opts.filesManagerUploadToAzure.accessKey) {
                var f3 = R.opts.filesManagerUploadToAzure.account, p3 = R.opts.filesManagerUploadToAzure.container;
                if (R.opts.filesManagerUploadToAzure.uploadURL) {
                  var u3 = R.opts.filesManagerUploadToAzure.uploadURL.split("/");
                  p3 = u3.pop(), f3 = u3.pop().split(".")[0];
                }
                var g3 = "x-ms-blob-type:BlockBlob\nx-ms-date:".concat(d3, "\nx-ms-version:2019-07-07"), h3 = encodeURI("/" + f3 + "/" + p3 + "/" + e.name), m3 = R.opts.filesManagerUploadMethod + "\n\n\n" + e.size + "\n\n" + Re(e) + "\n\n\n\n\n\n\n" + g3 + "\n" + h3, v3 = R.cryptoJSPlugin.cryptoJS.HmacSHA256(m3, R.cryptoJSPlugin.cryptoJS.enc.Base64.parse(R.opts.filesManagerUploadToAzure.accessKey)).toString(R.cryptoJSPlugin.cryptoJS.enc.Base64), b3 = "SharedKey " + f3 + ":" + v3;
                s3 = v3, c3.setRequestHeader("Authorization", b3);
              }
              for (i3 in c3.setRequestHeader("x-ms-version", "2019-07-07"), c3.setRequestHeader("x-ms-date", d3), c3.setRequestHeader("Content-Type", Re(e)), c3.setRequestHeader("x-ms-blob-type", "BlockBlob"), R.opts.filesManagerUploadParams) R.opts.filesManagerUploadParams.hasOwnProperty(i3) && c3.setRequestHeader(i3, R.opts.filesManagerUploadParams[i3]);
              for (i3 in R.opts.filesManagerUploadToAzure.params) R.opts.filesManagerUploadToAzure.params.hasOwnProperty(i3) && c3.setRequestHeader(i3, R.opts.filesManagerUploadToAzure.params[i3]);
            }
            c3.onload = function() {
              De(Re(e)) ? (function g4(e2, t3, a4, n4, r4) {
                var i4 = this.status, o4 = this.response, s4 = this.responseXML, l4 = this.responseText;
                try {
                  if (R.opts.filesManagerUploadToS3 || R.opts.filesManagerUploadToAzure) if (201 === i4) {
                    var c4;
                    if (R.opts.filesManagerUploadToAzure) {
                      if (false === R.events.trigger("filesManager.uploadedToAzure", [this.responseURL, r4, o4], true)) return R.edit.on(), false;
                      c4 = n4;
                    } else c4 = Ie(s4, t3);
                    if (c4) {
                      var d4 = { link: c4, text: e2, response: o4, type: a4 };
                      O2.set(t3, d4);
                    }
                  } else j(S, o4 || s4, null, t3);
                  else if (200 <= i4 && i4 < 300) {
                    var f4 = xe(l4, t3);
                    if (f4) {
                      var p4 = { link: f4.link, text: e2, response: o4, type: a4, data: f4 };
                      O2.set(t3, p4);
                    }
                  } else j(k, o4 || l4, null, t3);
                } catch (u4) {
                  j(S, o4 || l4, null, t3);
                }
              }).call(c3, e.name, n3, Re(e), o3, s3) : (function h4(e2, t3, a4, n4, r4) {
                var i4 = this.status, o4 = this.response, s4 = this.responseXML, l4 = this.responseText;
                try {
                  if (R.opts.filesManagerUploadToS3 || R.opts.filesManagerUploadToAzure) if (201 == i4) {
                    var c4;
                    if (R.opts.filesManagerUploadToAzure) {
                      if (false === R.events.trigger("filesManager.uploadedToAzure", [this.responseURL, r4, o4], true)) return R.edit.on(), false;
                      c4 = n4;
                    } else c4 = Ie(s4, t3);
                    if (c4) {
                      var d4 = { link: c4, sanitize: false, data: [], $existing_img: e2, response: o4 || s4, type: a4 };
                      O2.set(t3, d4);
                    }
                  } else j(S, o4 || s4, e2, t3);
                  else if (200 <= i4 && i4 < 300) {
                    var f4 = xe(l4, t3);
                    if (f4) {
                      var p4 = { link: f4.link, sanitize: false, data: f4, $existing_img: e2, response: o4 || s4, type: a4 };
                      O2.set(t3, p4);
                    }
                  } else j(k, o4 || l4, e2, t3);
                } catch (u4) {
                  j(S, o4 || l4, e2, t3);
                }
              }).call(c3, w, n3, Re(e), o3, s3), T.has(n3) || _e(100, n3, true);
            }, c3.onerror = function() {
              j(S, this.response || this.responseText || this.responseXML, null, n3);
            }, c3.upload.onprogress = function(e2) {
              !function a4(e3, t3) {
                e3.lengthComputable && _e(e3.loaded / e3.total * 100 | 0, t3, false);
              }(e2, n3);
            }, c3.onabort = function(e2) {
              !function a4(e3, t3) {
                j(B, t3, w, e3);
              }(n3, e2);
            }, c3.send(R.opts.filesManagerUploadToAzure ? e : r3), A.set(n3, c3);
          }
        }
        function Fe(l3) {
          R.events.$on(l3, "click", ".fr-upload-progress-layer", function(e) {
            if (R.helpers.isMobile()) return e.stopPropagation(), false;
          }, true), R.events.$on(l3, "dragover dragenter", ".fr-upload-progress-layer", function(e) {
            e.preventDefault();
            for (var t2 = 0; t2 < e.originalEvent.dataTransfer.types.length; t2++) "Files" == e.originalEvent.dataTransfer.types[t2] && (e.originalEvent.dataTransfer.dropEffect = "none");
            return false;
          }, true), R.events.$on(l3, "dragleave dragend", ".fr-upload-progress-layer", function(e) {
            return e.preventDefault(), false;
          }, true), R.events.$on(l3, "dragover dragenter", ".fr-files-upload-layer", function(e) {
            return x(this).addClass("fr-drop"), (R.browser.msie || R.browser.edge) && e.preventDefault(), false;
          }, true), R.events.$on(l3, "dragleave dragend", ".fr-files-upload-layer", function(e) {
            return x(this).removeClass("fr-drop"), (R.browser.msie || R.browser.edge) && e.preventDefault(), false;
          }, true), R.events.$on(l3, "click", ".fr-insert-checkbox", function(e) {
            if (this.classList.contains("fr-checkbox-disabled")) return this.children.target.disabled = true, void (this.children.target.checked = false);
            var t2 = parseInt(this.id.split("-").pop());
            F.set(t2, this.children.target.checked);
            for (var a3 = l3.find('.fr-command[data-cmd="insertAll"]'), n3 = l3.find('.fr-command[data-cmd="deleteAll"]'), r3 = l3.find('input.fr-file-insert-check[type="checkbox"]'), i3 = r3.length, o3 = true, s3 = 0; s3 < i3; s3++) 1 == r3[s3].checked && (o3 = false);
            if (o3 ? a3.addClass("fr-disabled") : a3.removeClass("fr-disabled"), o3 ? n3.addClass("fr-disabled") : n3.removeClass("fr-disabled"), this.children.target.checked) l3.find(".fr-file-" + this.id.split("-").pop()).get(0).setAttribute("draggable", "true"), l3.find(".fr-file-" + this.id.split("-").pop()).get(0).classList.remove("fr-unchecked");
            else {
              this.id.split("-").pop();
              l3.find(".fr-file-" + this.id.split("-").pop()).get(0).setAttribute("draggable", "false"), l3.find(".fr-file-" + this.id.split("-").pop()).get(0).classList.add("fr-unchecked");
            }
          }), R.events.$on(l3, "click", ".fr-file-insert-button", function(e) {
            this.classList.contains("fr-disabled") || Le(parseInt(this.id.split("-").pop()));
          }), R.events.$on(l3, "click", ".fr-file-autoplay-button", function(e) {
            if (this.parentNode.classList.contains("fr-checkbox-disabled")) return this.disabled = true, void (this.checked = false);
            Me(parseInt(this.id.split("-").pop()));
          }), R.events.$on(l3, "click", ".fr-file-edit-button", function(e) {
            var t2 = parseInt(this.id.split("-").pop());
            l3.find(".fr-file-edit-button-".concat(t2)).hasClass("fr-disabled") || Se(t2);
          }), R.events.$on(l3, "click", ".fr-file-view-button", function(e) {
            var t2 = parseInt(this.id.split("-").pop());
            l3.find(".fr-file-view-button-".concat(t2)).hasClass("fr-disabled") || function v3(e2) {
              if (!Ue(Re(O2.get(e2)))) {
                var t3 = O2.get(e2).link, a3 = O2.get(e2).link;
                if (I2.get(e2) && I2.get(e2).name ? a3 = I2.get(e2).name : O2.get(e2).text && (a3 = O2.get(e2).text), 0 === t3.indexOf("blob:") && R.browser.msie && window.navigator && window.navigator.msSaveBlob) window.navigator.msSaveBlob(I2.get(e2), a3);
                else {
                  var n3 = document.createElement("a");
                  n3.href = t3, n3.download = a3, n3.click();
                }
                return false;
              }
              var r3 = R.popups.get("filesManager.insert");
              if (0 < r3.find(".fr-file-view-image-" + e2).length) r3.find(".fr-file-view-image-" + e2)[0].remove();
              else {
                for (var i3 = r3.find(".fr-file-view"), o3 = 0; o3 < i3.length; o3++) i3.get(o3).remove();
                var s3 = r3.find(".fr-file-view-" + e2);
                if (Ne(Re(O2.get(e2)))) {
                  var l4 = '<div class="fr-file-view-modal">\n              <div class="fr-file-view-modal-content">\n              <div class="fr-file-view-close">&times;</div> \n                <img src="' + O2.get(e2).link + `" class ='fr-file-view-image'/>
                </div>
              </div>`;
                  s3[0].innerHTML = l4 + s3[0].innerHTML;
                } else if (Pe(Re(O2.get(e2)))) {
                  var c3;
                  if (O2.get(e2).hasOwnProperty("video")) {
                    var d3 = O2.get(e2).video.substring(O2.get(e2).video.indexOf("src") + 3), f3 = d3.substring(d3.indexOf('"') + 1);
                    f3 = f3.substring(0, f3.indexOf('"')), c3 = '<div class="fr-file-view-modal">\n        <div class="fr-file-view-modal-content ">\n          <div class="fr-file-view-close">&times;</div> \n          <iframe width="640" height="360" src="'.concat(f3 + "&autoplay=1&mute=1", '" allow="autoplay" frameborder="0" class = "fr-file-view-image"></iframe>\n        </div>\n      </div>');
                  } else c3 = '<div class="fr-file-view-modal">\n          <div class="fr-file-view-modal-content ">\n            <div class="fr-file-view-close">&times;</div> \n            <video controls src="' + O2.get(e2).link + `"  class ='fr-file-view-image' autoplay></video>
          </div>
        </div>`;
                  s3[0].innerHTML = c3 + s3[0].innerHTML;
                } else if (Be(Re(O2.get(e2)))) {
                  var p3 = `<div class="fr-file-view-modal">
        <div class="fr-file-view-modal-content ">
          <div  class="fr-file-view-close">&times;</div> 
          <audio controls="controls"  class ='fr-file-view-image' autoplay>

          <source src="`.concat(O2.get(e2).link, '" type="').concat(Re(O2.get(e2)), '" />\n\n            Your browser does not support the audio element.\n          </audio>\n        </div>\n      </div>');
                  s3[0].innerHTML = p3 + s3[0].innerHTML;
                } else if (De(Re(O2.get(e2)))) {
                  var u3 = O2.get(e2).link, g3 = O2.get(e2).text;
                  if (u3.endsWith(".pdf") || u3.endsWith(".txt")) {
                    var h3 = '<div class="fr-file-view-modal">	\n              <div class="fr-file-view-modal-content " >	\n              <div class="fr-file-view-close">&times;</div> 	\n              <iframe src="'.concat(u3, `" style='background-color: white;' height='50%' width='50%' title="`).concat(g3, '" class="fr-file fr-file-view-image"></iframe>	\n            </div>	\n            </div>');
                    s3[0].innerHTML = h3 + s3[0].innerHTML;
                  } else if (0 === u3.indexOf("blob:") && R.browser.msie && window.navigator && window.navigator.msSaveBlob) window.navigator.msSaveBlob(I2.get(e2), g3);
                  else {
                    var m3 = document.createElement("a");
                    m3.href = u3, m3.download = g3, m3.click();
                  }
                }
              }
            }(t2);
          }), R.events.$on(l3, "click", ".fr-file-delete-button", function(e) {
            X(parseInt(this.id.split("-").pop()));
          }), R.events.$on(l3, "click", ".fr-file-cancel-upload-button", function(e) {
            !function a3(e2) {
              var t2 = R.popups.get("filesManager.insert");
              t2.find(".fr-file-item-right-" + e2).get(0).innerHTML = Ee(e2), A.get(e2).abort(), we(e2, 100, true), t2.find(".fr-checkbox-file-" + e2).get(0).disabled = true;
            }(parseInt(this.id.split("-").pop()));
          }), R.events.$on(l3, "click", ".fr-upload-delete-button", function(e) {
            !function t2(e2) {
              0 != A.get(e2).readyState && (A.get(e2).abort(), we(e2, 100, true), A["delete"](e2)), X(e2);
            }(parseInt(this.id.split("-").pop()));
          }), R.events.$on(l3, "click", ".fr-file-view-close", function(e) {
            l3.find(".fr-file-view-modal").get(0).outerHTML = "";
          }), R.events.$on(l3, "click", ".fr-plugins-enable", function(e) {
            !function t2() {
              h2.forEach(function(e2) {
                R.opts.pluginsEnabled.indexOf(e2) < 0 && R.opts.pluginsEnabled.push(e2);
              });
            }(), function a3(e2) {
              for (var t2 in e2) if (!R[t2]) {
                if (St.PLUGINS[t2] && R.opts.pluginsEnabled.indexOf(t2) < 0) continue;
                R[t2] = new e2[t2](R), R[t2]._init && R[t2]._init();
              }
            }(St.PLUGINS), R.popups.get("filesManager.insert").get(0).outerHTML = "", He2(), E2(true);
          }), R.events.$on(l3, "click", ".fr-plugins-cancel", function(e) {
            R.popups.hide("filesManager.insert");
          }), R.events.$on(l3, "drop", ".fr-upload-progress", function(e) {
            e.preventDefault(), e.stopPropagation();
          }), R.events.$on(l3, "drop", ".fr-files-upload-layer", function(e) {
            e.preventDefault(), e.stopPropagation(), x(this).removeClass("fr-drop");
            var t2 = e.originalEvent.dataTransfer;
            if (t2 && t2.files) {
              var a3 = l3.data("instance") || R;
              a3.events.disableBlur();
              for (var n3 = [], r3 = 0; r3 < t2.files.length; r3++) {
                var i3 = g2;
                I2.set(i3, t2.files[r3]), me(i3), F.set(i3, false), n3.push(i3), g2++;
              }
              for (var o3 = 0; o3 < n3.length; o3++) a3.filesManager.upload(I2.get(n3[o3]), t2.files, w, n3[o3]);
              a3.events.enableBlur();
            }
          }, true), R.helpers.isIOS() && R.events.$on(l3, "touchstart", '.fr-files-upload-layer input[type="file"]', function() {
            x(this).trigger("click");
          }, true), R.events.$on(l3, "change", '.fr-files-upload-layer input[type="file"]', function() {
            if (this.files) {
              var e = l3.data("instance") || R;
              e.events.disableBlur(), l3.find("input:focus").blur(), e.events.enableBlur();
              var t2 = [];
              if ("undefined" != typeof this.files && 0 < this.files.length) {
                for (var a3 = 0; a3 < this.files.length; a3++) {
                  var n3 = g2;
                  I2.set(n3, this.files[a3]), me(n3), F.set(n3, false), ++g2, t2.push(n3);
                }
                for (var r3 = 0; r3 < t2.length; r3++) e.filesManager.upload(I2.get(t2[r3]), this.files, w, t2[r3]);
              }
            }
            x(this).val("");
          }, true);
        }
        function Me(t2) {
          document.getElementById("fr-file-autoplay-button-" + t2).checked ? M.push(t2) : M = M.filter(function(e) {
            return e != t2;
          });
        }
        function Ne(e) {
          return e && "image" === e.split("/")[0];
        }
        function De(e) {
          return e && "image" != e.split("/")[0] && e && "video" != e.split("/")[0] && e && "audio" != e.split("/")[0];
        }
        function Pe(e) {
          return e && "video" === e.split("/")[0];
        }
        function Be(e) {
          return e && "audio" === e.split("/")[0];
        }
        function Ue(e) {
          var t2 = "audio/ogg", a3 = "video/ogg";
          if (e == t2 || e == a3 || "image/webp" == e || "video/webm" == e) {
            if (R.browser.msie || R.browser.edge || R.browser.safari) return false;
            if (R.helpers.isMobile()) {
              if (e == t2 || e == a3) return false;
              if (!R.helpers.isAndroid() && !R.browser.chrome) return false;
            }
          }
          return true;
        }
        function He2(e) {
          if (e) return R.popups.onRefresh("filesManager.insert", b2), R.popups.onHide("filesManager.insert", H), true;
          var t2, a3, n3 = "";
          R.opts.imageUpload || -1 === R.opts.filesInsertButtons.indexOf("filesUpload") || R.opts.imageInsertButtons.splice(R.opts.filesInsertButtons.indexOf("filesUpload"), 1);
          var r3 = R.button.buildList(R.opts.filesInsertButtons), i3 = R.button.buildList(R.opts.filesInsertButtons2);
          "" !== r3 && (n3 = '<div class="fr-buttons fr-tabs">'.concat(r3, '<span class="fr-align-right">').concat(i3, "</span></div>"));
          var o3 = R.opts.filesInsertButtons.indexOf("filesUpload"), s3 = R.opts.filesInsertButtons.indexOf("filesByURL"), l3 = R.opts.filesInsertButtons.indexOf("filesEmbed"), c3 = "";
          0 <= o3 && (t2 = " fr-active", 0 <= s3 && s3 < o3 && (t2 = ""), c3 = '<div class="fr-files-upload-layer'.concat(t2, ' fr-layer " id="fr-files-upload-layer-').concat(R.id, `"><div style="display:flex"><div class="fr-upload-section"><div class = 'fr-blue-decorator'><div class = 'fr-cloud-icon'><svg class = "fr-svg" focusable="false" width="26px" height="26px" viewBox = "0 0 24 24" xlmns = "http://w3.org/200/svg"><path d = 'M12 6.66667a4.87654 4.87654 0 0 1 4.77525 3.92342l0.29618 1.50268 1.52794 0.10578a2.57021 2.57021 0 0 1 -0.1827 5.13478H6.5a3.49774 3.49774 0 0 1 -0.3844 -6.97454l1.06682 -0.11341L7.678 9.29387A4.86024 4.86024 0 0 1 12 6.66667m0 -2A6.871 6.871 0 0 0 5.90417 8.37 5.49773 5.49773 0 0 0 6.5 19.33333H18.41667a4.57019 4.57019 0 0 0 0.32083 -9.13A6.86567 6.86567 0 0 0 12 4.66667Zm0.99976 7.2469h1.91406L11.99976 9 9.08618 11.91357h1.91358v3H11V16h2V14h-0.00024Z'></path></svg></div>Drag & Drop One or More Files<br><div class="fr-decorated"><span> OR </span></div> Click Browse Files </div> </div><div class="fr-form"><input type="file" accept="`).concat(R.opts.filesManagerAllowedTypes.join(",").toLowerCase(), '" tabIndex="-1" aria - labelledby="fr-files-upload-layer-').concat(R.id, '"role="button" multiple></div> </div></div>'));
          var d3 = "";
          0 <= l3 && (t2 = " fr-active", (o3 < l3 && 0 <= o3 || s3 < l3 && 0 <= s3) && (t2 = ""), d3 = '<div class="fr-files-embed-layer fr-layer'.concat(t2, '" id="fr-files-embed-layer-').concat(R.id, `"><div class="fr-input-line padding-top-15"><textarea data-gramm_editor="false" style='height:60px' id="fr-files-embed-layer-text`).concat(R.id, '" type="text" placeholder="').concat(R.language.translate("Embedded Code"), '" tabIndex="1" aria-required="true" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="insertEmbed" tabIndex="2" role="button">').concat(R.language.translate("Insert"), "</button></div></div>"));
          var f3 = "";
          0 <= s3 && (t2 = " fr-active", 0 <= o3 && o3 < s3 && (t2 = ""), f3 = '<div class="fr-files-by-url-layer'.concat(t2, ' fr-layer" id="fr-files-by-url-layer-').concat(R.id, '"><div class="fr-input-line fr-by-url-padding"><input id="fr-files-by-url-layer-text-').concat(R.id, '" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="filesInsertByURL" tabIndex="2" role="button">').concat(R.language.translate("Add"), "</button></div></div>"));
          var p3 = { buttons: n3, upload_layer: c3, by_url_layer: f3, embed_layer: d3, upload_progress_layer: `<div class = ' fr-margin-16 fr-upload-progress' id="fr-upload-progress-layer-`.concat(R.id, `" ><div  class='fr-progress-bar-style'><div class='fr-progress-bar fr-none'></div></div><div id='filesList' class = 'fr-upload-progress-layer fr-layer'></div></div>`), progress_bar: '<div class="fr-files-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="filesDismissError" tabIndex="2" role="button">OK</button></div></div>' };
          return 1 <= R.opts.imageInsertButtons.length && (a3 = R.popups.create("filesManager.insert", p3)), R.$wp && R.events.$on(R.$wp, "scroll", function() {
            w && R.popups.isVisible("filesManager.insert") && replace();
          }), Fe(a3), R.popups.setPopupDimensions(a3), a3;
        }
        function $e(e) {
          var t2 = e.split("/").pop();
          if (t2.split(".").length < 2) {
            var a3 = /* @__PURE__ */ new Date();
            return t2 + "-" + a3.getDate() + "/" + (a3.getMonth() + 1) + "/" + a3.getFullYear();
          }
          return t2;
        }
        function ze() {
          w && R.popups.get("image.alt").find("input").val(w.attr("alt") || "").trigger("change");
        }
        function We() {
          var e = R.popups.get("image.alt");
          e || (e = Ke()), J(), R.popups.refresh("image.alt"), R.popups.setContainer("image.alt", R.$sc);
          var t2 = lt();
          ct() && (t2 = t2.find(".fr-img-wrap"));
          var a3 = t2.offset().left + t2.outerWidth() / 2, n3 = t2.offset().top + t2.outerHeight();
          R.popups.show("image.alt", a3, n3, t2.outerHeight(), true);
        }
        function Ke(e) {
          if (e) return R.popups.onRefresh("image.alt", ze), true;
          var t2 = { buttons: '<div class="fr-buttons fr-tabs">'.concat(R.button.buildList(R.opts.imageAltButtons), "</div>"), alt_layer: '<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'.concat(R.id, '"><div class="fr-input-line"><input id="fr-image-alt-layer-text-').concat(R.id, '" type="text" placeholder="').concat(R.language.translate("Alternative Text"), '" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2" role="button">').concat(R.language.translate("Update"), "</button></div></div>") }, a3 = R.popups.create("image.alt", t2);
          return R.$wp && R.events.$on(R.$wp, "scroll.image-alt", function() {
            w && R.popups.isVisible("image.alt") && We();
          }), a3;
        }
        function Ge() {
          var e = R.popups.get("image.size");
          if (w) if (ct()) {
            var t2 = w.parent();
            t2.get(0).style.width || (t2 = w.parent().parent()), e.find('input[name="width"]').val(t2.get(0).style.width).trigger("change"), e.find('input[name="height"]').val(t2.get(0).style.height).trigger("change");
          } else e.find('input[name="width"]').val(w.get(0).style.width).trigger("change"), e.find('input[name="height"]').val(w.get(0).style.height).trigger("change");
        }
        function Ve() {
          var e = R.popups.get("image.size");
          e || (e = Ye()), J(), R.popups.refresh("image.size"), R.popups.setContainer("image.size", R.$sc);
          var t2 = lt();
          ct() && (t2 = t2.find(".fr-img-wrap"));
          var a3 = t2.offset().left + t2.outerWidth() / 2, n3 = t2.offset().top + t2.outerHeight();
          R.popups.show("image.size", a3, n3, t2.outerHeight(), true);
        }
        function Ye(e) {
          if (e) return R.popups.onRefresh("image.size", Ge), true;
          var t2 = { buttons: '<div class="fr-buttons fr-tabs">'.concat(R.button.buildList(R.opts.imageSizeButtons), "</div>"), size_layer: '<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'.concat(R.id, `"><div class="fr-image-group"><div class="fr-input-line"><input id="fr-image-size-layer-width-'`).concat(R.id, '" type="text" name="width" placeholder="').concat(R.language.translate("Width"), '" tabIndex="1"></div><div class="fr-input-line"><input id="fr-image-size-layer-height').concat(R.id, '" type="text" name="height" placeholder="').concat(R.language.translate("Height"), '" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2" role="button">').concat(R.language.translate("Update"), "</button></div></div>") }, a3 = R.popups.create("image.size", t2);
          return R.$wp && R.events.$on(R.$wp, "scroll.image-size", function() {
            w && R.popups.isVisible("image.size") && Ve();
          }), a3;
        }
        function je(e, t2, a3, n3) {
          return e.pageX = t2, K.call(this, e), e.pageX = e.pageX + a3 * Math.floor(Math.pow(1.1, n3)), G.call(this, e), V.call(this, e), ++n3;
        }
        function qe(e) {
          (e = e || lt()) && false !== R.events.trigger("image.beforeRemove", [e]) && (R.popups.hideAll(), at(true), R.undo.canDo() || R.undo.saveStep(), e.get(0) == R.el ? e.removeAttr("src") : (e.get(0).parentNode && "A" == e.get(0).parentNode.tagName ? (R.selection.setBefore(e.get(0).parentNode) || R.selection.setAfter(e.get(0).parentNode) || e.parent().after(St.MARKERS), x(e.get(0).parentNode).remove()) : (R.selection.setBefore(e.get(0)) || R.selection.setAfter(e.get(0)) || e.after(St.MARKERS), e.remove()), R.html.fillEmptyBlocks(), R.selection.restore()), R.undo.saveStep());
        }
        function Xe(e) {
          var t2 = e.which;
          if (w && (t2 == St.KEYCODE.BACKSPACE || t2 == St.KEYCODE.DELETE)) return e.preventDefault(), e.stopPropagation(), qe(), false;
          if (w && t2 == St.KEYCODE.ESC) {
            var a3 = w;
            return at(true), R.selection.setAfter(a3.get(0)), R.selection.restore(), e.preventDefault(), false;
          }
          if (!w || t2 != St.KEYCODE.ARROW_LEFT && t2 != St.KEYCODE.ARROW_RIGHT) return w && t2 === St.KEYCODE.TAB ? (e.preventDefault(), e.stopPropagation(), at(true), false) : w && t2 != St.KEYCODE.F10 && !R.keys.isBrowserAction(e) ? (e.preventDefault(), e.stopPropagation(), false) : void 0;
          var n3 = w.get(0);
          return at(true), t2 == St.KEYCODE.ARROW_LEFT ? R.selection.setBefore(n3) : R.selection.setAfter(n3), R.selection.restore(), e.preventDefault(), false;
        }
        function Ze(e) {
          if (e && "IMG" == e.tagName) {
            var t2;
            if (R.node.hasClass(e, "fr-uploading") || R.node.hasClass(e, "fr-error")) null === (t2 = e.parentNode) || void 0 === t2 || t2.removeChild(e);
            else R.node.hasClass(e, "fr-draggable") && e.classList.remove("fr-draggable");
            if (e.parentNode && e.parentNode.parentNode && R.node.hasClass(e.parentNode.parentNode, "fr-img-caption")) {
              var a3 = e.parentNode.parentNode;
              a3.removeAttribute("contenteditable"), a3.removeAttribute("draggable"), a3.classList.remove("fr-draggable");
              var n3 = e.nextSibling;
              n3 && n3.removeAttribute("contenteditable");
            }
          } else if (e && e.nodeType == Node.ELEMENT_NODE) for (var r3 = e.querySelectorAll("img.fr-uploading, img.fr-error, img.fr-draggable"), i3 = 0; i3 < r3.length; i3++) Ze(r3[i3]);
        }
        function Qe(e) {
          var t2 = e.target.result, a3 = R.opts.imageDefaultWidth;
          a3 && "auto" != a3 && (a3 += R.opts.imageResizeWithPercent ? "%" : "px"), R.undo.saveStep(), R.html.insert('<img data-fr-image-pasted="true" src="'.concat(t2, '"').concat(a3 ? ' style="width: '.concat(a3, ';"') : "", ">"));
          var n3 = R.$el.find('img[data-fr-image-pasted="true"]');
          n3 && ot(n3, R.opts.imageDefaultDisplay, R.opts.imageDefaultAlign), R.events.trigger("paste.after");
        }
        function Je(e, t2) {
          var a3 = new FileReader();
          a3.onload = function n3(e2) {
            var t3 = R.opts.imageDefaultWidth;
            t3 && "auto" != t3 && (t3 += R.opts.imageResizeWithPercent ? "%" : "px"), R.html.insert('<img data-fr-image-pasted="true" src="'.concat(e2, '"').concat(t3 ? ' style="width: '.concat(t3, ';"') : "", ">"));
            var a4 = R.$el.find('img[data-fr-image-pasted="true"]');
            a4 && ot(a4, R.opts.imageDefaultDisplay, R.opts.imageDefaultAlign), R.events.trigger("paste.after");
          }(t2), a3.readAsDataURL(e, t2);
        }
        function et(e, t2) {
          var a3 = t2 || e && e.clipboardData;
          if (a3 && a3.items) {
            var n3 = (a3 || window.clipboardData).getData("text/html") || "", r3 = new DOMParser().parseFromString(n3, "text/html").querySelector("img");
            if (r3 && !R.opts.imageUploadURL) {
              if (!r3) return false;
              var i3 = r3.src, o3 = null;
              if (a3.types && -1 != [].indexOf.call(a3.types, "text/rtf") || a3.getData("text/rtf")) o3 = a3.items[0].getAsFile();
              else for (var s3 = 0; s3 < a3.items.length; s3++) if (o3 = a3.items[s3].getAsFile()) {
                St.IMAGE_TYPE = o3.type;
                break;
              }
              if (o3) return Je(o3, i3), false;
            } else {
              var l3 = null;
              if (a3.types && -1 != [].indexOf.call(a3.types, "text/rtf") || a3.getData("text/rtf")) l3 = a3.items[0].getAsFile();
              else for (var c3 = 0; c3 < a3.items.length && !(l3 = a3.items[c3].getAsFile()); c3++) ;
              if (l3) return function d3(e2) {
                var t3 = new FileReader();
                t3.onload = Qe, t3.readAsDataURL(e2);
              }(l3), false;
            }
          }
        }
        function tt(e) {
          return e = e.replace(/<img /gi, '<img data-fr-image-pasted="true" ');
        }
        function at(e) {
          w && (/* @__PURE__ */ function t2() {
            return nt;
          }() || true === e) && (R.toolbar.enable(), l2 && l2.removeClass("fr-active"), R.popups.hide("image.edit"), w = null, it(), c2 = null, d2 && d2.hide());
        }
        var nt = false;
        function rt() {
          nt = true;
        }
        function it() {
          nt = false;
        }
        function ot(e, t2, a3) {
          !R.opts.htmlUntouched && R.opts.useClasses ? (x(e).removeClass("fr-fil fr-fir fr-dib fr-dii"), a3 && x(e).addClass("fr-fi".concat(a3[0])), t2 && x(e).addClass("fr-di".concat(t2[0]))) : "inline" == t2 ? (e.css({ display: "inline-block", verticalAlign: "bottom", margin: R.opts.imageDefaultMargin }), "center" == a3 ? e.css({ "float": "none", marginBottom: "", marginTop: "", maxWidth: "calc(100% - ".concat(2 * R.opts.imageDefaultMargin, "px)"), textAlign: "center" }) : "left" == a3 ? e.css({ "float": "left", marginLeft: 0, maxWidth: "calc(100% - ".concat(R.opts.imageDefaultMargin, "px)"), textAlign: "left" }) : e.css({ "float": "right", marginRight: 0, maxWidth: "calc(100% - ".concat(R.opts.imageDefaultMargin, "px)"), textAlign: "right" })) : "block" == t2 && (e.css({ display: "block", "float": "none", verticalAlign: "top", margin: "".concat(R.opts.imageDefaultMargin, "px auto"), textAlign: "center" }), "left" == a3 ? e.css({ marginLeft: 0, textAlign: "left" }) : "right" == a3 && e.css({ marginRight: 0, textAlign: "right" }));
        }
        function st() {
          return w;
        }
        function lt() {
          return ct() ? w.parents(".fr-img-caption").first() : w;
        }
        function ct() {
          return !!w && 0 < w.parents(".fr-img-caption").length;
        }
        return { _init: function dt() {
          var i3;
          (function e() {
            R.events.$on(R.$el, R._mousedown, "IMG" == R.el.tagName ? null : 'img:not([contenteditable="false"])', function(e2) {
              if ("false" == x(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")) return true;
              R.helpers.isMobile() || R.selection.clear(), t = true, R.popups.areVisible() && R.events.disableBlur(), R.browser.msie && (R.events.disableBlur(), R.$el.attr("contenteditable", false)), R.draggable || "touchstart" == e2.type || e2.preventDefault(), e2.stopPropagation();
            }), R.events.$on(R.$el, R._mousedown, ".fr-img-caption .fr-inner", function(e2) {
              R.core.hasFocus() || R.events.focus(), e2.stopPropagation();
            }), R.events.$on(R.$el, "paste", ".fr-img-caption .fr-inner", function(e2) {
              true === R.opts.toolbarInline && (R.toolbar.hide(), e2.stopPropagation());
            }), R.events.$on(R.$el, R._mouseup, "IMG" == R.el.tagName ? null : 'img:not([contenteditable="false"])', function(e2) {
              if ("false" == x(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")) return true;
              t && (t = false, e2.stopPropagation(), R.browser.msie && (R.$el.attr("contenteditable", true), R.events.enableBlur()));
            }), R.events.on("keyup", function(e2) {
              if (e2.shiftKey && "" === R.selection.text().replace(/\n/g, "") && R.keys.isArrow(e2.which)) {
                var t2 = R.selection.element(), a3 = R.selection.endElement();
                t2 && "IMG" == t2.tagName ? Ae(x(t2)) : a3 && "IMG" == a3.tagName && Ae(x(a3));
              }
            }, true), R.events.on("window.mousedown", rt), R.events.on("window.touchmove", it), R.events.on("mouseup window.mouseup", function() {
              if (w) return at(), false;
              it();
            }), R.events.on("commands.mousedown", function(e2) {
              0 < e2.parents(".fr-toolbar").length && at();
            }), R.events.on("image.resizeEnd", function() {
              R.opts.iframe && R.size.syncIframe();
            }), R.events.on("blur image.hideResizer commands.undo commands.redo element.dropped", function() {
              at(!(t = false));
            }), R.events.on("modals.hide", function() {
              w && R.selection.clear();
            }), R.events.on("image.resizeEnd", function() {
              R.win.getSelection && Ae(w);
            }), R.opts.imageAddNewLine && R.events.on("image.inserted", function(e2) {
              var t2 = e2.get(0);
              for (t2.nextSibling && "BR" === t2.nextSibling.tagName && (t2 = t2.nextSibling); t2 && !R.node.isElement(t2); ) t2 = R.node.isLastSibling(t2) ? t2.parentNode : null;
              R.node.isElement(t2) && (R.opts.enter === St.ENTER_BR ? e2.after("<br>") : x(R.node.blockParent(e2.get(0))).after("<".concat(R.html.defaultTag(), "><br></").concat(R.html.defaultTag(), ">")));
            });
          })(), "IMG" == R.el.tagName && R.$el.addClass("fr-view"), R.helpers.isMobile() && (R.events.$on(R.$el, "touchstart", "IMG" == R.el.tagName ? null : 'img:not([contenteditable="false"])', function() {
            de = false;
          }), R.events.$on(R.$el, "touchmove", function() {
            de = true;
          })), R.opts.pluginsEnabled.includes("filestack") && R.events.on("filestack.pluginsEnabled", function() {
            He2();
          }), R.$wp ? (R.events.on("window.keydown keydown", Xe, true), R.events.on("keyup", function(e) {
            if (w && e.which == St.KEYCODE.ENTER) return false;
          }, true), R.events.$on(R.$el, "keydown", function() {
            var e = R.selection.element();
            (e.nodeType === Node.TEXT_NODE || "BR" == e.tagName && R.node.isLastSibling(e)) && (e = e.parentNode), R.node.hasClass(e, "fr-inner") || (R.node.hasClass(e, "fr-img-caption") || (e = x(e).parents(".fr-img-caption").get(0)), R.node.hasClass(e, "fr-img-caption") && (R.opts.trackChangesEnabled || x(e).after(St.INVISIBLE_SPACE + St.MARKERS), R.selection.restore()));
          })) : R.events.$on(R.$win, "keydown", Xe), R.events.on("toolbar.esc", function() {
            if (w) {
              if (R.$wp) R.events.disableBlur(), R.events.focus();
              else {
                var e = w;
                at(true), R.selection.setAfter(e.get(0)), R.selection.restore();
              }
              return false;
            }
          }, true), R.events.on("toolbar.focusEditor", function() {
            if (w) return false;
          }, true), R.events.on("window.cut window.copy", function(e) {
            if (w && R.popups.isVisible("image.edit") && !R.popups.get("image.edit").find(":focus").length) {
              var t2 = lt();
              ct() ? (t2.before(St.START_MARKER), t2.after(St.END_MARKER), R.selection.restore(), R.paste.saveCopiedText(t2.get(0).outerHTML, t2.text())) : R.paste.saveCopiedText(w.get(0).outerHTML, w.attr("alt")), "copy" == e.type ? setTimeout(function() {
                Ae(w);
              }) : (at(true), R.undo.saveStep(), setTimeout(function() {
                R.undo.saveStep();
              }, 0));
            }
          }, true), R.browser.msie && R.events.on("keydown", function(e) {
            if (!R.selection.isCollapsed() || !w) return true;
            var t2 = e.which;
            t2 == St.KEYCODE.C && R.keys.ctrlKey(e) ? R.events.trigger("window.copy") : t2 == St.KEYCODE.X && R.keys.ctrlKey(e) && R.events.trigger("window.cut");
          }), R.events.$on(x(R.o_win), "keydown", function(e) {
            var t2 = e.which;
            if (w && t2 == St.KEYCODE.BACKSPACE) return e.preventDefault(), false;
          }), R.events.$on(R.$win, "keydown", function(e) {
            var t2 = e.which;
            w && w.hasClass("fr-uploading") && t2 == St.KEYCODE.ESC && w.trigger("abortUpload");
          }), R.events.on("destroy", function() {
            w && w.hasClass("fr-uploading") && w.trigger("abortUpload");
          }), R.events.on("paste.before", et), R.events.on("paste.beforeCleanup", tt), R.events.on("html.processGet", Ze), R.opts.imageOutputSize && R.events.on("html.beforeGet", function() {
            i3 = R.el.querySelectorAll("img");
            for (var e = 0; e < i3.length; e++) {
              var t2 = parseFloat(x(i3[e]).css("padding-left")) + parseFloat(x(i3[e]).css("padding-right")), a3 = x(i3[e]).width() - t2, n3 = i3[e].style.width || a3, r3 = i3[e].style.height || x(i3[e]).height();
              n3 && i3[e].setAttribute("width", "".concat(n3).replace(/px/, "")), r3 && i3[e].setAttribute("height", "".concat(r3).replace(/px/, ""));
            }
          }), R.opts.iframe && R.events.on("image.loaded", R.size.syncIframe), R.events.$on(x(R.o_win), "orientationchange.image", function() {
            setTimeout(function() {
              w && Ae(w);
            }, 100);
          }), function n3(e) {
            if (e) return R.$wp && R.events.$on(R.$wp, "scroll.image-edit", function() {
              w && R.popups.isVisible("image.edit") && R.events.disableBlur();
            }), true;
            var t2 = "";
            if (0 < R.opts.imageEditButtons.length) {
              var a3 = { buttons: t2 += '<div class="fr-buttons"> \n        '.concat(R.button.buildList(R.opts.imageEditButtons), "\n        </div>") };
              return R.popups.create("image.edit", a3);
            }
            return false;
          }(true), He2(true), Ye(true), Ke(true), R.events.on("node.remove", function(e) {
            if ("IMG" == e.get(0).tagName) return qe(e), false;
          }), R.events.on("popups.hide.filesManager.insert", function(e) {
            R.filesManager.minimizePopup(L);
          });
        }, showInsertPopup: E2, showLayer: function ft(e) {
          var t2, a3, n3 = R.popups.get("filesManager.insert");
          if (w || R.opts.toolbarInline) {
            if (w) {
              var r3 = lt();
              ct() && (r3 = r3.find(".fr-img-wrap")), a3 = r3.offset().top + r3.outerHeight(), t2 = r3.offset().left;
            }
          } else {
            var i3 = R.$tb.find('.fr-command[data-cmd="insertFiles"]');
            t2 = i3.offset().left, a3 = i3.offset().top + (R.opts.toolbarBottom ? 10 : i3.outerHeight() - 10);
          }
          !w && R.opts.toolbarInline && (a3 = n3.offset().top - R.helpers.getPX(n3.css("margin-top")), n3.hasClass("fr-above") && (a3 += n3.outerHeight())), n3.find(".fr-layer").removeClass("fr-active"), n3.find(".fr-".concat(e, "-layer")).addClass("fr-active"), n3.find(".fr-upload-progress-layer").addClass("fr-active"), R.popups.show("filesManager.insert", t2, a3, w ? w.outerHeight() : 0), R.accessibility.focusPopup(n3);
        }, refreshUploadButton: function pt(e) {
          var t2 = R.popups.get("filesManager.insert");
          t2 && t2.find(".fr-files-upload-layer").hasClass("fr-active") && e.addClass("fr-active").attr("aria-pressed", true);
        }, refreshByURLButton: function ut(e) {
          var t2 = R.popups.get("filesManager.insert");
          t2 && t2.find(".fr-files-by-url-layer").hasClass("fr-active") && e.addClass("fr-active").attr("aria-pressed", true);
        }, upload: Oe, insertByURL: function gt() {
          for (var e, t2 = R.popups.get("filesManager.insert").find(".fr-files-by-url-layer input"), a3 = t2.val().trim().split(/[ ,]+/), n3 = [], r3 = 0, i3 = 0; i3 < a3.length; i3++) e = a3[i3], new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$", "i").test(e) && (n3[r3] = a3[i3], r3++);
          if (0 != n3.length) {
            if (0 < t2.val().trim().length && 0 < n3.length) {
              var s3 = [], l3 = [], c3 = g2, d3 = n3.length;
              n3.forEach(function(e2, a4) {
                if (0 == e2.trim().length) g2 == c3 + --d3 && ye2(s3, l3);
                else {
                  J(), Q(), ee(R.language.translate("Loading file(s)"));
                  var n4 = e2.trim(), t3 = function o3(e3) {
                    if (void 0 === e3) return e3;
                    var t4 = null;
                    if (/^http/.test(e3) || (e3 = "https://".concat(e3)), R.helpers.isURL(e3)) for (var a5 = 0; a5 < St.VIDEO_PROVIDERS.length; a5++) {
                      var n5 = St.VIDEO_PROVIDERS[a5];
                      if (n5.test_regex.test(e3) && new RegExp(R.opts.videoAllowedProviders.join("|")).test(n5.provider)) {
                        t4 = e3.replace(n5.url_regex, n5.url_text), t4 = n5.html.replace(/\{url\}/, t4);
                        break;
                      }
                    }
                    return t4;
                  }(n4);
                  if (t3) {
                    var r4 = { link: n4, name: n4, type: "video/url", size: 2, video: t3 };
                    I2.set(c3 + a4, r4), me(c3 + a4), J(), Q(), ee(R.language.translate("Loading file(s)")), O2.set(c3 + a4, r4), ++g2 == c3 + d3 && ye2(s3, l3);
                  } else {
                    var i4 = new XMLHttpRequest();
                    i4.onload = function() {
                      if (200 == this.status) {
                        var e3 = new Blob([this.response], { type: this.response.type || "" });
                        e3.name = $e(n4), e3.link = n4, Ne(this.response.type) ? (e3.sanitize = true, e3.existing_image = w) : De(this.response.type) && (e3.text = $e(n4)), s3.push(e3), l3.push(c3 + a4), I2.set(c3 + a4, e3), me(c3 + a4), (-1 < U.indexOf(Re(e3)) || !Re(e3)) && j(P, null, null, c3 + a4);
                      } else {
                        var t4 = new Blob([this.response], { type: this.response.type || " " });
                        t4.name = $e(n4), t4.link = n4, I2.set(c3 + a4, t4), me(c3 + a4), j(N, this.response, w, c3 + a4);
                      }
                      J(), Q(), ee(R.language.translate("Loading file(s)")), ++g2 == c3 + d3 && ye2(s3, l3);
                    }, i4.onerror = function() {
                      var e3 = { link: n4, name: $e(n4), size: 0, type: "" };
                      j(9, this.response, w, c3 + a4);
                      var t4 = g2;
                      I2.set(t4, e3), me(t4), J(), Q(), ee(R.language.translate("Loading file(s)")), ++g2 == c3 + d3 && ye2(s3, l3);
                    }, i4.open("GET", "".concat(R.opts.imageCORSProxy, "/").concat(n4), true), i4.responseType = "blob", i4.send();
                  }
                }
              }), t2.val(""), t2.blur();
            }
          } else te(R.language.translate("Url entered is invalid. Please try again."));
        }, insertAllFiles: function ht() {
          r2 = [];
          var e = R.popups.get("filesManager.insert");
          u2 = -1, f2 = null, e.find(".fr-insert-checkbox").toArray().forEach(function n3(e2, t2, a3) {
            e2.children.target.checked && (r2.push(parseInt(e2.id.split("-").pop())), Ne(O2.get(parseInt(e2.id.split("-").pop())).type) && -1 == u2 && (u2 = t2));
          }), ke(r2), q();
        }, deleteAllFiles: function e() {
          R.popups.get("filesManager.insert").find(".fr-insert-checkbox").toArray().forEach(function r3(e2, t2, a3) {
            if (e2.children.target.checked) {
              var n3 = parseInt(e2.id.split("-").pop());
              A.has(n3) && A["delete"](n3), X(n3);
            }
          }), q();
        }, get: st, getEl: lt, insert: Le, showProgressBar: Q, remove: qe, hideProgressBar: J, applyStyle: function mt(e, t2, a3) {
          if (void 0 === t2 && (t2 = R.opts.imageStyles), void 0 === a3 && (a3 = R.opts.imageMultipleStyles), !w) return false;
          var n3 = lt();
          if (!a3) {
            var r3 = Object.keys(t2);
            r3.splice(r3.indexOf(e), 1), n3.removeClass(r3.join(" "));
          }
          "object" == Rt(t2[e]) ? (n3.removeAttr("style"), n3.css(t2[e].style)) : n3.toggleClass(e), Ae(w);
        }, showAltPopup: We, showSizePopup: Ve, setAlt: function vt(e) {
          if (w) {
            var t2 = R.popups.get("image.alt");
            w.attr("alt", e || t2.find("input").val() || ""), t2.find("input:focus").blur(), Ae(w);
          }
        }, setSize: function bt(e, t2) {
          if (w) {
            var a3 = R.popups.get("image.size");
            e = e || a3.find('input[name="width"]').val() || "", t2 = t2 || a3.find('input[name="height"]').val() || "";
            var n3 = /^[\d]+((px)|%)*$/g;
            w.removeAttr("width").removeAttr("height"), e.match(n3) ? w.css("width", e) : w.css("width", ""), t2.match(n3) ? w.css("height", t2) : w.css("height", ""), ct() && (w.parents(".fr-img-caption").removeAttr("width").removeAttr("height"), e.match(n3) ? w.parents(".fr-img-caption").css("width", e) : w.parents(".fr-img-caption").css("width", ""), t2.match(n3) ? w.parents(".fr-img-caption").css("height", t2) : w.parents(".fr-img-caption").css("height", "")), a3 && a3.find("input:focus").blur(), Ae(w);
          }
        }, toggleCaption: function Et() {
          var e;
          if (w && !ct()) {
            (e = w).parent().is("a") && (e = w.parent());
            var t2, a3, n3 = w.parents("ul") && 0 < w.parents("ul").length ? w.parents("ul") : w.parents("ol") && 0 < w.parents("ol").length ? w.parents("ol") : [];
            if (0 < n3.length) {
              var r3 = n3.find("li").length, i3 = w.parents("li"), o3 = document.createElement("li");
              r3 - 1 === i3.index() && (n3.append(o3), o3.innerHTML = "&nbsp;");
            }
            e.attr("style") && (a3 = -1 < (t2 = e.attr("style").split(":")).indexOf("width") ? t2[t2.indexOf("width") + 1].replace(";", "") : "");
            var s3 = R.opts.imageResizeWithPercent ? (-1 < a3.indexOf("px") ? null : a3) || "100%" : w.width() + "px";
            e.wrap('<div class="fr-img-space-wrap"><span ' + (R.browser.mozilla ? "" : 'contenteditable="false"') + 'class="fr-img-caption ' + w.attr("class") + '" style="' + (R.opts.useClasses ? "" : e.attr("style")) + '" draggable="false"></span><p class="fr-img-space-wrap2">&nbsp;</p></div>'), e.wrap('<span class="fr-img-wrap"></span>'), w.after('<span class="fr-inner"'.concat(R.browser.mozilla ? "" : ' contenteditable="true"', ">").concat(St.START_MARKER).concat(R.language.translate("Image Caption")).concat(St.END_MARKER, "</span>")), w.removeAttr("class").removeAttr("style").removeAttr("width"), w.parents(".fr-img-caption").css("width", s3), at(true), R.selection.restore();
          } else e = lt(), w.insertAfter(e), w.attr("class", e.attr("class").replace("fr-img-caption", "")).attr("style", e.attr("style")), e.remove(), Ae(w);
        }, refreshEmbedButton: function _t(e) {
          var t2 = R.popups.get("filesManager.insert");
          t2 && t2.find(".fr-files-embed-layer").hasClass("fr-active") && e.addClass("fr-active").attr("aria-pressed", true);
        }, insertEmbed: function wt(e) {
          void 0 === e && (e = R.popups.get("filesManager.insert").find(".fr-files-embed-layer textarea").val() || ""), 0 === e.length || !St.VIDEO_EMBED_REGEX.test(e) && !St.IMAGE_EMBED_REGEX.test(e) ? (te(R.language.translate("Something went wrong. Please try again.")), St.VIDEO_EMBED_REGEX.test(e) && R.events.trigger("video.codeError", [e])) : function s3(e2, t2) {
            var a3, n3;
            St.VIDEO_EMBED_REGEX.test(e2) ? (a3 = "video", n3 = R.opts.videoSplitHTML) : St.IMAGE_EMBED_REGEX.test(e2) && (a3 = "image", n3 = R.opts.imageSplitHTML), R.events.focus(true), R.selection.restore();
            var r3 = false;
            w && (qe(), r3 = true), R.html.insert('<span id="fr-inserted-file" contenteditable="true" draggable="true" class="fr-'.concat(a3, ' fr-jiv fr-deletable">').concat(e2, "</span>"), false, n3), R.popups.hide("filesManager.insert");
            var i3 = R.$el.find(".fr-jiv");
            i3.removeClass("fr-jiv"), "video" == a3 && (i3.toggleClass("fr-rv", R.opts.videoResponsive), function o3(e3, t3, a4) {
              !R.opts.htmlUntouched && R.opts.useClasses ? (e3.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"), e3.addClass("fr-fv".concat(a4[0], " fr-dv").concat(t3[0]))) : "inline" == t3 ? (e3.css({ display: "inline-block" }), "center" == a4 ? e3.css({ "float": "none" }) : "left" == a4 ? e3.css({ "float": "left" }) : e3.css({ "float": "right" })) : (e3.css({ display: "block", clear: "both" }), "left" == a4 ? e3.css({ textAlign: "left" }) : "right" == a4 ? e3.css({ textAlign: "right" }) : e3.css({ textAlign: "center" }));
            }(i3, R.opts.videoDefaultDisplay, R.opts.videoDefaultAlign), i3.toggleClass("fr-draggable", R.opts.videoMove), R.events.trigger(r3 ? "video.replaced" : "video.inserted", [i3])), "image" == a3 && (ot(i3, R.opts.imageDefaultDisplay, R.opts.imageDefaultAlign), i3.find("img").removeClass("fr-dii"), i3.find("img").addClass("fr-dib"), i3.toggleClass("fr-draggable", R.opts.imageMove), R.events.trigger(r3 ? "image.replaced" : "image.inserted", [i3])), t2 && (f2 = i3, R.selection.clear(), R.toolbar.disable(), R.video._editVideo(f2));
          }(e);
        }, hasCaption: ct, exitEdit: at, edit: Ae, cancelFileInsert: function yt() {
          this.file_manager_dialog_open = false, A.forEach(function(e2, t2) {
            4 != e2.readyState && (e2.abort(), X(t2));
          });
          var e = R.popups.get("filesManager.insert");
          e.find(".fr-progress-bar").removeClass("fr-display-block").addClass("fr-none"), e.find('.fr-command[data-cmd="filesUpload"]').removeClass("fr-disabled"), e.find('.fr-command[data-cmd="filesByURL"]').removeClass("fr-disabled"), e.find('.fr-command[data-cmd="filesEmbed"]').removeClass("fr-disabled"), i2 = 0, A = /* @__PURE__ */ new Map(), C = /* @__PURE__ */ new Map(), Z(), R.popups.hide("filesManager.insert");
        }, minimizePopup: function At(e) {
          this.file_manager_dialog_open = false, R.popups.hide("filesManager.insert"), Z();
        }, editImage: Se, saveImage: function Ct(e) {
          var t2 = O2.get(o2);
          t2.link = window.URL.createObjectURL(new Blob(e, { type: "image/png" })), O2.set(o2, t2);
        }, _showErrorMessage: te, _showFileErrorMessage: ae, getFileThumbnail: be, deleteFile: X, checkAutoplay: Me, checkInsertAllState: q, _disableInsertCheckbox: Y, _getFileType: Re, isChildWindowOpen: function Tt() {
          return p2;
        }, setChildWindowState: function kt(e) {
          e !== void 0 && (p2 = e);
        }, resetAllFilesCheckbox: Z };
      }, St.DefineIcon("insertFiles", { NAME: "image", SVG_KEY: "fileManager" }), St.RegisterShortcut(St.KEYCODE.P, "insertFiles", null, "P"), St.RegisterCommand("insertFiles", { title: "Insert Files", undo: false, focus: true, refreshAfterCallback: false, popup: true, callback: function() {
        this.popups.isVisible("filesManager.insert") ? (this.$el.find(".fr-marker").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide("filesManager.insert")) : this.filesManager.showInsertPopup();
      }, plugin: "filesManager" }), St.DefineIcon("cloudIcon", { NAME: "cloudIcon", SVG_KEY: "uploadFiles" }), St.DefineIcon("filesUpload", { NAME: "uploadFiles", SVG_KEY: "uploadFiles" }), St.RegisterCommand("filesUpload", { title: "Upload Files", undo: false, focus: false, toggle: true, callback: function() {
        this.filesManager.showLayer("files-upload");
      }, refresh: function(e) {
        this.filesManager.refreshUploadButton(e);
      } }), St.DefineIcon("filesByURL", { NAME: "link", SVG_KEY: "insertLink" }), St.RegisterCommand("filesByURL", { title: "By URL", undo: false, focus: false, toggle: true, callback: function() {
        this.filesManager.showLayer("files-by-url");
      }, refresh: function(e) {
        this.filesManager.refreshByURLButton(e);
      } }), St.DefineIcon("filesEmbed", { NAME: "code", SVG_KEY: "codeView" }), St.RegisterCommand("filesEmbed", { title: "Embedded Code", undo: false, focus: false, toggle: true, callback: function() {
        this.filesManager.showLayer("files-embed");
      }, refresh: function(e) {
        this.filesManager.refreshEmbedButton(e);
      } }), St.DefineIcon("insertAll", { NAME: "insertAll", SVG_KEY: "fileInsert" }), St.RegisterCommand("insertAll", { title: "Insert", undo: false, focus: false, toggle: true, disabled: true, callback: function() {
        this.filesManager.insertAllFiles();
      } }), St.DefineIcon("deleteAll", { NAME: "remove", SVG_KEY: "remove" }), St.RegisterCommand("deleteAll", { title: "Delete", undo: false, focus: false, toggle: true, disabled: true, callback: function() {
        this.filesManager.deleteAllFiles();
      } }), St.DefineIcon("cancel", { NAME: "cancel", SVG_KEY: "cancel" }), St.RegisterCommand("cancel", { title: "Cancel", undo: false, focus: false, toggle: true, callback: function() {
        this.filesManager.cancelFileInsert();
      }, refresh: function(e) {
      } }), St.DefineIcon("minimize", { NAME: "minimize", SVG_KEY: "minimize" }), St.RegisterCommand("minimize", { title: "Minimize", undo: false, focus: false, toggle: true, callback: function() {
        this.filesManager.minimizePopup("image.insert", true);
      }, refresh: function(e) {
        this.filesManager.refreshEmbedButton(e);
      } }), St.RegisterCommand("filesInsertByURL", { title: "Insert Image", undo: true, refreshAfterCallback: false, callback: function() {
        this.filesManager.insertByURL();
      }, refresh: function(e) {
        e.text(this.language.translate("Add"));
      } }), St.RegisterCommand("imageInsertByUpload", { title: "Insert", undo: true, refreshAfterCallback: false, callback: function(e, t) {
      }, refresh: function(e) {
      } }), St.RegisterCommand("viewImage", { title: "View Image", undo: true, refreshAfterCallback: false, callback: function(e, t) {
      }, refresh: function(e) {
      } }), St.RegisterCommand("insertEmbed", { undo: true, focus: true, callback: function() {
        this.filesManager.insertEmbed(), this.popups.get("filesManager.insert").find("textarea")[0].value = "", this.popups.get("filesManager.insert").find("textarea").removeClass("fr-not-empty");
      } }), St.RegisterCommand("filesDismissError", { title: "OK", undo: false, callback: function() {
        this.filesManager.hideProgressBar(true);
      } }), St.PLUGINS.cryptoJSPlugin = function(e) {
        var t, d2, a2, n2, r2, i2, o2, f2, s2, l2, c2, p2, u2, g2, h2, v2, m2, b2, E2, _, w, y2, A, C, T, k, S, R, L, x, I2, O2, F, M, N, D, P, B, U, H, $, z, W, K, G, V, Y, j, q, X, Z, Q, J, ee, te, ae, ne, re, ie, oe, se, le, ce, de, fe, pe, ue, ge, he, me, ve = ve || function(d3, e2) {
          var t2;
          if ("undefined" != typeof window && window.crypto && (t2 = window.crypto), !t2 && "undefined" != typeof window && window.msCrypto && (t2 = window.msCrypto), !t2 && "undefined" != typeof global && global.crypto && (t2 = global.crypto), !t2 && "function" == typeof __require) try {
            t2 = require_crypto();
          } catch (h3) {
          }
          var n3 = function n4() {
            if (t2) {
              if ("function" == typeof t2.getRandomValues) try {
                return t2.getRandomValues(new Uint32Array(1))[0];
              } catch (h3) {
              }
              if ("function" == typeof t2.randomBytes) try {
                return t2.randomBytes(4).readInt32LE();
              } catch (h3) {
              }
            }
            throw new Error("Native crypto module could not be used to get secure random number.");
          }, a3 = Object.create || /* @__PURE__ */ function() {
            function a4() {
            }
            return function(e3) {
              var t3;
              return a4.prototype = e3, t3 = new a4(), a4.prototype = null, t3;
            };
          }(), r3 = {}, i3 = r3.lib = {}, o3 = i3.Base = { extend: function(e3) {
            var t3 = a3(this);
            return e3 && t3.mixIn(e3), t3.hasOwnProperty("init") && this.init !== t3.init || (t3.init = function() {
              t3.$super.init.apply(this, arguments);
            }), (t3.init.prototype = t3).$super = this, t3;
          }, create: function() {
            var e3 = this.extend();
            return e3.init.apply(e3, arguments), e3;
          }, init: function() {
          }, mixIn: function(e3) {
            for (var t3 in e3) e3.hasOwnProperty(t3) && (this[t3] = e3[t3]);
            e3.hasOwnProperty("toString") && (this.toString = e3.toString);
          }, clone: function() {
            return this.init.prototype.extend(this);
          } }, f3 = i3.WordArray = o3.extend({ init: function(e3, t3) {
            e3 = this.words = e3 || [], this.sigBytes = null != t3 ? t3 : 4 * e3.length;
          }, toString: function(e3) {
            return (e3 || l3).stringify(this);
          }, concat: function(e3) {
            var t3 = this.words, a4 = e3.words, n4 = this.sigBytes, r4 = e3.sigBytes;
            if (this.clamp(), n4 % 4) for (var i4 = 0; i4 < r4; i4++) {
              var o4 = a4[i4 >>> 2] >>> 24 - i4 % 4 * 8 & 255;
              t3[n4 + i4 >>> 2] |= o4 << 24 - (n4 + i4) % 4 * 8;
            }
            else for (i4 = 0; i4 < r4; i4 += 4) t3[n4 + i4 >>> 2] = a4[i4 >>> 2];
            return this.sigBytes += r4, this;
          }, clamp: function() {
            var e3 = this.words, t3 = this.sigBytes;
            e3[t3 >>> 2] &= 4294967295 << 32 - t3 % 4 * 8, e3.length = d3.ceil(t3 / 4);
          }, clone: function e3() {
            var e4 = o3.clone.call(this);
            return e4.words = this.words.slice(0), e4;
          }, random: function(e3) {
            for (var t3 = [], a4 = 0; a4 < e3; a4 += 4) t3.push(n3());
            return new f3.init(t3, e3);
          } }), s3 = r3.enc = {}, l3 = s3.Hex = { stringify: function(e3) {
            for (var t3 = e3.words, a4 = e3.sigBytes, n4 = [], r4 = 0; r4 < a4; r4++) {
              var i4 = t3[r4 >>> 2] >>> 24 - r4 % 4 * 8 & 255;
              n4.push((i4 >>> 4).toString(16)), n4.push((15 & i4).toString(16));
            }
            return n4.join("");
          }, parse: function(e3) {
            for (var t3 = e3.length, a4 = [], n4 = 0; n4 < t3; n4 += 2) a4[n4 >>> 3] |= parseInt(e3.substr(n4, 2), 16) << 24 - n4 % 8 * 4;
            return new f3.init(a4, t3 / 2);
          } }, c3 = s3.Latin1 = { stringify: function(e3) {
            for (var t3 = e3.words, a4 = e3.sigBytes, n4 = [], r4 = 0; r4 < a4; r4++) {
              var i4 = t3[r4 >>> 2] >>> 24 - r4 % 4 * 8 & 255;
              n4.push(String.fromCharCode(i4));
            }
            return n4.join("");
          }, parse: function(e3) {
            for (var t3 = e3.length, a4 = [], n4 = 0; n4 < t3; n4++) a4[n4 >>> 2] |= (255 & e3.charCodeAt(n4)) << 24 - n4 % 4 * 8;
            return new f3.init(a4, t3);
          } }, p3 = s3.Utf8 = { stringify: function(e3) {
            try {
              return decodeURIComponent(escape(c3.stringify(e3)));
            } catch (t3) {
              throw new Error("Malformed UTF-8 data");
            }
          }, parse: function(e3) {
            return c3.parse(unescape(encodeURIComponent(e3)));
          } }, u3 = i3.BufferedBlockAlgorithm = o3.extend({ reset: function() {
            this._data = new f3.init(), this._nDataBytes = 0;
          }, _append: function(e3) {
            "string" == typeof e3 && (e3 = p3.parse(e3)), this._data.concat(e3), this._nDataBytes += e3.sigBytes;
          }, _process: function(e3) {
            var t3, a4 = this._data, n4 = a4.words, r4 = a4.sigBytes, i4 = this.blockSize, o4 = r4 / (4 * i4), s4 = (o4 = e3 ? d3.ceil(o4) : d3.max((0 | o4) - this._minBufferSize, 0)) * i4, l4 = d3.min(4 * s4, r4);
            if (s4) {
              for (var c4 = 0; c4 < s4; c4 += i4) this._doProcessBlock(n4, c4);
              t3 = n4.splice(0, s4), a4.sigBytes -= l4;
            }
            return new f3.init(t3, l4);
          }, clone: function e3() {
            var e4 = o3.clone.call(this);
            return e4._data = this._data.clone(), e4;
          }, _minBufferSize: 0 }), g3 = (i3.Hasher = u3.extend({ cfg: o3.extend(), init: function(e3) {
            this.cfg = this.cfg.extend(e3), this.reset();
          }, reset: function() {
            u3.reset.call(this), this._doReset();
          }, update: function(e3) {
            return this._append(e3), this._process(), this;
          }, finalize: function(e3) {
            return e3 && this._append(e3), this._doFinalize();
          }, blockSize: 16, _createHelper: function(a4) {
            return function(e3, t3) {
              return new a4.init(t3).finalize(e3);
            };
          }, _createHmacHelper: function(a4) {
            return function(e3, t3) {
              return new g3.HMAC.init(a4, t3).finalize(e3);
            };
          } }), r3.algo = {});
          return r3;
        }(Math);
        return d2 = (t = ve).lib.WordArray, t.enc.Base64 = { stringify: function(e2) {
          var t2 = e2.words, a3 = e2.sigBytes, n3 = this._map;
          e2.clamp();
          for (var r3 = [], i3 = 0; i3 < a3; i3 += 3) for (var o3 = (t2[i3 >>> 2] >>> 24 - i3 % 4 * 8 & 255) << 16 | (t2[i3 + 1 >>> 2] >>> 24 - (i3 + 1) % 4 * 8 & 255) << 8 | t2[i3 + 2 >>> 2] >>> 24 - (i3 + 2) % 4 * 8 & 255, s3 = 0; s3 < 4 && i3 + 0.75 * s3 < a3; s3++) r3.push(n3.charAt(o3 >>> 6 * (3 - s3) & 63));
          var l3 = n3.charAt(64);
          if (l3) for (; r3.length % 4; ) r3.push(l3);
          return r3.join("");
        }, parse: function(e2) {
          var t2 = e2.length, a3 = this._map, n3 = this._reverseMap;
          if (!n3) {
            n3 = this._reverseMap = [];
            for (var r3 = 0; r3 < a3.length; r3++) n3[a3.charCodeAt(r3)] = r3;
          }
          var i3 = a3.charAt(64);
          if (i3) {
            var o3 = e2.indexOf(i3);
            -1 !== o3 && (t2 = o3);
          }
          return function c3(e3, t3, a4) {
            for (var n4 = [], r4 = 0, i4 = 0; i4 < t3; i4++) if (i4 % 4) {
              var o4 = a4[e3.charCodeAt(i4 - 1)] << i4 % 4 * 2, s3 = a4[e3.charCodeAt(i4)] >>> 6 - i4 % 4 * 2, l3 = o4 | s3;
              n4[r4 >>> 2] |= l3 << 24 - r4 % 4 * 8, r4++;
            }
            return d2.create(n4, r4);
          }(e2, t2, n3);
        }, _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=" }, function(d3) {
          var e2 = ve, t2 = e2.lib, a3 = t2.WordArray, n3 = t2.Hasher, r3 = e2.algo, k2 = [];
          !function() {
            for (var e3 = 0; e3 < 64; e3++) k2[e3] = 4294967296 * d3.abs(d3.sin(e3 + 1)) | 0;
          }();
          var i3 = r3.MD5 = n3.extend({ _doReset: function() {
            this._hash = new a3.init([1732584193, 4023233417, 2562383102, 271733878]);
          }, _doProcessBlock: function(e3, t3) {
            for (var a4 = 0; a4 < 16; a4++) {
              var n4 = t3 + a4, r4 = e3[n4];
              e3[n4] = 16711935 & (r4 << 8 | r4 >>> 24) | 4278255360 & (r4 << 24 | r4 >>> 8);
            }
            var i4 = this._hash.words, o3 = e3[t3 + 0], s3 = e3[t3 + 1], l3 = e3[t3 + 2], c3 = e3[t3 + 3], d4 = e3[t3 + 4], f3 = e3[t3 + 5], p3 = e3[t3 + 6], u3 = e3[t3 + 7], g3 = e3[t3 + 8], h3 = e3[t3 + 9], m3 = e3[t3 + 10], v3 = e3[t3 + 11], b3 = e3[t3 + 12], E3 = e3[t3 + 13], _2 = e3[t3 + 14], w2 = e3[t3 + 15], y3 = i4[0], A2 = i4[1], C2 = i4[2], T2 = i4[3];
            A2 = x2(A2 = x2(A2 = x2(A2 = x2(A2 = L2(A2 = L2(A2 = L2(A2 = L2(A2 = R2(A2 = R2(A2 = R2(A2 = R2(A2 = S2(A2 = S2(A2 = S2(A2 = S2(A2, C2 = S2(C2, T2 = S2(T2, y3 = S2(y3, A2, C2, T2, o3, 7, k2[0]), A2, C2, s3, 12, k2[1]), y3, A2, l3, 17, k2[2]), T2, y3, c3, 22, k2[3]), C2 = S2(C2, T2 = S2(T2, y3 = S2(y3, A2, C2, T2, d4, 7, k2[4]), A2, C2, f3, 12, k2[5]), y3, A2, p3, 17, k2[6]), T2, y3, u3, 22, k2[7]), C2 = S2(C2, T2 = S2(T2, y3 = S2(y3, A2, C2, T2, g3, 7, k2[8]), A2, C2, h3, 12, k2[9]), y3, A2, m3, 17, k2[10]), T2, y3, v3, 22, k2[11]), C2 = S2(C2, T2 = S2(T2, y3 = S2(y3, A2, C2, T2, b3, 7, k2[12]), A2, C2, E3, 12, k2[13]), y3, A2, _2, 17, k2[14]), T2, y3, w2, 22, k2[15]), C2 = R2(C2, T2 = R2(T2, y3 = R2(y3, A2, C2, T2, s3, 5, k2[16]), A2, C2, p3, 9, k2[17]), y3, A2, v3, 14, k2[18]), T2, y3, o3, 20, k2[19]), C2 = R2(C2, T2 = R2(T2, y3 = R2(y3, A2, C2, T2, f3, 5, k2[20]), A2, C2, m3, 9, k2[21]), y3, A2, w2, 14, k2[22]), T2, y3, d4, 20, k2[23]), C2 = R2(C2, T2 = R2(T2, y3 = R2(y3, A2, C2, T2, h3, 5, k2[24]), A2, C2, _2, 9, k2[25]), y3, A2, c3, 14, k2[26]), T2, y3, g3, 20, k2[27]), C2 = R2(C2, T2 = R2(T2, y3 = R2(y3, A2, C2, T2, E3, 5, k2[28]), A2, C2, l3, 9, k2[29]), y3, A2, u3, 14, k2[30]), T2, y3, b3, 20, k2[31]), C2 = L2(C2, T2 = L2(T2, y3 = L2(y3, A2, C2, T2, f3, 4, k2[32]), A2, C2, g3, 11, k2[33]), y3, A2, v3, 16, k2[34]), T2, y3, _2, 23, k2[35]), C2 = L2(C2, T2 = L2(T2, y3 = L2(y3, A2, C2, T2, s3, 4, k2[36]), A2, C2, d4, 11, k2[37]), y3, A2, u3, 16, k2[38]), T2, y3, m3, 23, k2[39]), C2 = L2(C2, T2 = L2(T2, y3 = L2(y3, A2, C2, T2, E3, 4, k2[40]), A2, C2, o3, 11, k2[41]), y3, A2, c3, 16, k2[42]), T2, y3, p3, 23, k2[43]), C2 = L2(C2, T2 = L2(T2, y3 = L2(y3, A2, C2, T2, h3, 4, k2[44]), A2, C2, b3, 11, k2[45]), y3, A2, w2, 16, k2[46]), T2, y3, l3, 23, k2[47]), C2 = x2(C2, T2 = x2(T2, y3 = x2(y3, A2, C2, T2, o3, 6, k2[48]), A2, C2, u3, 10, k2[49]), y3, A2, _2, 15, k2[50]), T2, y3, f3, 21, k2[51]), C2 = x2(C2, T2 = x2(T2, y3 = x2(y3, A2, C2, T2, b3, 6, k2[52]), A2, C2, c3, 10, k2[53]), y3, A2, m3, 15, k2[54]), T2, y3, s3, 21, k2[55]), C2 = x2(C2, T2 = x2(T2, y3 = x2(y3, A2, C2, T2, g3, 6, k2[56]), A2, C2, w2, 10, k2[57]), y3, A2, p3, 15, k2[58]), T2, y3, E3, 21, k2[59]), C2 = x2(C2, T2 = x2(T2, y3 = x2(y3, A2, C2, T2, d4, 6, k2[60]), A2, C2, v3, 10, k2[61]), y3, A2, l3, 15, k2[62]), T2, y3, h3, 21, k2[63]), i4[0] = i4[0] + y3 | 0, i4[1] = i4[1] + A2 | 0, i4[2] = i4[2] + C2 | 0, i4[3] = i4[3] + T2 | 0;
          }, _doFinalize: function() {
            var e3 = this._data, t3 = e3.words, a4 = 8 * this._nDataBytes, n4 = 8 * e3.sigBytes;
            t3[n4 >>> 5] |= 128 << 24 - n4 % 32;
            var r4 = d3.floor(a4 / 4294967296), i4 = a4;
            t3[15 + (n4 + 64 >>> 9 << 4)] = 16711935 & (r4 << 8 | r4 >>> 24) | 4278255360 & (r4 << 24 | r4 >>> 8), t3[14 + (n4 + 64 >>> 9 << 4)] = 16711935 & (i4 << 8 | i4 >>> 24) | 4278255360 & (i4 << 24 | i4 >>> 8), e3.sigBytes = 4 * (t3.length + 1), this._process();
            for (var o3 = this._hash, s3 = o3.words, l3 = 0; l3 < 4; l3++) {
              var c3 = s3[l3];
              s3[l3] = 16711935 & (c3 << 8 | c3 >>> 24) | 4278255360 & (c3 << 24 | c3 >>> 8);
            }
            return o3;
          }, clone: function e3() {
            var e4 = n3.clone.call(this);
            return e4._hash = this._hash.clone(), e4;
          } });
          function S2(e3, t3, a4, n4, r4, i4, o3) {
            var s3 = e3 + (t3 & a4 | ~t3 & n4) + r4 + o3;
            return (s3 << i4 | s3 >>> 32 - i4) + t3;
          }
          function R2(e3, t3, a4, n4, r4, i4, o3) {
            var s3 = e3 + (t3 & n4 | a4 & ~n4) + r4 + o3;
            return (s3 << i4 | s3 >>> 32 - i4) + t3;
          }
          function L2(e3, t3, a4, n4, r4, i4, o3) {
            var s3 = e3 + (t3 ^ a4 ^ n4) + r4 + o3;
            return (s3 << i4 | s3 >>> 32 - i4) + t3;
          }
          function x2(e3, t3, a4, n4, r4, i4, o3) {
            var s3 = e3 + (a4 ^ (t3 | ~n4)) + r4 + o3;
            return (s3 << i4 | s3 >>> 32 - i4) + t3;
          }
          e2.MD5 = n3._createHelper(i3), e2.HmacMD5 = n3._createHmacHelper(i3);
        }(Math), n2 = (a2 = ve).lib, r2 = n2.WordArray, i2 = n2.Hasher, o2 = a2.algo, f2 = [], s2 = o2.SHA1 = i2.extend({ _doReset: function() {
          this._hash = new r2.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);
        }, _doProcessBlock: function(e2, t2) {
          for (var a3 = this._hash.words, n3 = a3[0], r3 = a3[1], i3 = a3[2], o3 = a3[3], s3 = a3[4], l3 = 0; l3 < 80; l3++) {
            if (l3 < 16) f2[l3] = 0 | e2[t2 + l3];
            else {
              var c3 = f2[l3 - 3] ^ f2[l3 - 8] ^ f2[l3 - 14] ^ f2[l3 - 16];
              f2[l3] = c3 << 1 | c3 >>> 31;
            }
            var d3 = (n3 << 5 | n3 >>> 27) + s3 + f2[l3];
            d3 += l3 < 20 ? 1518500249 + (r3 & i3 | ~r3 & o3) : l3 < 40 ? 1859775393 + (r3 ^ i3 ^ o3) : l3 < 60 ? (r3 & i3 | r3 & o3 | i3 & o3) - 1894007588 : (r3 ^ i3 ^ o3) - 899497514, s3 = o3, o3 = i3, i3 = r3 << 30 | r3 >>> 2, r3 = n3, n3 = d3;
          }
          a3[0] = a3[0] + n3 | 0, a3[1] = a3[1] + r3 | 0, a3[2] = a3[2] + i3 | 0, a3[3] = a3[3] + o3 | 0, a3[4] = a3[4] + s3 | 0;
        }, _doFinalize: function() {
          var e2 = this._data, t2 = e2.words, a3 = 8 * this._nDataBytes, n3 = 8 * e2.sigBytes;
          return t2[n3 >>> 5] |= 128 << 24 - n3 % 32, t2[14 + (n3 + 64 >>> 9 << 4)] = Math.floor(a3 / 4294967296), t2[15 + (n3 + 64 >>> 9 << 4)] = a3, e2.sigBytes = 4 * t2.length, this._process(), this._hash;
        }, clone: function e2() {
          var e3 = i2.clone.call(this);
          return e3._hash = this._hash.clone(), e3;
        } }), a2.SHA1 = i2._createHelper(s2), a2.HmacSHA1 = i2._createHmacHelper(s2), function(r3) {
          var e2 = ve, t2 = e2.lib, a3 = t2.WordArray, n3 = t2.Hasher, i3 = e2.algo, o3 = [], E3 = [];
          !function() {
            function e3(e4) {
              for (var t4 = r3.sqrt(e4), a5 = 2; a5 <= t4; a5++) if (!(e4 % a5)) return false;
              return true;
            }
            function t3(e4) {
              return 4294967296 * (e4 - (0 | e4)) | 0;
            }
            for (var a4 = 2, n4 = 0; n4 < 64; ) e3(a4) && (n4 < 8 && (o3[n4] = t3(r3.pow(a4, 0.5))), E3[n4] = t3(r3.pow(a4, 1 / 3)), n4++), a4++;
          }();
          var _2 = [], s3 = i3.SHA256 = n3.extend({ _doReset: function() {
            this._hash = new a3.init(o3.slice(0));
          }, _doProcessBlock: function(e3, t3) {
            for (var a4 = this._hash.words, n4 = a4[0], r4 = a4[1], i4 = a4[2], o4 = a4[3], s4 = a4[4], l3 = a4[5], c3 = a4[6], d3 = a4[7], f3 = 0; f3 < 64; f3++) {
              if (f3 < 16) _2[f3] = 0 | e3[t3 + f3];
              else {
                var p3 = _2[f3 - 15], u3 = (p3 << 25 | p3 >>> 7) ^ (p3 << 14 | p3 >>> 18) ^ p3 >>> 3, g3 = _2[f3 - 2], h3 = (g3 << 15 | g3 >>> 17) ^ (g3 << 13 | g3 >>> 19) ^ g3 >>> 10;
                _2[f3] = u3 + _2[f3 - 7] + h3 + _2[f3 - 16];
              }
              var m3 = n4 & r4 ^ n4 & i4 ^ r4 & i4, v3 = (n4 << 30 | n4 >>> 2) ^ (n4 << 19 | n4 >>> 13) ^ (n4 << 10 | n4 >>> 22), b3 = d3 + ((s4 << 26 | s4 >>> 6) ^ (s4 << 21 | s4 >>> 11) ^ (s4 << 7 | s4 >>> 25)) + (s4 & l3 ^ ~s4 & c3) + E3[f3] + _2[f3];
              d3 = c3, c3 = l3, l3 = s4, s4 = o4 + b3 | 0, o4 = i4, i4 = r4, r4 = n4, n4 = b3 + (v3 + m3) | 0;
            }
            a4[0] = a4[0] + n4 | 0, a4[1] = a4[1] + r4 | 0, a4[2] = a4[2] + i4 | 0, a4[3] = a4[3] + o4 | 0, a4[4] = a4[4] + s4 | 0, a4[5] = a4[5] + l3 | 0, a4[6] = a4[6] + c3 | 0, a4[7] = a4[7] + d3 | 0;
          }, _doFinalize: function() {
            var e3 = this._data, t3 = e3.words, a4 = 8 * this._nDataBytes, n4 = 8 * e3.sigBytes;
            return t3[n4 >>> 5] |= 128 << 24 - n4 % 32, t3[14 + (n4 + 64 >>> 9 << 4)] = r3.floor(a4 / 4294967296), t3[15 + (n4 + 64 >>> 9 << 4)] = a4, e3.sigBytes = 4 * t3.length, this._process(), this._hash;
          }, clone: function e3() {
            var e4 = n3.clone.call(this);
            return e4._hash = this._hash.clone(), e4;
          } });
          e2.SHA256 = n3._createHelper(s3), e2.HmacSHA256 = n3._createHmacHelper(s3);
        }(Math), function() {
          var e2 = ve, r3 = e2.lib.WordArray, t2 = e2.enc;
          t2.Utf16 = t2.Utf16BE = { stringify: function(e3) {
            for (var t3 = e3.words, a3 = e3.sigBytes, n3 = [], r4 = 0; r4 < a3; r4 += 2) {
              var i3 = t3[r4 >>> 2] >>> 16 - r4 % 4 * 8 & 65535;
              n3.push(String.fromCharCode(i3));
            }
            return n3.join("");
          }, parse: function(e3) {
            for (var t3 = e3.length, a3 = [], n3 = 0; n3 < t3; n3++) a3[n3 >>> 1] |= e3.charCodeAt(n3) << 16 - n3 % 2 * 16;
            return r3.create(a3, 2 * t3);
          } };
          function o3(e3) {
            return e3 << 8 & 4278255360 | e3 >>> 8 & 16711935;
          }
          t2.Utf16LE = { stringify: function(e3) {
            for (var t3 = e3.words, a3 = e3.sigBytes, n3 = [], r4 = 0; r4 < a3; r4 += 2) {
              var i3 = o3(t3[r4 >>> 2] >>> 16 - r4 % 4 * 8 & 65535);
              n3.push(String.fromCharCode(i3));
            }
            return n3.join("");
          }, parse: function(e3) {
            for (var t3 = e3.length, a3 = [], n3 = 0; n3 < t3; n3++) a3[n3 >>> 1] |= o3(e3.charCodeAt(n3) << 16 - n3 % 2 * 16);
            return r3.create(a3, 2 * t3);
          } };
        }(), function() {
          if ("function" == typeof ArrayBuffer) {
            var e2 = ve.lib.WordArray, r3 = e2.init;
            (e2.init = function(e3) {
              if (e3 instanceof ArrayBuffer && (e3 = new Uint8Array(e3)), (e3 instanceof Int8Array || "undefined" != typeof Uint8ClampedArray && e3 instanceof Uint8ClampedArray || e3 instanceof Int16Array || e3 instanceof Uint16Array || e3 instanceof Int32Array || e3 instanceof Uint32Array || e3 instanceof Float32Array || e3 instanceof Float64Array) && (e3 = new Uint8Array(e3.buffer, e3.byteOffset, e3.byteLength)), e3 instanceof Uint8Array) {
                for (var t2 = e3.byteLength, a3 = [], n3 = 0; n3 < t2; n3++) a3[n3 >>> 2] |= e3[n3] << 24 - n3 % 4 * 8;
                r3.call(this, a3, t2);
              } else r3.apply(this, arguments);
            }).prototype = e2;
          }
        }(), function(e2) {
          var t2 = ve, a3 = t2.lib, n3 = a3.WordArray, r3 = a3.Hasher, i3 = t2.algo, A2 = n3.create([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13]), C2 = n3.create([5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11]), T2 = n3.create([11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6]), k2 = n3.create([8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11]), S2 = n3.create([0, 1518500249, 1859775393, 2400959708, 2840853838]), R2 = n3.create([1352829926, 1548603684, 1836072691, 2053994217, 0]), o3 = i3.RIPEMD160 = r3.extend({ _doReset: function() {
            this._hash = n3.create([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);
          }, _doProcessBlock: function(e3, t3) {
            for (var a4 = 0; a4 < 16; a4++) {
              var n4 = t3 + a4, r4 = e3[n4];
              e3[n4] = 16711935 & (r4 << 8 | r4 >>> 24) | 4278255360 & (r4 << 24 | r4 >>> 8);
            }
            var i4, o4, s3, l3, c3, d3, f3, p3, u3, g3, h3, m3 = this._hash.words, v3 = S2.words, b3 = R2.words, E3 = A2.words, _2 = C2.words, w2 = T2.words, y3 = k2.words;
            d3 = i4 = m3[0], f3 = o4 = m3[1], p3 = s3 = m3[2], u3 = l3 = m3[3], g3 = c3 = m3[4];
            for (a4 = 0; a4 < 80; a4 += 1) h3 = i4 + e3[t3 + E3[a4]] | 0, h3 += a4 < 16 ? L2(o4, s3, l3) + v3[0] : a4 < 32 ? x2(o4, s3, l3) + v3[1] : a4 < 48 ? I3(o4, s3, l3) + v3[2] : a4 < 64 ? O3(o4, s3, l3) + v3[3] : F2(o4, s3, l3) + v3[4], h3 = (h3 = M2(h3 |= 0, w2[a4])) + c3 | 0, i4 = c3, c3 = l3, l3 = M2(s3, 10), s3 = o4, o4 = h3, h3 = d3 + e3[t3 + _2[a4]] | 0, h3 += a4 < 16 ? F2(f3, p3, u3) + b3[0] : a4 < 32 ? O3(f3, p3, u3) + b3[1] : a4 < 48 ? I3(f3, p3, u3) + b3[2] : a4 < 64 ? x2(f3, p3, u3) + b3[3] : L2(f3, p3, u3) + b3[4], h3 = (h3 = M2(h3 |= 0, y3[a4])) + g3 | 0, d3 = g3, g3 = u3, u3 = M2(p3, 10), p3 = f3, f3 = h3;
            h3 = m3[1] + s3 + u3 | 0, m3[1] = m3[2] + l3 + g3 | 0, m3[2] = m3[3] + c3 + d3 | 0, m3[3] = m3[4] + i4 + f3 | 0, m3[4] = m3[0] + o4 + p3 | 0, m3[0] = h3;
          }, _doFinalize: function() {
            var e3 = this._data, t3 = e3.words, a4 = 8 * this._nDataBytes, n4 = 8 * e3.sigBytes;
            t3[n4 >>> 5] |= 128 << 24 - n4 % 32, t3[14 + (n4 + 64 >>> 9 << 4)] = 16711935 & (a4 << 8 | a4 >>> 24) | 4278255360 & (a4 << 24 | a4 >>> 8), e3.sigBytes = 4 * (t3.length + 1), this._process();
            for (var r4 = this._hash, i4 = r4.words, o4 = 0; o4 < 5; o4++) {
              var s3 = i4[o4];
              i4[o4] = 16711935 & (s3 << 8 | s3 >>> 24) | 4278255360 & (s3 << 24 | s3 >>> 8);
            }
            return r4;
          }, clone: function e3() {
            var e4 = r3.clone.call(this);
            return e4._hash = this._hash.clone(), e4;
          } });
          function L2(e3, t3, a4) {
            return e3 ^ t3 ^ a4;
          }
          function x2(e3, t3, a4) {
            return e3 & t3 | ~e3 & a4;
          }
          function I3(e3, t3, a4) {
            return (e3 | ~t3) ^ a4;
          }
          function O3(e3, t3, a4) {
            return e3 & a4 | t3 & ~a4;
          }
          function F2(e3, t3, a4) {
            return e3 ^ (t3 | ~a4);
          }
          function M2(e3, t3) {
            return e3 << t3 | e3 >>> 32 - t3;
          }
          t2.RIPEMD160 = r3._createHelper(o3), t2.HmacRIPEMD160 = r3._createHmacHelper(o3);
        }(Math), c2 = (l2 = ve).lib.Base, p2 = l2.enc.Utf8, l2.algo.HMAC = c2.extend({ init: function(e2, t2) {
          e2 = this._hasher = new e2.init(), "string" == typeof t2 && (t2 = p2.parse(t2));
          var a3 = e2.blockSize, n3 = 4 * a3;
          t2.sigBytes > n3 && (t2 = e2.finalize(t2)), t2.clamp();
          for (var r3 = this._oKey = t2.clone(), i3 = this._iKey = t2.clone(), o3 = r3.words, s3 = i3.words, l3 = 0; l3 < a3; l3++) o3[l3] ^= 1549556828, s3[l3] ^= 909522486;
          r3.sigBytes = i3.sigBytes = n3, this.reset();
        }, reset: function() {
          var e2 = this._hasher;
          e2.reset(), e2.update(this._iKey);
        }, update: function(e2) {
          return this._hasher.update(e2), this;
        }, finalize: function(e2) {
          var t2 = this._hasher, a3 = t2.finalize(e2);
          return t2.reset(), t2.finalize(this._oKey.clone().concat(a3));
        } }), g2 = (u2 = ve).lib, h2 = g2.Base, v2 = g2.WordArray, m2 = u2.algo, b2 = m2.SHA1, E2 = m2.HMAC, _ = m2.PBKDF2 = h2.extend({ cfg: h2.extend({ keySize: 4, hasher: b2, iterations: 1 }), init: function(e2) {
          this.cfg = this.cfg.extend(e2);
        }, compute: function(e2, t2) {
          for (var a3 = this.cfg, n3 = E2.create(a3.hasher, e2), r3 = v2.create(), i3 = v2.create([1]), o3 = r3.words, s3 = i3.words, l3 = a3.keySize, c3 = a3.iterations; o3.length < l3; ) {
            var d3 = n3.update(t2).finalize(i3);
            n3.reset();
            for (var f3 = d3.words, p3 = f3.length, u3 = d3, g3 = 1; g3 < c3; g3++) {
              u3 = n3.finalize(u3), n3.reset();
              for (var h3 = u3.words, m3 = 0; m3 < p3; m3++) f3[m3] ^= h3[m3];
            }
            r3.concat(d3), s3[0]++;
          }
          return r3.sigBytes = 4 * l3, r3;
        } }), u2.PBKDF2 = function(e2, t2, a3) {
          return _.create(a3).compute(e2, t2);
        }, y2 = (w = ve).lib, A = y2.Base, C = y2.WordArray, T = w.algo, k = T.MD5, S = T.EvpKDF = A.extend({ cfg: A.extend({ keySize: 4, hasher: k, iterations: 1 }), init: function(e2) {
          this.cfg = this.cfg.extend(e2);
        }, compute: function(e2, t2) {
          for (var a3, n3 = this.cfg, r3 = n3.hasher.create(), i3 = C.create(), o3 = i3.words, s3 = n3.keySize, l3 = n3.iterations; o3.length < s3; ) {
            a3 && r3.update(a3), a3 = r3.update(e2).finalize(t2), r3.reset();
            for (var c3 = 1; c3 < l3; c3++) a3 = r3.finalize(a3), r3.reset();
            i3.concat(a3);
          }
          return i3.sigBytes = 4 * s3, i3;
        } }), w.EvpKDF = function(e2, t2, a3) {
          return S.create(a3).compute(e2, t2);
        }, L = (R = ve).lib.WordArray, x = R.algo, I2 = x.SHA256, O2 = x.SHA224 = I2.extend({ _doReset: function() {
          this._hash = new L.init([3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428]);
        }, _doFinalize: function() {
          var e2 = I2._doFinalize.call(this);
          return e2.sigBytes -= 4, e2;
        } }), R.SHA224 = I2._createHelper(O2), R.HmacSHA224 = I2._createHmacHelper(O2), M = (F = ve).lib, N = M.Base, D = M.WordArray, (P = F.x64 = {}).Word = N.extend({ init: function(e2, t2) {
          this.high = e2, this.low = t2;
        } }), P.WordArray = N.extend({ init: function(e2, t2) {
          e2 = this.words = e2 || [], this.sigBytes = null != t2 ? t2 : 8 * e2.length;
        }, toX32: function() {
          for (var e2 = this.words, t2 = e2.length, a3 = [], n3 = 0; n3 < t2; n3++) {
            var r3 = e2[n3];
            a3.push(r3.high), a3.push(r3.low);
          }
          return D.create(a3, this.sigBytes);
        }, clone: function e2() {
          for (var e3 = N.clone.call(this), t2 = e3.words = this.words.slice(0), a3 = t2.length, n3 = 0; n3 < a3; n3++) t2[n3] = t2[n3].clone();
          return e3;
        } }), function(p3) {
          var e2 = ve, t2 = e2.lib, u3 = t2.WordArray, n3 = t2.Hasher, d3 = e2.x64.Word, a3 = e2.algo, L2 = [], x2 = [], I3 = [];
          !function() {
            for (var e3 = 1, t3 = 0, a4 = 0; a4 < 24; a4++) {
              L2[e3 + 5 * t3] = (a4 + 1) * (a4 + 2) / 2 % 64;
              var n4 = (2 * e3 + 3 * t3) % 5;
              e3 = t3 % 5, t3 = n4;
            }
            for (e3 = 0; e3 < 5; e3++) for (t3 = 0; t3 < 5; t3++) x2[e3 + 5 * t3] = t3 + (2 * e3 + 3 * t3) % 5 * 5;
            for (var r4 = 1, i3 = 0; i3 < 24; i3++) {
              for (var o3 = 0, s3 = 0, l3 = 0; l3 < 7; l3++) {
                if (1 & r4) {
                  var c3 = (1 << l3) - 1;
                  c3 < 32 ? s3 ^= 1 << c3 : o3 ^= 1 << c3 - 32;
                }
                128 & r4 ? r4 = r4 << 1 ^ 113 : r4 <<= 1;
              }
              I3[i3] = d3.create(o3, s3);
            }
          }();
          var O3 = [];
          !function() {
            for (var e3 = 0; e3 < 25; e3++) O3[e3] = d3.create();
          }();
          var r3 = a3.SHA3 = n3.extend({ cfg: n3.cfg.extend({ outputLength: 512 }), _doReset: function() {
            for (var e3 = this._state = [], t3 = 0; t3 < 25; t3++) e3[t3] = new d3.init();
            this.blockSize = (1600 - 2 * this.cfg.outputLength) / 32;
          }, _doProcessBlock: function(e3, t3) {
            for (var a4 = this._state, n4 = this.blockSize / 2, r4 = 0; r4 < n4; r4++) {
              var i3 = e3[t3 + 2 * r4], o3 = e3[t3 + 2 * r4 + 1];
              i3 = 16711935 & (i3 << 8 | i3 >>> 24) | 4278255360 & (i3 << 24 | i3 >>> 8), o3 = 16711935 & (o3 << 8 | o3 >>> 24) | 4278255360 & (o3 << 24 | o3 >>> 8), (C2 = a4[r4]).high ^= o3, C2.low ^= i3;
            }
            for (var s3 = 0; s3 < 24; s3++) {
              for (var l3 = 0; l3 < 5; l3++) {
                for (var c3 = 0, d4 = 0, f3 = 0; f3 < 5; f3++) {
                  c3 ^= (C2 = a4[l3 + 5 * f3]).high, d4 ^= C2.low;
                }
                var p4 = O3[l3];
                p4.high = c3, p4.low = d4;
              }
              for (l3 = 0; l3 < 5; l3++) {
                var u4 = O3[(l3 + 4) % 5], g3 = O3[(l3 + 1) % 5], h3 = g3.high, m3 = g3.low;
                for (c3 = u4.high ^ (h3 << 1 | m3 >>> 31), d4 = u4.low ^ (m3 << 1 | h3 >>> 31), f3 = 0; f3 < 5; f3++) {
                  (C2 = a4[l3 + 5 * f3]).high ^= c3, C2.low ^= d4;
                }
              }
              for (var v3 = 1; v3 < 25; v3++) {
                var b3 = (C2 = a4[v3]).high, E3 = C2.low, _2 = L2[v3];
                d4 = _2 < 32 ? (c3 = b3 << _2 | E3 >>> 32 - _2, E3 << _2 | b3 >>> 32 - _2) : (c3 = E3 << _2 - 32 | b3 >>> 64 - _2, b3 << _2 - 32 | E3 >>> 64 - _2);
                var w2 = O3[x2[v3]];
                w2.high = c3, w2.low = d4;
              }
              var y3 = O3[0], A2 = a4[0];
              y3.high = A2.high, y3.low = A2.low;
              for (l3 = 0; l3 < 5; l3++) for (f3 = 0; f3 < 5; f3++) {
                var C2 = a4[v3 = l3 + 5 * f3], T2 = O3[v3], k2 = O3[(l3 + 1) % 5 + 5 * f3], S2 = O3[(l3 + 2) % 5 + 5 * f3];
                C2.high = T2.high ^ ~k2.high & S2.high, C2.low = T2.low ^ ~k2.low & S2.low;
              }
              C2 = a4[0];
              var R2 = I3[s3];
              C2.high ^= R2.high, C2.low ^= R2.low;
            }
          }, _doFinalize: function() {
            var e3 = this._data, t3 = e3.words, a4 = (this._nDataBytes, 8 * e3.sigBytes), n4 = 32 * this.blockSize;
            t3[a4 >>> 5] |= 1 << 24 - a4 % 32, t3[(p3.ceil((a4 + 1) / n4) * n4 >>> 5) - 1] |= 128, e3.sigBytes = 4 * t3.length, this._process();
            for (var r4 = this._state, i3 = this.cfg.outputLength / 8, o3 = i3 / 8, s3 = [], l3 = 0; l3 < o3; l3++) {
              var c3 = r4[l3], d4 = c3.high, f3 = c3.low;
              d4 = 16711935 & (d4 << 8 | d4 >>> 24) | 4278255360 & (d4 << 24 | d4 >>> 8), f3 = 16711935 & (f3 << 8 | f3 >>> 24) | 4278255360 & (f3 << 24 | f3 >>> 8), s3.push(f3), s3.push(d4);
            }
            return new u3.init(s3, i3);
          }, clone: function e3() {
            for (var e4 = n3.clone.call(this), t3 = e4._state = this._state.slice(0), a4 = 0; a4 < 25; a4++) t3[a4] = t3[a4].clone();
            return e4;
          } });
          e2.SHA3 = n3._createHelper(r3), e2.HmacSHA3 = n3._createHmacHelper(r3);
        }(Math), function() {
          var e2 = ve, t2 = e2.lib.Hasher, a3 = e2.x64, n3 = a3.Word, r3 = a3.WordArray, i3 = e2.algo;
          function o3() {
            return n3.create.apply(n3, arguments);
          }
          var Ae = [o3(1116352408, 3609767458), o3(1899447441, 602891725), o3(3049323471, 3964484399), o3(3921009573, 2173295548), o3(961987163, 4081628472), o3(1508970993, 3053834265), o3(2453635748, 2937671579), o3(2870763221, 3664609560), o3(3624381080, 2734883394), o3(310598401, 1164996542), o3(607225278, 1323610764), o3(1426881987, 3590304994), o3(1925078388, 4068182383), o3(2162078206, 991336113), o3(2614888103, 633803317), o3(3248222580, 3479774868), o3(3835390401, 2666613458), o3(4022224774, 944711139), o3(264347078, 2341262773), o3(604807628, 2007800933), o3(770255983, 1495990901), o3(1249150122, 1856431235), o3(1555081692, 3175218132), o3(1996064986, 2198950837), o3(2554220882, 3999719339), o3(2821834349, 766784016), o3(2952996808, 2566594879), o3(3210313671, 3203337956), o3(3336571891, 1034457026), o3(3584528711, 2466948901), o3(113926993, 3758326383), o3(338241895, 168717936), o3(666307205, 1188179964), o3(773529912, 1546045734), o3(1294757372, 1522805485), o3(1396182291, 2643833823), o3(1695183700, 2343527390), o3(1986661051, 1014477480), o3(2177026350, 1206759142), o3(2456956037, 344077627), o3(2730485921, 1290863460), o3(2820302411, 3158454273), o3(3259730800, 3505952657), o3(3345764771, 106217008), o3(3516065817, 3606008344), o3(3600352804, 1432725776), o3(4094571909, 1467031594), o3(275423344, 851169720), o3(430227734, 3100823752), o3(506948616, 1363258195), o3(659060556, 3750685593), o3(883997877, 3785050280), o3(958139571, 3318307427), o3(1322822218, 3812723403), o3(1537002063, 2003034995), o3(1747873779, 3602036899), o3(1955562222, 1575990012), o3(2024104815, 1125592928), o3(2227730452, 2716904306), o3(2361852424, 442776044), o3(2428436474, 593698344), o3(2756734187, 3733110249), o3(3204031479, 2999351573), o3(3329325298, 3815920427), o3(3391569614, 3928383900), o3(3515267271, 566280711), o3(3940187606, 3454069534), o3(4118630271, 4000239992), o3(116418474, 1914138554), o3(174292421, 2731055270), o3(289380356, 3203993006), o3(460393269, 320620315), o3(685471733, 587496836), o3(852142971, 1086792851), o3(1017036298, 365543100), o3(1126000580, 2618297676), o3(1288033470, 3409855158), o3(1501505948, 4234509866), o3(1607167915, 987167468), o3(1816402316, 1246189591)], Ce = [];
          !function() {
            for (var e3 = 0; e3 < 80; e3++) Ce[e3] = o3();
          }();
          var s3 = i3.SHA512 = t2.extend({ _doReset: function() {
            this._hash = new r3.init([new n3.init(1779033703, 4089235720), new n3.init(3144134277, 2227873595), new n3.init(1013904242, 4271175723), new n3.init(2773480762, 1595750129), new n3.init(1359893119, 2917565137), new n3.init(2600822924, 725511199), new n3.init(528734635, 4215389547), new n3.init(1541459225, 327033209)]);
          }, _doProcessBlock: function(e3, t3) {
            for (var a4 = this._hash.words, n4 = a4[0], r4 = a4[1], i4 = a4[2], o4 = a4[3], s4 = a4[4], l3 = a4[5], c3 = a4[6], d3 = a4[7], f3 = n4.high, p3 = n4.low, u3 = r4.high, g3 = r4.low, h3 = i4.high, m3 = i4.low, v3 = o4.high, b3 = o4.low, E3 = s4.high, _2 = s4.low, w2 = l3.high, y3 = l3.low, A2 = c3.high, C2 = c3.low, T2 = d3.high, k2 = d3.low, S2 = f3, R2 = p3, L2 = u3, x2 = g3, I3 = h3, O3 = m3, F2 = v3, M2 = b3, N2 = E3, D2 = _2, P2 = w2, B2 = y3, U2 = A2, H2 = C2, $2 = T2, z2 = k2, W2 = 0; W2 < 80; W2++) {
              var K2, G2, V2 = Ce[W2];
              if (W2 < 16) G2 = V2.high = 0 | e3[t3 + 2 * W2], K2 = V2.low = 0 | e3[t3 + 2 * W2 + 1];
              else {
                var Y2 = Ce[W2 - 15], j2 = Y2.high, q2 = Y2.low, X2 = (j2 >>> 1 | q2 << 31) ^ (j2 >>> 8 | q2 << 24) ^ j2 >>> 7, Z2 = (q2 >>> 1 | j2 << 31) ^ (q2 >>> 8 | j2 << 24) ^ (q2 >>> 7 | j2 << 25), Q2 = Ce[W2 - 2], J2 = Q2.high, ee2 = Q2.low, te2 = (J2 >>> 19 | ee2 << 13) ^ (J2 << 3 | ee2 >>> 29) ^ J2 >>> 6, ae2 = (ee2 >>> 19 | J2 << 13) ^ (ee2 << 3 | J2 >>> 29) ^ (ee2 >>> 6 | J2 << 26), ne2 = Ce[W2 - 7], re2 = ne2.high, ie2 = ne2.low, oe2 = Ce[W2 - 16], se2 = oe2.high, le2 = oe2.low;
                G2 = (G2 = (G2 = X2 + re2 + ((K2 = Z2 + ie2) >>> 0 < Z2 >>> 0 ? 1 : 0)) + te2 + ((K2 += ae2) >>> 0 < ae2 >>> 0 ? 1 : 0)) + se2 + ((K2 += le2) >>> 0 < le2 >>> 0 ? 1 : 0), V2.high = G2, V2.low = K2;
              }
              var ce2, de2 = N2 & P2 ^ ~N2 & U2, fe2 = D2 & B2 ^ ~D2 & H2, pe2 = S2 & L2 ^ S2 & I3 ^ L2 & I3, ue2 = R2 & x2 ^ R2 & O3 ^ x2 & O3, ge2 = (S2 >>> 28 | R2 << 4) ^ (S2 << 30 | R2 >>> 2) ^ (S2 << 25 | R2 >>> 7), he2 = (R2 >>> 28 | S2 << 4) ^ (R2 << 30 | S2 >>> 2) ^ (R2 << 25 | S2 >>> 7), me2 = (N2 >>> 14 | D2 << 18) ^ (N2 >>> 18 | D2 << 14) ^ (N2 << 23 | D2 >>> 9), ve2 = (D2 >>> 14 | N2 << 18) ^ (D2 >>> 18 | N2 << 14) ^ (D2 << 23 | N2 >>> 9), be = Ae[W2], Ee = be.high, _e = be.low, we = $2 + me2 + ((ce2 = z2 + ve2) >>> 0 < z2 >>> 0 ? 1 : 0), ye2 = he2 + ue2;
              $2 = U2, z2 = H2, U2 = P2, H2 = B2, P2 = N2, B2 = D2, N2 = F2 + (we = (we = (we = we + de2 + ((ce2 = ce2 + fe2) >>> 0 < fe2 >>> 0 ? 1 : 0)) + Ee + ((ce2 = ce2 + _e) >>> 0 < _e >>> 0 ? 1 : 0)) + G2 + ((ce2 = ce2 + K2) >>> 0 < K2 >>> 0 ? 1 : 0)) + ((D2 = M2 + ce2 | 0) >>> 0 < M2 >>> 0 ? 1 : 0) | 0, F2 = I3, M2 = O3, I3 = L2, O3 = x2, L2 = S2, x2 = R2, S2 = we + (ge2 + pe2 + (ye2 >>> 0 < he2 >>> 0 ? 1 : 0)) + ((R2 = ce2 + ye2 | 0) >>> 0 < ce2 >>> 0 ? 1 : 0) | 0;
            }
            p3 = n4.low = p3 + R2, n4.high = f3 + S2 + (p3 >>> 0 < R2 >>> 0 ? 1 : 0), g3 = r4.low = g3 + x2, r4.high = u3 + L2 + (g3 >>> 0 < x2 >>> 0 ? 1 : 0), m3 = i4.low = m3 + O3, i4.high = h3 + I3 + (m3 >>> 0 < O3 >>> 0 ? 1 : 0), b3 = o4.low = b3 + M2, o4.high = v3 + F2 + (b3 >>> 0 < M2 >>> 0 ? 1 : 0), _2 = s4.low = _2 + D2, s4.high = E3 + N2 + (_2 >>> 0 < D2 >>> 0 ? 1 : 0), y3 = l3.low = y3 + B2, l3.high = w2 + P2 + (y3 >>> 0 < B2 >>> 0 ? 1 : 0), C2 = c3.low = C2 + H2, c3.high = A2 + U2 + (C2 >>> 0 < H2 >>> 0 ? 1 : 0), k2 = d3.low = k2 + z2, d3.high = T2 + $2 + (k2 >>> 0 < z2 >>> 0 ? 1 : 0);
          }, _doFinalize: function() {
            var e3 = this._data, t3 = e3.words, a4 = 8 * this._nDataBytes, n4 = 8 * e3.sigBytes;
            return t3[n4 >>> 5] |= 128 << 24 - n4 % 32, t3[30 + (n4 + 128 >>> 10 << 5)] = Math.floor(a4 / 4294967296), t3[31 + (n4 + 128 >>> 10 << 5)] = a4, e3.sigBytes = 4 * t3.length, this._process(), this._hash.toX32();
          }, clone: function e3() {
            var e4 = t2.clone.call(this);
            return e4._hash = this._hash.clone(), e4;
          }, blockSize: 32 });
          e2.SHA512 = t2._createHelper(s3), e2.HmacSHA512 = t2._createHmacHelper(s3);
        }(), U = (B = ve).x64, H = U.Word, $ = U.WordArray, z = B.algo, W = z.SHA512, K = z.SHA384 = W.extend({ _doReset: function() {
          this._hash = new $.init([new H.init(3418070365, 3238371032), new H.init(1654270250, 914150663), new H.init(2438529370, 812702999), new H.init(355462360, 4144912697), new H.init(1731405415, 4290775857), new H.init(2394180231, 1750603025), new H.init(3675008525, 1694076839), new H.init(1203062813, 3204075428)]);
        }, _doFinalize: function() {
          var e2 = W._doFinalize.call(this);
          return e2.sigBytes -= 16, e2;
        } }), B.SHA384 = W._createHelper(K), B.HmacSHA384 = W._createHmacHelper(K), ve.lib.Cipher || (V = (G = ve).lib, Y = V.Base, j = V.WordArray, q = V.BufferedBlockAlgorithm, (X = G.enc).Utf8, Z = X.Base64, Q = G.algo.EvpKDF, J = V.Cipher = q.extend({ cfg: Y.extend(), createEncryptor: function(e2, t2) {
          return this.create(this._ENC_XFORM_MODE, e2, t2);
        }, createDecryptor: function(e2, t2) {
          return this.create(this._DEC_XFORM_MODE, e2, t2);
        }, init: function(e2, t2, a3) {
          this.cfg = this.cfg.extend(a3), this._xformMode = e2, this._key = t2, this.reset();
        }, reset: function() {
          q.reset.call(this), this._doReset();
        }, process: function(e2) {
          return this._append(e2), this._process();
        }, finalize: function(e2) {
          return e2 && this._append(e2), this._doFinalize();
        }, keySize: 4, ivSize: 4, _ENC_XFORM_MODE: 1, _DEC_XFORM_MODE: 2, _createHelper: /* @__PURE__ */ function() {
          function r3(e2) {
            return "string" == typeof e2 ? le : oe;
          }
          return function(n3) {
            return { encrypt: function(e2, t2, a3) {
              return r3(t2).encrypt(n3, e2, t2, a3);
            }, decrypt: function(e2, t2, a3) {
              return r3(t2).decrypt(n3, e2, t2, a3);
            } };
          };
        }() }), V.StreamCipher = J.extend({ _doFinalize: function() {
          return this._process(true);
        }, blockSize: 1 }), ee = G.mode = {}, te = V.BlockCipherMode = Y.extend({ createEncryptor: function(e2, t2) {
          return this.Encryptor.create(e2, t2);
        }, createDecryptor: function(e2, t2) {
          return this.Decryptor.create(e2, t2);
        }, init: function(e2, t2) {
          this._cipher = e2, this._iv = t2;
        } }), ae = ee.CBC = function() {
          var e2 = te.extend();
          function i3(e3, t2, a3) {
            var n3, r3 = this._iv;
            r3 ? (n3 = r3, this._iv = void 0) : n3 = this._prevBlock;
            for (var i4 = 0; i4 < a3; i4++) e3[t2 + i4] ^= n3[i4];
          }
          return e2.Encryptor = e2.extend({ processBlock: function(e3, t2) {
            var a3 = this._cipher, n3 = a3.blockSize;
            i3.call(this, e3, t2, n3), a3.encryptBlock(e3, t2), this._prevBlock = e3.slice(t2, t2 + n3);
          } }), e2.Decryptor = e2.extend({ processBlock: function(e3, t2) {
            var a3 = this._cipher, n3 = a3.blockSize, r3 = e3.slice(t2, t2 + n3);
            a3.decryptBlock(e3, t2), i3.call(this, e3, t2, n3), this._prevBlock = r3;
          } }), e2;
        }(), ne = (G.pad = {}).Pkcs7 = { pad: function(e2, t2) {
          for (var a3 = 4 * t2, n3 = a3 - e2.sigBytes % a3, r3 = n3 << 24 | n3 << 16 | n3 << 8 | n3, i3 = [], o3 = 0; o3 < n3; o3 += 4) i3.push(r3);
          var s3 = j.create(i3, n3);
          e2.concat(s3);
        }, unpad: function(e2) {
          var t2 = 255 & e2.words[e2.sigBytes - 1 >>> 2];
          e2.sigBytes -= t2;
        } }, V.BlockCipher = J.extend({ cfg: J.cfg.extend({ mode: ae, padding: ne }), reset: function() {
          var e2;
          J.reset.call(this);
          var t2 = this.cfg, a3 = t2.iv, n3 = t2.mode;
          this._xformMode == this._ENC_XFORM_MODE ? e2 = n3.createEncryptor : (e2 = n3.createDecryptor, this._minBufferSize = 1), this._mode && this._mode.__creator == e2 ? this._mode.init(this, a3 && a3.words) : (this._mode = e2.call(n3, this, a3 && a3.words), this._mode.__creator = e2);
        }, _doProcessBlock: function(e2, t2) {
          this._mode.processBlock(e2, t2);
        }, _doFinalize: function() {
          var e2, t2 = this.cfg.padding;
          return this._xformMode == this._ENC_XFORM_MODE ? (t2.pad(this._data, this.blockSize), e2 = this._process(true)) : (e2 = this._process(true), t2.unpad(e2)), e2;
        }, blockSize: 4 }), re = V.CipherParams = Y.extend({ init: function(e2) {
          this.mixIn(e2);
        }, toString: function(e2) {
          return (e2 || this.formatter).stringify(this);
        } }), ie = (G.format = {}).OpenSSL = { stringify: function(e2) {
          var t2 = e2.ciphertext, a3 = e2.salt;
          return (a3 ? j.create([1398893684, 1701076831]).concat(a3).concat(t2) : t2).toString(Z);
        }, parse: function(e2) {
          var t2, a3 = Z.parse(e2), n3 = a3.words;
          return 1398893684 == n3[0] && 1701076831 == n3[1] && (t2 = j.create(n3.slice(2, 4)), n3.splice(0, 4), a3.sigBytes -= 16), re.create({ ciphertext: a3, salt: t2 });
        } }, oe = V.SerializableCipher = Y.extend({ cfg: Y.extend({ format: ie }), encrypt: function(e2, t2, a3, n3) {
          n3 = this.cfg.extend(n3);
          var r3 = e2.createEncryptor(a3, n3), i3 = r3.finalize(t2), o3 = r3.cfg;
          return re.create({ ciphertext: i3, key: a3, iv: o3.iv, algorithm: e2, mode: o3.mode, padding: o3.padding, blockSize: e2.blockSize, formatter: n3.format });
        }, decrypt: function(e2, t2, a3, n3) {
          return n3 = this.cfg.extend(n3), t2 = this._parse(t2, n3.format), e2.createDecryptor(a3, n3).finalize(t2.ciphertext);
        }, _parse: function(e2, t2) {
          return "string" == typeof e2 ? t2.parse(e2, this) : e2;
        } }), se = (G.kdf = {}).OpenSSL = { execute: function(e2, t2, a3, n3) {
          n3 || (n3 = j.random(8));
          var r3 = Q.create({ keySize: t2 + a3 }).compute(e2, n3), i3 = j.create(r3.words.slice(t2), 4 * a3);
          return r3.sigBytes = 4 * t2, re.create({ key: r3, iv: i3, salt: n3 });
        } }, le = V.PasswordBasedCipher = oe.extend({ cfg: oe.cfg.extend({ kdf: se }), encrypt: function(e2, t2, a3, n3) {
          var r3 = (n3 = this.cfg.extend(n3)).kdf.execute(a3, e2.keySize, e2.ivSize);
          n3.iv = r3.iv;
          var i3 = oe.encrypt.call(this, e2, t2, r3.key, n3);
          return i3.mixIn(r3), i3;
        }, decrypt: function(e2, t2, a3, n3) {
          n3 = this.cfg.extend(n3), t2 = this._parse(t2, n3.format);
          var r3 = n3.kdf.execute(a3, e2.keySize, e2.ivSize, t2.salt);
          return n3.iv = r3.iv, oe.decrypt.call(this, e2, t2, r3.key, n3);
        } })), ve.mode.CFB = function() {
          var e2 = ve.lib.BlockCipherMode.extend();
          function i3(e3, t2, a3, n3) {
            var r3, i4 = this._iv;
            i4 ? (r3 = i4.slice(0), this._iv = void 0) : r3 = this._prevBlock, n3.encryptBlock(r3, 0);
            for (var o3 = 0; o3 < a3; o3++) e3[t2 + o3] ^= r3[o3];
          }
          return e2.Encryptor = e2.extend({ processBlock: function(e3, t2) {
            var a3 = this._cipher, n3 = a3.blockSize;
            i3.call(this, e3, t2, n3, a3), this._prevBlock = e3.slice(t2, t2 + n3);
          } }), e2.Decryptor = e2.extend({ processBlock: function(e3, t2) {
            var a3 = this._cipher, n3 = a3.blockSize, r3 = e3.slice(t2, t2 + n3);
            i3.call(this, e3, t2, n3, a3), this._prevBlock = r3;
          } }), e2;
        }(), ve.mode.ECB = ((ce = ve.lib.BlockCipherMode.extend()).Encryptor = ce.extend({ processBlock: function(e2, t2) {
          this._cipher.encryptBlock(e2, t2);
        } }), ce.Decryptor = ce.extend({ processBlock: function(e2, t2) {
          this._cipher.decryptBlock(e2, t2);
        } }), ce), ve.pad.AnsiX923 = { pad: function(e2, t2) {
          var a3 = e2.sigBytes, n3 = 4 * t2, r3 = n3 - a3 % n3, i3 = a3 + r3 - 1;
          e2.clamp(), e2.words[i3 >>> 2] |= r3 << 24 - i3 % 4 * 8, e2.sigBytes += r3;
        }, unpad: function(e2) {
          var t2 = 255 & e2.words[e2.sigBytes - 1 >>> 2];
          e2.sigBytes -= t2;
        } }, ve.pad.Iso10126 = { pad: function(e2, t2) {
          var a3 = 4 * t2, n3 = a3 - e2.sigBytes % a3;
          e2.concat(ve.lib.WordArray.random(n3 - 1)).concat(ve.lib.WordArray.create([n3 << 24], 1));
        }, unpad: function(e2) {
          var t2 = 255 & e2.words[e2.sigBytes - 1 >>> 2];
          e2.sigBytes -= t2;
        } }, ve.pad.Iso97971 = { pad: function(e2, t2) {
          e2.concat(ve.lib.WordArray.create([2147483648], 1)), ve.pad.ZeroPadding.pad(e2, t2);
        }, unpad: function(e2) {
          ve.pad.ZeroPadding.unpad(e2), e2.sigBytes--;
        } }, ve.mode.OFB = (de = ve.lib.BlockCipherMode.extend(), fe = de.Encryptor = de.extend({ processBlock: function(e2, t2) {
          var a3 = this._cipher, n3 = a3.blockSize, r3 = this._iv, i3 = this._keystream;
          r3 && (i3 = this._keystream = r3.slice(0), this._iv = void 0), a3.encryptBlock(i3, 0);
          for (var o3 = 0; o3 < n3; o3++) e2[t2 + o3] ^= i3[o3];
        } }), de.Decryptor = fe, de), ve.pad.NoPadding = { pad: function() {
        }, unpad: function() {
        } }, ue = (pe = ve).lib.CipherParams, ge = pe.enc.Hex, pe.format.Hex = { stringify: function(e2) {
          return e2.ciphertext.toString(ge);
        }, parse: function(e2) {
          var t2 = ge.parse(e2);
          return ue.create({ ciphertext: t2 });
        } }, function() {
          var e2 = ve, t2 = e2.lib.BlockCipher, a3 = e2.algo, c3 = [], d3 = [], f3 = [], p3 = [], u3 = [], g3 = [], h3 = [], m3 = [], v3 = [], b3 = [];
          !function() {
            for (var e3 = [], t3 = 0; t3 < 256; t3++) e3[t3] = t3 < 128 ? t3 << 1 : t3 << 1 ^ 283;
            var a4 = 0, n4 = 0;
            for (t3 = 0; t3 < 256; t3++) {
              var r3 = n4 ^ n4 << 1 ^ n4 << 2 ^ n4 << 3 ^ n4 << 4;
              r3 = r3 >>> 8 ^ 255 & r3 ^ 99, c3[a4] = r3;
              var i3 = e3[d3[r3] = a4], o3 = e3[i3], s3 = e3[o3], l3 = 257 * e3[r3] ^ 16843008 * r3;
              f3[a4] = l3 << 24 | l3 >>> 8, p3[a4] = l3 << 16 | l3 >>> 16, u3[a4] = l3 << 8 | l3 >>> 24, g3[a4] = l3;
              l3 = 16843009 * s3 ^ 65537 * o3 ^ 257 * i3 ^ 16843008 * a4;
              h3[r3] = l3 << 24 | l3 >>> 8, m3[r3] = l3 << 16 | l3 >>> 16, v3[r3] = l3 << 8 | l3 >>> 24, b3[r3] = l3, a4 ? (a4 = i3 ^ e3[e3[e3[s3 ^ i3]]], n4 ^= e3[e3[n4]]) : a4 = n4 = 1;
            }
          }();
          var E3 = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54], n3 = a3.AES = t2.extend({ _doReset: function() {
            if (!this._nRounds || this._keyPriorReset !== this._key) {
              for (var e3 = this._keyPriorReset = this._key, t3 = e3.words, a4 = e3.sigBytes / 4, n4 = 4 * ((this._nRounds = a4 + 6) + 1), r3 = this._keySchedule = [], i3 = 0; i3 < n4; i3++) i3 < a4 ? r3[i3] = t3[i3] : (l3 = r3[i3 - 1], i3 % a4 ? 6 < a4 && i3 % a4 == 4 && (l3 = c3[l3 >>> 24] << 24 | c3[l3 >>> 16 & 255] << 16 | c3[l3 >>> 8 & 255] << 8 | c3[255 & l3]) : (l3 = c3[(l3 = l3 << 8 | l3 >>> 24) >>> 24] << 24 | c3[l3 >>> 16 & 255] << 16 | c3[l3 >>> 8 & 255] << 8 | c3[255 & l3], l3 ^= E3[i3 / a4 | 0] << 24), r3[i3] = r3[i3 - a4] ^ l3);
              for (var o3 = this._invKeySchedule = [], s3 = 0; s3 < n4; s3++) {
                i3 = n4 - s3;
                if (s3 % 4) var l3 = r3[i3];
                else l3 = r3[i3 - 4];
                o3[s3] = s3 < 4 || i3 <= 4 ? l3 : h3[c3[l3 >>> 24]] ^ m3[c3[l3 >>> 16 & 255]] ^ v3[c3[l3 >>> 8 & 255]] ^ b3[c3[255 & l3]];
              }
            }
          }, encryptBlock: function(e3, t3) {
            this._doCryptBlock(e3, t3, this._keySchedule, f3, p3, u3, g3, c3);
          }, decryptBlock: function(e3, t3) {
            var a4 = e3[t3 + 1];
            e3[t3 + 1] = e3[t3 + 3], e3[t3 + 3] = a4, this._doCryptBlock(e3, t3, this._invKeySchedule, h3, m3, v3, b3, d3);
            a4 = e3[t3 + 1];
            e3[t3 + 1] = e3[t3 + 3], e3[t3 + 3] = a4;
          }, _doCryptBlock: function(e3, t3, a4, n4, r3, i3, o3, s3) {
            for (var l3 = this._nRounds, c4 = e3[t3] ^ a4[0], d4 = e3[t3 + 1] ^ a4[1], f4 = e3[t3 + 2] ^ a4[2], p4 = e3[t3 + 3] ^ a4[3], u4 = 4, g4 = 1; g4 < l3; g4++) {
              var h4 = n4[c4 >>> 24] ^ r3[d4 >>> 16 & 255] ^ i3[f4 >>> 8 & 255] ^ o3[255 & p4] ^ a4[u4++], m4 = n4[d4 >>> 24] ^ r3[f4 >>> 16 & 255] ^ i3[p4 >>> 8 & 255] ^ o3[255 & c4] ^ a4[u4++], v4 = n4[f4 >>> 24] ^ r3[p4 >>> 16 & 255] ^ i3[c4 >>> 8 & 255] ^ o3[255 & d4] ^ a4[u4++], b4 = n4[p4 >>> 24] ^ r3[c4 >>> 16 & 255] ^ i3[d4 >>> 8 & 255] ^ o3[255 & f4] ^ a4[u4++];
              c4 = h4, d4 = m4, f4 = v4, p4 = b4;
            }
            h4 = (s3[c4 >>> 24] << 24 | s3[d4 >>> 16 & 255] << 16 | s3[f4 >>> 8 & 255] << 8 | s3[255 & p4]) ^ a4[u4++], m4 = (s3[d4 >>> 24] << 24 | s3[f4 >>> 16 & 255] << 16 | s3[p4 >>> 8 & 255] << 8 | s3[255 & c4]) ^ a4[u4++], v4 = (s3[f4 >>> 24] << 24 | s3[p4 >>> 16 & 255] << 16 | s3[c4 >>> 8 & 255] << 8 | s3[255 & d4]) ^ a4[u4++], b4 = (s3[p4 >>> 24] << 24 | s3[c4 >>> 16 & 255] << 16 | s3[d4 >>> 8 & 255] << 8 | s3[255 & f4]) ^ a4[u4++];
            e3[t3] = h4, e3[t3 + 1] = m4, e3[t3 + 2] = v4, e3[t3 + 3] = b4;
          }, keySize: 8 });
          e2.AES = t2._createHelper(n3);
        }(), function() {
          var e2 = ve, t2 = e2.lib, r3 = t2.WordArray, a3 = t2.BlockCipher, n3 = e2.algo, c3 = [57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18, 10, 2, 59, 51, 43, 35, 27, 19, 11, 3, 60, 52, 44, 36, 63, 55, 47, 39, 31, 23, 15, 7, 62, 54, 46, 38, 30, 22, 14, 6, 61, 53, 45, 37, 29, 21, 13, 5, 28, 20, 12, 4], d3 = [14, 17, 11, 24, 1, 5, 3, 28, 15, 6, 21, 10, 23, 19, 12, 4, 26, 8, 16, 7, 27, 20, 13, 2, 41, 52, 31, 37, 47, 55, 30, 40, 51, 45, 33, 48, 44, 49, 39, 56, 34, 53, 46, 42, 50, 36, 29, 32], f3 = [1, 2, 4, 6, 8, 10, 12, 14, 15, 17, 19, 21, 23, 25, 27, 28], p3 = [{ 0: 8421888, 268435456: 32768, 536870912: 8421378, 805306368: 2, 1073741824: 512, 1342177280: 8421890, 1610612736: 8389122, 1879048192: 8388608, 2147483648: 514, 2415919104: 8389120, 2684354560: 33280, 2952790016: 8421376, 3221225472: 32770, 3489660928: 8388610, 3758096384: 0, 4026531840: 33282, 134217728: 0, 402653184: 8421890, 671088640: 33282, 939524096: 32768, 1207959552: 8421888, 1476395008: 512, 1744830464: 8421378, 2013265920: 2, 2281701376: 8389120, 2550136832: 33280, 2818572288: 8421376, 3087007744: 8389122, 3355443200: 8388610, 3623878656: 32770, 3892314112: 514, 4160749568: 8388608, 1: 32768, 268435457: 2, 536870913: 8421888, 805306369: 8388608, 1073741825: 8421378, 1342177281: 33280, 1610612737: 512, 1879048193: 8389122, 2147483649: 8421890, 2415919105: 8421376, 2684354561: 8388610, 2952790017: 33282, 3221225473: 514, 3489660929: 8389120, 3758096385: 32770, 4026531841: 0, 134217729: 8421890, 402653185: 8421376, 671088641: 8388608, 939524097: 512, 1207959553: 32768, 1476395009: 8388610, 1744830465: 2, 2013265921: 33282, 2281701377: 32770, 2550136833: 8389122, 2818572289: 514, 3087007745: 8421888, 3355443201: 8389120, 3623878657: 0, 3892314113: 33280, 4160749569: 8421378 }, { 0: 1074282512, 16777216: 16384, 33554432: 524288, 50331648: 1074266128, 67108864: 1073741840, 83886080: 1074282496, 100663296: 1073758208, 117440512: 16, 134217728: 540672, 150994944: 1073758224, 167772160: 1073741824, 184549376: 540688, 201326592: 524304, 218103808: 0, 234881024: 16400, 251658240: 1074266112, 8388608: 1073758208, 25165824: 540688, 41943040: 16, 58720256: 1073758224, 75497472: 1074282512, 92274688: 1073741824, 109051904: 524288, 125829120: 1074266128, 142606336: 524304, 159383552: 0, 176160768: 16384, 192937984: 1074266112, 209715200: 1073741840, 226492416: 540672, 243269632: 1074282496, 260046848: 16400, 268435456: 0, 285212672: 1074266128, 301989888: 1073758224, 318767104: 1074282496, 335544320: 1074266112, 352321536: 16, 369098752: 540688, 385875968: 16384, 402653184: 16400, 419430400: 524288, 436207616: 524304, 452984832: 1073741840, 469762048: 540672, 486539264: 1073758208, 503316480: 1073741824, 520093696: 1074282512, 276824064: 540688, 293601280: 524288, 310378496: 1074266112, 327155712: 16384, 343932928: 1073758208, 360710144: 1074282512, 377487360: 16, 394264576: 1073741824, 411041792: 1074282496, 427819008: 1073741840, 444596224: 1073758224, 461373440: 524304, 478150656: 0, 494927872: 16400, 511705088: 1074266128, 528482304: 540672 }, { 0: 260, 1048576: 0, 2097152: 67109120, 3145728: 65796, 4194304: 65540, 5242880: 67108868, 6291456: 67174660, 7340032: 67174400, 8388608: 67108864, 9437184: 67174656, 10485760: 65792, 11534336: 67174404, 12582912: 67109124, 13631488: 65536, 14680064: 4, 15728640: 256, 524288: 67174656, 1572864: 67174404, 2621440: 0, 3670016: 67109120, 4718592: 67108868, 5767168: 65536, 6815744: 65540, 7864320: 260, 8912896: 4, 9961472: 256, 11010048: 67174400, 12058624: 65796, 13107200: 65792, 14155776: 67109124, 15204352: 67174660, 16252928: 67108864, 16777216: 67174656, 17825792: 65540, 18874368: 65536, 19922944: 67109120, 20971520: 256, 22020096: 67174660, 23068672: 67108868, 24117248: 0, 25165824: 67109124, 26214400: 67108864, 27262976: 4, 28311552: 65792, 29360128: 67174400, 30408704: 260, 31457280: 65796, 32505856: 67174404, 17301504: 67108864, 18350080: 260, 19398656: 67174656, 20447232: 0, 21495808: 65540, 22544384: 67109120, 23592960: 256, 24641536: 67174404, 25690112: 65536, 26738688: 67174660, 27787264: 65796, 28835840: 67108868, 29884416: 67109124, 30932992: 67174400, 31981568: 4, 33030144: 65792 }, { 0: 2151682048, 65536: 2147487808, 131072: 4198464, 196608: 2151677952, 262144: 0, 327680: 4198400, 393216: 2147483712, 458752: 4194368, 524288: 2147483648, 589824: 4194304, 655360: 64, 720896: 2147487744, 786432: 2151678016, 851968: 4160, 917504: 4096, 983040: 2151682112, 32768: 2147487808, 98304: 64, 163840: 2151678016, 229376: 2147487744, 294912: 4198400, 360448: 2151682112, 425984: 0, 491520: 2151677952, 557056: 4096, 622592: 2151682048, 688128: 4194304, 753664: 4160, 819200: 2147483648, 884736: 4194368, 950272: 4198464, 1015808: 2147483712, 1048576: 4194368, 1114112: 4198400, 1179648: 2147483712, 1245184: 0, 1310720: 4160, 1376256: 2151678016, 1441792: 2151682048, 1507328: 2147487808, 1572864: 2151682112, 1638400: 2147483648, 1703936: 2151677952, 1769472: 4198464, 1835008: 2147487744, 1900544: 4194304, 1966080: 64, 2031616: 4096, 1081344: 2151677952, 1146880: 2151682112, 1212416: 0, 1277952: 4198400, 1343488: 4194368, 1409024: 2147483648, 1474560: 2147487808, 1540096: 64, 1605632: 2147483712, 1671168: 4096, 1736704: 2147487744, 1802240: 2151678016, 1867776: 4160, 1933312: 2151682048, 1998848: 4194304, 2064384: 4198464 }, { 0: 128, 4096: 17039360, 8192: 262144, 12288: 536870912, 16384: 537133184, 20480: 16777344, 24576: 553648256, 28672: 262272, 32768: 16777216, 36864: 537133056, 40960: 536871040, 45056: 553910400, 49152: 553910272, 53248: 0, 57344: 17039488, 61440: 553648128, 2048: 17039488, 6144: 553648256, 10240: 128, 14336: 17039360, 18432: 262144, 22528: 537133184, 26624: 553910272, 30720: 536870912, 34816: 537133056, 38912: 0, 43008: 553910400, 47104: 16777344, 51200: 536871040, 55296: 553648128, 59392: 16777216, 63488: 262272, 65536: 262144, 69632: 128, 73728: 536870912, 77824: 553648256, 81920: 16777344, 86016: 553910272, 90112: 537133184, 94208: 16777216, 98304: 553910400, 102400: 553648128, 106496: 17039360, 110592: 537133056, 114688: 262272, 118784: 536871040, 122880: 0, 126976: 17039488, 67584: 553648256, 71680: 16777216, 75776: 17039360, 79872: 537133184, 83968: 536870912, 88064: 17039488, 92160: 128, 96256: 553910272, 100352: 262272, 104448: 553910400, 108544: 0, 112640: 553648128, 116736: 16777344, 120832: 262144, 124928: 537133056, 129024: 536871040 }, { 0: 268435464, 256: 8192, 512: 270532608, 768: 270540808, 1024: 268443648, 1280: 2097152, 1536: 2097160, 1792: 268435456, 2048: 0, 2304: 268443656, 2560: 2105344, 2816: 8, 3072: 270532616, 3328: 2105352, 3584: 8200, 3840: 270540800, 128: 270532608, 384: 270540808, 640: 8, 896: 2097152, 1152: 2105352, 1408: 268435464, 1664: 268443648, 1920: 8200, 2176: 2097160, 2432: 8192, 2688: 268443656, 2944: 270532616, 3200: 0, 3456: 270540800, 3712: 2105344, 3968: 268435456, 4096: 268443648, 4352: 270532616, 4608: 270540808, 4864: 8200, 5120: 2097152, 5376: 268435456, 5632: 268435464, 5888: 2105344, 6144: 2105352, 6400: 0, 6656: 8, 6912: 270532608, 7168: 8192, 7424: 268443656, 7680: 270540800, 7936: 2097160, 4224: 8, 4480: 2105344, 4736: 2097152, 4992: 268435464, 5248: 268443648, 5504: 8200, 5760: 270540808, 6016: 270532608, 6272: 270540800, 6528: 270532616, 6784: 8192, 7040: 2105352, 7296: 2097160, 7552: 0, 7808: 268435456, 8064: 268443656 }, { 0: 1048576, 16: 33555457, 32: 1024, 48: 1049601, 64: 34604033, 80: 0, 96: 1, 112: 34603009, 128: 33555456, 144: 1048577, 160: 33554433, 176: 34604032, 192: 34603008, 208: 1025, 224: 1049600, 240: 33554432, 8: 34603009, 24: 0, 40: 33555457, 56: 34604032, 72: 1048576, 88: 33554433, 104: 33554432, 120: 1025, 136: 1049601, 152: 33555456, 168: 34603008, 184: 1048577, 200: 1024, 216: 34604033, 232: 1, 248: 1049600, 256: 33554432, 272: 1048576, 288: 33555457, 304: 34603009, 320: 1048577, 336: 33555456, 352: 34604032, 368: 1049601, 384: 1025, 400: 34604033, 416: 1049600, 432: 1, 448: 0, 464: 34603008, 480: 33554433, 496: 1024, 264: 1049600, 280: 33555457, 296: 34603009, 312: 1, 328: 33554432, 344: 1048576, 360: 1025, 376: 34604032, 392: 33554433, 408: 34603008, 424: 0, 440: 34604033, 456: 1049601, 472: 1024, 488: 33555456, 504: 1048577 }, { 0: 134219808, 1: 131072, 2: 134217728, 3: 32, 4: 131104, 5: 134350880, 6: 134350848, 7: 2048, 8: 134348800, 9: 134219776, 10: 133120, 11: 134348832, 12: 2080, 13: 0, 14: 134217760, 15: 133152, 2147483648: 2048, 2147483649: 134350880, 2147483650: 134219808, 2147483651: 134217728, 2147483652: 134348800, 2147483653: 133120, 2147483654: 133152, 2147483655: 32, 2147483656: 134217760, 2147483657: 2080, 2147483658: 131104, 2147483659: 134350848, 2147483660: 0, 2147483661: 134348832, 2147483662: 134219776, 2147483663: 131072, 16: 133152, 17: 134350848, 18: 32, 19: 2048, 20: 134219776, 21: 134217760, 22: 134348832, 23: 131072, 24: 0, 25: 131104, 26: 134348800, 27: 134219808, 28: 134350880, 29: 133120, 30: 2080, 31: 134217728, 2147483664: 131072, 2147483665: 2048, 2147483666: 134348832, 2147483667: 133152, 2147483668: 32, 2147483669: 134348800, 2147483670: 134217728, 2147483671: 134219808, 2147483672: 134350880, 2147483673: 134217760, 2147483674: 134219776, 2147483675: 0, 2147483676: 133120, 2147483677: 2080, 2147483678: 131104, 2147483679: 134350848 }], u3 = [4160749569, 528482304, 33030144, 2064384, 129024, 8064, 504, 2147483679], i3 = n3.DES = a3.extend({ _doReset: function() {
            for (var e3 = this._key.words, t3 = [], a4 = 0; a4 < 56; a4++) {
              var n4 = c3[a4] - 1;
              t3[a4] = e3[n4 >>> 5] >>> 31 - n4 % 32 & 1;
            }
            for (var r4 = this._subKeys = [], i4 = 0; i4 < 16; i4++) {
              var o4 = r4[i4] = [], s3 = f3[i4];
              for (a4 = 0; a4 < 24; a4++) o4[a4 / 6 | 0] |= t3[(d3[a4] - 1 + s3) % 28] << 31 - a4 % 6, o4[4 + (a4 / 6 | 0)] |= t3[28 + (d3[a4 + 24] - 1 + s3) % 28] << 31 - a4 % 6;
              o4[0] = o4[0] << 1 | o4[0] >>> 31;
              for (a4 = 1; a4 < 7; a4++) o4[a4] = o4[a4] >>> 4 * (a4 - 1) + 3;
              o4[7] = o4[7] << 5 | o4[7] >>> 27;
            }
            var l3 = this._invSubKeys = [];
            for (a4 = 0; a4 < 16; a4++) l3[a4] = r4[15 - a4];
          }, encryptBlock: function(e3, t3) {
            this._doCryptBlock(e3, t3, this._subKeys);
          }, decryptBlock: function(e3, t3) {
            this._doCryptBlock(e3, t3, this._invSubKeys);
          }, _doCryptBlock: function(e3, t3, a4) {
            this._lBlock = e3[t3], this._rBlock = e3[t3 + 1], g3.call(this, 4, 252645135), g3.call(this, 16, 65535), h3.call(this, 2, 858993459), h3.call(this, 8, 16711935), g3.call(this, 1, 1431655765);
            for (var n4 = 0; n4 < 16; n4++) {
              for (var r4 = a4[n4], i4 = this._lBlock, o4 = this._rBlock, s3 = 0, l3 = 0; l3 < 8; l3++) s3 |= p3[l3][((o4 ^ r4[l3]) & u3[l3]) >>> 0];
              this._lBlock = o4, this._rBlock = i4 ^ s3;
            }
            var c4 = this._lBlock;
            this._lBlock = this._rBlock, this._rBlock = c4, g3.call(this, 1, 1431655765), h3.call(this, 8, 16711935), h3.call(this, 2, 858993459), g3.call(this, 16, 65535), g3.call(this, 4, 252645135), e3[t3] = this._lBlock, e3[t3 + 1] = this._rBlock;
          }, keySize: 2, ivSize: 2, blockSize: 2 });
          function g3(e3, t3) {
            var a4 = (this._lBlock >>> e3 ^ this._rBlock) & t3;
            this._rBlock ^= a4, this._lBlock ^= a4 << e3;
          }
          function h3(e3, t3) {
            var a4 = (this._rBlock >>> e3 ^ this._lBlock) & t3;
            this._lBlock ^= a4, this._rBlock ^= a4 << e3;
          }
          e2.DES = a3._createHelper(i3);
          var o3 = n3.TripleDES = a3.extend({ _doReset: function() {
            var e3 = this._key.words;
            if (2 !== e3.length && 4 !== e3.length && e3.length < 6) throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");
            var t3 = e3.slice(0, 2), a4 = e3.length < 4 ? e3.slice(0, 2) : e3.slice(2, 4), n4 = e3.length < 6 ? e3.slice(0, 2) : e3.slice(4, 6);
            this._des1 = i3.createEncryptor(r3.create(t3)), this._des2 = i3.createEncryptor(r3.create(a4)), this._des3 = i3.createEncryptor(r3.create(n4));
          }, encryptBlock: function(e3, t3) {
            this._des1.encryptBlock(e3, t3), this._des2.decryptBlock(e3, t3), this._des3.encryptBlock(e3, t3);
          }, decryptBlock: function(e3, t3) {
            this._des3.decryptBlock(e3, t3), this._des2.encryptBlock(e3, t3), this._des1.decryptBlock(e3, t3);
          }, keySize: 6, ivSize: 2, blockSize: 2 });
          e2.TripleDES = a3._createHelper(o3);
        }(), function() {
          var e2 = ve, t2 = e2.lib.StreamCipher, a3 = e2.algo, n3 = a3.RC4 = t2.extend({ _doReset: function() {
            for (var e3 = this._key, t3 = e3.words, a4 = e3.sigBytes, n4 = this._S = [], r4 = 0; r4 < 256; r4++) n4[r4] = r4;
            r4 = 0;
            for (var i4 = 0; r4 < 256; r4++) {
              var o3 = r4 % a4, s3 = t3[o3 >>> 2] >>> 24 - o3 % 4 * 8 & 255;
              i4 = (i4 + n4[r4] + s3) % 256;
              var l3 = n4[r4];
              n4[r4] = n4[i4], n4[i4] = l3;
            }
            this._i = this._j = 0;
          }, _doProcessBlock: function(e3, t3) {
            e3[t3] ^= r3.call(this);
          }, keySize: 8, ivSize: 0 });
          function r3() {
            for (var e3 = this._S, t3 = this._i, a4 = this._j, n4 = 0, r4 = 0; r4 < 4; r4++) {
              a4 = (a4 + e3[t3 = (t3 + 1) % 256]) % 256;
              var i4 = e3[t3];
              e3[t3] = e3[a4], e3[a4] = i4, n4 |= e3[(e3[t3] + e3[a4]) % 256] << 24 - 8 * r4;
            }
            return this._i = t3, this._j = a4, n4;
          }
          e2.RC4 = t2._createHelper(n3);
          var i3 = a3.RC4Drop = n3.extend({ cfg: n3.cfg.extend({ drop: 192 }), _doReset: function() {
            n3._doReset.call(this);
            for (var e3 = this.cfg.drop; 0 < e3; e3--) r3.call(this);
          } });
          e2.RC4Drop = t2._createHelper(i3);
        }(), ve.mode.CTRGladman = function() {
          var e2 = ve.lib.BlockCipherMode.extend();
          function c3(e3) {
            if (255 == (e3 >> 24 & 255)) {
              var t3 = e3 >> 16 & 255, a3 = e3 >> 8 & 255, n3 = 255 & e3;
              255 === t3 ? (t3 = 0, 255 === a3 ? (a3 = 0, 255 === n3 ? n3 = 0 : ++n3) : ++a3) : ++t3, e3 = 0, e3 += t3 << 16, e3 += a3 << 8, e3 += n3;
            } else e3 += 1 << 24;
            return e3;
          }
          var t2 = e2.Encryptor = e2.extend({ processBlock: function(e3, t3) {
            var a3 = this._cipher, n3 = a3.blockSize, r3 = this._iv, i3 = this._counter;
            r3 && (i3 = this._counter = r3.slice(0), this._iv = void 0), function l3(e4) {
              return 0 === (e4[0] = c3(e4[0])) && (e4[1] = c3(e4[1])), e4;
            }(i3);
            var o3 = i3.slice(0);
            a3.encryptBlock(o3, 0);
            for (var s3 = 0; s3 < n3; s3++) e3[t3 + s3] ^= o3[s3];
          } });
          return e2.Decryptor = t2, e2;
        }(), function() {
          var e2 = ve, t2 = e2.lib.StreamCipher, a3 = e2.algo, r3 = [], l3 = [], c3 = [], n3 = a3.Rabbit = t2.extend({ _doReset: function() {
            for (var e3 = this._key.words, t3 = this.cfg.iv, a4 = 0; a4 < 4; a4++) e3[a4] = 16711935 & (e3[a4] << 8 | e3[a4] >>> 24) | 4278255360 & (e3[a4] << 24 | e3[a4] >>> 8);
            var n4 = this._X = [e3[0], e3[3] << 16 | e3[2] >>> 16, e3[1], e3[0] << 16 | e3[3] >>> 16, e3[2], e3[1] << 16 | e3[0] >>> 16, e3[3], e3[2] << 16 | e3[1] >>> 16], r4 = this._C = [e3[2] << 16 | e3[2] >>> 16, 4294901760 & e3[0] | 65535 & e3[1], e3[3] << 16 | e3[3] >>> 16, 4294901760 & e3[1] | 65535 & e3[2], e3[0] << 16 | e3[0] >>> 16, 4294901760 & e3[2] | 65535 & e3[3], e3[1] << 16 | e3[1] >>> 16, 4294901760 & e3[3] | 65535 & e3[0]];
            for (a4 = this._b = 0; a4 < 4; a4++) p3.call(this);
            for (a4 = 0; a4 < 8; a4++) r4[a4] ^= n4[a4 + 4 & 7];
            if (t3) {
              var i3 = t3.words, o3 = i3[0], s3 = i3[1], l4 = 16711935 & (o3 << 8 | o3 >>> 24) | 4278255360 & (o3 << 24 | o3 >>> 8), c4 = 16711935 & (s3 << 8 | s3 >>> 24) | 4278255360 & (s3 << 24 | s3 >>> 8), d3 = l4 >>> 16 | 4294901760 & c4, f3 = c4 << 16 | 65535 & l4;
              r4[0] ^= l4, r4[1] ^= d3, r4[2] ^= c4, r4[3] ^= f3, r4[4] ^= l4, r4[5] ^= d3, r4[6] ^= c4, r4[7] ^= f3;
              for (a4 = 0; a4 < 4; a4++) p3.call(this);
            }
          }, _doProcessBlock: function(e3, t3) {
            var a4 = this._X;
            p3.call(this), r3[0] = a4[0] ^ a4[5] >>> 16 ^ a4[3] << 16, r3[1] = a4[2] ^ a4[7] >>> 16 ^ a4[5] << 16, r3[2] = a4[4] ^ a4[1] >>> 16 ^ a4[7] << 16, r3[3] = a4[6] ^ a4[3] >>> 16 ^ a4[1] << 16;
            for (var n4 = 0; n4 < 4; n4++) r3[n4] = 16711935 & (r3[n4] << 8 | r3[n4] >>> 24) | 4278255360 & (r3[n4] << 24 | r3[n4] >>> 8), e3[t3 + n4] ^= r3[n4];
          }, blockSize: 4, ivSize: 2 });
          function p3() {
            for (var e3 = this._X, t3 = this._C, a4 = 0; a4 < 8; a4++) l3[a4] = t3[a4];
            t3[0] = t3[0] + 1295307597 + this._b | 0, t3[1] = t3[1] + 3545052371 + (t3[0] >>> 0 < l3[0] >>> 0 ? 1 : 0) | 0, t3[2] = t3[2] + 886263092 + (t3[1] >>> 0 < l3[1] >>> 0 ? 1 : 0) | 0, t3[3] = t3[3] + 1295307597 + (t3[2] >>> 0 < l3[2] >>> 0 ? 1 : 0) | 0, t3[4] = t3[4] + 3545052371 + (t3[3] >>> 0 < l3[3] >>> 0 ? 1 : 0) | 0, t3[5] = t3[5] + 886263092 + (t3[4] >>> 0 < l3[4] >>> 0 ? 1 : 0) | 0, t3[6] = t3[6] + 1295307597 + (t3[5] >>> 0 < l3[5] >>> 0 ? 1 : 0) | 0, t3[7] = t3[7] + 3545052371 + (t3[6] >>> 0 < l3[6] >>> 0 ? 1 : 0) | 0, this._b = t3[7] >>> 0 < l3[7] >>> 0 ? 1 : 0;
            for (a4 = 0; a4 < 8; a4++) {
              var n4 = e3[a4] + t3[a4], r4 = 65535 & n4, i3 = n4 >>> 16, o3 = ((r4 * r4 >>> 17) + r4 * i3 >>> 15) + i3 * i3, s3 = ((4294901760 & n4) * n4 | 0) + ((65535 & n4) * n4 | 0);
              c3[a4] = o3 ^ s3;
            }
            e3[0] = c3[0] + (c3[7] << 16 | c3[7] >>> 16) + (c3[6] << 16 | c3[6] >>> 16) | 0, e3[1] = c3[1] + (c3[0] << 8 | c3[0] >>> 24) + c3[7] | 0, e3[2] = c3[2] + (c3[1] << 16 | c3[1] >>> 16) + (c3[0] << 16 | c3[0] >>> 16) | 0, e3[3] = c3[3] + (c3[2] << 8 | c3[2] >>> 24) + c3[1] | 0, e3[4] = c3[4] + (c3[3] << 16 | c3[3] >>> 16) + (c3[2] << 16 | c3[2] >>> 16) | 0, e3[5] = c3[5] + (c3[4] << 8 | c3[4] >>> 24) + c3[3] | 0, e3[6] = c3[6] + (c3[5] << 16 | c3[5] >>> 16) + (c3[4] << 16 | c3[4] >>> 16) | 0, e3[7] = c3[7] + (c3[6] << 8 | c3[6] >>> 24) + c3[5] | 0;
          }
          e2.Rabbit = t2._createHelper(n3);
        }(), ve.mode.CTR = (he = ve.lib.BlockCipherMode.extend(), me = he.Encryptor = he.extend({ processBlock: function(e2, t2) {
          var a3 = this._cipher, n3 = a3.blockSize, r3 = this._iv, i3 = this._counter;
          r3 && (i3 = this._counter = r3.slice(0), this._iv = void 0);
          var o3 = i3.slice(0);
          a3.encryptBlock(o3, 0), i3[n3 - 1] = i3[n3 - 1] + 1 | 0;
          for (var s3 = 0; s3 < n3; s3++) e2[t2 + s3] ^= o3[s3];
        } }), he.Decryptor = me, he), function() {
          var e2 = ve, t2 = e2.lib.StreamCipher, a3 = e2.algo, r3 = [], l3 = [], c3 = [], n3 = a3.RabbitLegacy = t2.extend({ _doReset: function() {
            for (var e3 = this._key.words, t3 = this.cfg.iv, a4 = this._X = [e3[0], e3[3] << 16 | e3[2] >>> 16, e3[1], e3[0] << 16 | e3[3] >>> 16, e3[2], e3[1] << 16 | e3[0] >>> 16, e3[3], e3[2] << 16 | e3[1] >>> 16], n4 = this._C = [e3[2] << 16 | e3[2] >>> 16, 4294901760 & e3[0] | 65535 & e3[1], e3[3] << 16 | e3[3] >>> 16, 4294901760 & e3[1] | 65535 & e3[2], e3[0] << 16 | e3[0] >>> 16, 4294901760 & e3[2] | 65535 & e3[3], e3[1] << 16 | e3[1] >>> 16, 4294901760 & e3[3] | 65535 & e3[0]], r4 = this._b = 0; r4 < 4; r4++) p3.call(this);
            for (r4 = 0; r4 < 8; r4++) n4[r4] ^= a4[r4 + 4 & 7];
            if (t3) {
              var i3 = t3.words, o3 = i3[0], s3 = i3[1], l4 = 16711935 & (o3 << 8 | o3 >>> 24) | 4278255360 & (o3 << 24 | o3 >>> 8), c4 = 16711935 & (s3 << 8 | s3 >>> 24) | 4278255360 & (s3 << 24 | s3 >>> 8), d3 = l4 >>> 16 | 4294901760 & c4, f3 = c4 << 16 | 65535 & l4;
              n4[0] ^= l4, n4[1] ^= d3, n4[2] ^= c4, n4[3] ^= f3, n4[4] ^= l4, n4[5] ^= d3, n4[6] ^= c4, n4[7] ^= f3;
              for (r4 = 0; r4 < 4; r4++) p3.call(this);
            }
          }, _doProcessBlock: function(e3, t3) {
            var a4 = this._X;
            p3.call(this), r3[0] = a4[0] ^ a4[5] >>> 16 ^ a4[3] << 16, r3[1] = a4[2] ^ a4[7] >>> 16 ^ a4[5] << 16, r3[2] = a4[4] ^ a4[1] >>> 16 ^ a4[7] << 16, r3[3] = a4[6] ^ a4[3] >>> 16 ^ a4[1] << 16;
            for (var n4 = 0; n4 < 4; n4++) r3[n4] = 16711935 & (r3[n4] << 8 | r3[n4] >>> 24) | 4278255360 & (r3[n4] << 24 | r3[n4] >>> 8), e3[t3 + n4] ^= r3[n4];
          }, blockSize: 4, ivSize: 2 });
          function p3() {
            for (var e3 = this._X, t3 = this._C, a4 = 0; a4 < 8; a4++) l3[a4] = t3[a4];
            t3[0] = t3[0] + 1295307597 + this._b | 0, t3[1] = t3[1] + 3545052371 + (t3[0] >>> 0 < l3[0] >>> 0 ? 1 : 0) | 0, t3[2] = t3[2] + 886263092 + (t3[1] >>> 0 < l3[1] >>> 0 ? 1 : 0) | 0, t3[3] = t3[3] + 1295307597 + (t3[2] >>> 0 < l3[2] >>> 0 ? 1 : 0) | 0, t3[4] = t3[4] + 3545052371 + (t3[3] >>> 0 < l3[3] >>> 0 ? 1 : 0) | 0, t3[5] = t3[5] + 886263092 + (t3[4] >>> 0 < l3[4] >>> 0 ? 1 : 0) | 0, t3[6] = t3[6] + 1295307597 + (t3[5] >>> 0 < l3[5] >>> 0 ? 1 : 0) | 0, t3[7] = t3[7] + 3545052371 + (t3[6] >>> 0 < l3[6] >>> 0 ? 1 : 0) | 0, this._b = t3[7] >>> 0 < l3[7] >>> 0 ? 1 : 0;
            for (a4 = 0; a4 < 8; a4++) {
              var n4 = e3[a4] + t3[a4], r4 = 65535 & n4, i3 = n4 >>> 16, o3 = ((r4 * r4 >>> 17) + r4 * i3 >>> 15) + i3 * i3, s3 = ((4294901760 & n4) * n4 | 0) + ((65535 & n4) * n4 | 0);
              c3[a4] = o3 ^ s3;
            }
            e3[0] = c3[0] + (c3[7] << 16 | c3[7] >>> 16) + (c3[6] << 16 | c3[6] >>> 16) | 0, e3[1] = c3[1] + (c3[0] << 8 | c3[0] >>> 24) + c3[7] | 0, e3[2] = c3[2] + (c3[1] << 16 | c3[1] >>> 16) + (c3[0] << 16 | c3[0] >>> 16) | 0, e3[3] = c3[3] + (c3[2] << 8 | c3[2] >>> 24) + c3[1] | 0, e3[4] = c3[4] + (c3[3] << 16 | c3[3] >>> 16) + (c3[2] << 16 | c3[2] >>> 16) | 0, e3[5] = c3[5] + (c3[4] << 8 | c3[4] >>> 24) + c3[3] | 0, e3[6] = c3[6] + (c3[5] << 16 | c3[5] >>> 16) + (c3[4] << 16 | c3[4] >>> 16) | 0, e3[7] = c3[7] + (c3[6] << 8 | c3[6] >>> 24) + c3[5] | 0;
          }
          e2.RabbitLegacy = t2._createHelper(n3);
        }(), ve.pad.ZeroPadding = { pad: function(e2, t2) {
          var a3 = 4 * t2;
          e2.clamp(), e2.sigBytes += a3 - (e2.sigBytes % a3 || a3);
        }, unpad: function(e2) {
          var t2 = e2.words, a3 = e2.sigBytes - 1;
          for (a3 = e2.sigBytes - 1; 0 <= a3; a3--) if (t2[a3 >>> 2] >>> 24 - a3 % 4 * 8 & 255) {
            e2.sigBytes = a3 + 1;
            break;
          }
        } }, { init: function be() {
        }, cryptoJS: ve };
      }, Object.assign(St.DEFAULTS, { fontFamily: { "Arial,Helvetica,sans-serif": "Arial", "Georgia,serif": "Georgia", "Impact,Charcoal,sans-serif": "Impact", "Tahoma,Geneva,sans-serif": "Tahoma", "Times New Roman,Times,serif,-webkit-standard": "Times New Roman", "Verdana,Geneva,sans-serif": "Verdana" }, fontFamilySelection: false, fontFamilyDefaultSelection: "Font Family" }), St.PLUGINS.fontFamily = function(r2) {
        var i2 = r2.$;
        function o2(e) {
          var t = e.replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi, "").replace(/"|'| /g, "").split(",");
          return i2(this).grep(t, function(e2) {
            return 0 < e2.length;
          });
        }
        function s2(e, t) {
          for (var a3 = 0; a3 < e.length; a3++) for (var n2 = 0; n2 < t.length; n2++) if (e[a3].toLowerCase() === t[n2].toLowerCase()) return [a3, n2];
          return null;
        }
        function a2() {
          var e = o2(i2(r2.selection.element()).css("font-family")), t = [];
          for (var a3 in r2.opts.fontFamily) if (r2.opts.fontFamily.hasOwnProperty(a3)) {
            var n2 = s2(e, o2(a3));
            n2 && t.push([a3, n2]);
          }
          return 0 === t.length ? null : (t.sort(function(e2, t2) {
            var a4 = e2[1][0] - t2[1][0];
            return 0 === a4 ? e2[1][1] - t2[1][1] : a4;
          }), t[0][0]);
        }
        return { apply: function t(e) {
          r2.format.applyStyle("font-family", e);
        }, refreshOnShow: function n2(e, t) {
          t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected", false), t.find('.fr-command[data-param1="'.concat(a2(), '"]')).addClass("fr-active").attr("aria-selected", true);
        }, refresh: function l2(e) {
          if (r2.opts.fontFamilySelection) {
            var t = i2(r2.selection.element()).css("font-family").replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi, "").replace(/"|'|/g, "").split(",");
            e.find("> span").text(r2.opts.fontFamily[a2()] || t[0] || r2.language.translate(r2.opts.fontFamilyDefaultSelection));
          }
        } };
      }, St.RegisterCommand("fontFamily", { type: "dropdown", displaySelection: function(e) {
        return e.opts.fontFamilySelection;
      }, defaultSelection: function(e) {
        return e.opts.fontFamilyDefaultSelection;
      }, displaySelectionWidth: 120, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.fontFamily;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontFamily" data-param1="'.concat(a2, '" \n        style="font-family: ').concat(a2, '" title="').concat(t[a2], '">').concat(t[a2], "</a></li>"));
        return e += "</ul>";
      }, title: "Font Family", callback: function(e, t) {
        this.fontFamily.apply(t);
      }, refresh: function(e) {
        this.fontFamily.refresh(e);
      }, refreshOnShow: function(e, t) {
        this.fontFamily.refreshOnShow(e, t);
      }, plugin: "fontFamily" }), St.DefineIcon("fontFamily", { NAME: "font", SVG_KEY: "fontFamily" }), Object.assign(St.DEFAULTS, { fontSize: ["8", "9", "10", "11", "12", "14", "18", "24", "30", "36", "48", "60", "72", "96"], fontSizeSelection: false, fontSizeDefaultSelection: "Font Size", fontSizeUnit: "px" }), St.PLUGINS.fontSize = function(n2) {
        var r2 = n2.$;
        return { apply: function t(e) {
          n2.format.applyStyle("font-size", e);
        }, refreshOnShow: function i2(e, t) {
          var a2 = r2(n2.selection.element()).css("font-size");
          "pt" === n2.opts.fontSizeUnit && (a2 = "".concat(Math.round(72 * parseFloat(a2, 10) / 96), "pt")), t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected", false), t.find('.fr-command[data-param1="'.concat(a2, '"]')).addClass("fr-active").attr("aria-selected", true);
        }, refresh: function a2(e) {
          if (n2.opts.fontSizeSelection) {
            var t = n2.helpers.getPX(r2(n2.selection.element()).css("font-size"));
            "pt" === n2.opts.fontSizeUnit && (t = "".concat(Math.round(72 * parseFloat(t, 10) / 96), "pt")), e.find("> span").text(t);
          }
        } };
      }, St.RegisterCommand("fontSize", { type: "dropdown", title: "Font Size", displaySelection: function(e) {
        return e.opts.fontSizeSelection;
      }, displaySelectionWidth: 30, defaultSelection: function(e) {
        return e.opts.fontSizeDefaultSelection;
      }, html: function() {
        for (var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.fontSize, a2 = 0; a2 < t.length; a2++) {
          var n2 = t[a2];
          e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontSize" data-param1="'.concat(n2).concat(this.opts.fontSizeUnit, '" title="').concat(n2, '">').concat(n2, "</a></li>");
        }
        return e += "</ul>";
      }, callback: function(e, t) {
        this.fontSize.apply(t);
      }, refresh: function(e) {
        this.fontSize.refresh(e);
      }, refreshOnShow: function(e, t) {
        this.fontSize.refreshOnShow(e, t);
      }, plugin: "fontSize" }), St.DefineIcon("fontSize", { NAME: "text-height", SVG_KEY: "fontSize" }), Object.assign(St.POPUP_TEMPLATES, { "forms.edit": "[_BUTTONS_]", "forms.update": "[_BUTTONS_][_TEXT_LAYER_]" }), Object.assign(St.DEFAULTS, { formEditButtons: ["inputStyle", "inputEdit"], formStyles: { "fr-rounded": "Rounded", "fr-large": "Large" }, formMultipleStyles: true, formUpdateButtons: ["inputBack", "|"] }), St.PLUGINS.forms = function(o2) {
        var s2, l2 = o2.$;
        function t(e) {
          o2.selection.clear(), l2(this).data("mousedown", true);
        }
        function a2(e) {
          l2(this).data("mousedown") && (e.stopPropagation(), l2(this).removeData("mousedown"), d2(s2 = this)), e.preventDefault();
        }
        function n2() {
          o2.$el.find("input, textarea, button").removeData("mousedown");
        }
        function r2() {
          l2(this).removeData("mousedown");
        }
        function c2() {
          return s2 || null;
        }
        function d2(e) {
          if (-1 == ["checkbox", "radio"].indexOf(e.type)) {
            var t2 = o2.popups.get("forms.edit");
            t2 || (t2 = function i3() {
              var e2 = "";
              0 < o2.opts.formEditButtons.length && (e2 = '<div class="fr-buttons">'.concat(o2.button.buildList(o2.opts.formEditButtons), "</div>"));
              var t3 = { buttons: e2 }, a4 = o2.popups.create("forms.edit", t3);
              return o2.$wp && o2.events.$on(o2.$wp, "scroll.link-edit", function() {
                c2() && o2.popups.isVisible("forms.edit") && d2(c2());
              }), a4;
            }());
            var a3 = l2(s2 = e);
            o2.popups.refresh("forms.edit"), o2.popups.setContainer("forms.edit", o2.$sc);
            var n3 = a3.offset().left + a3.outerWidth() / 2, r3 = a3.offset().top + a3.outerHeight();
            o2.popups.show("forms.edit", n3, r3, a3.outerHeight());
          }
        }
        function i2() {
          var e = o2.popups.get("forms.update"), t2 = c2();
          if (t2) {
            var a3 = l2(t2);
            a3.is("button") ? e.find('input[type="text"][name="text"]').val(a3.text()) : a3.is("input[type=button]") || a3.is("input[type=submit]") || a3.is("input[type=reset]") ? e.find('input[type="text"][name="text"]').val(a3.val()) : e.find('input[type="text"][name="text"]').val(a3.attr("placeholder"));
          }
          e.find('input[type="text"][name="text"]').trigger("change");
        }
        function f2() {
          s2 = null;
        }
        function p2(e) {
          if (e) return o2.popups.onRefresh("forms.update", i2), o2.popups.onHide("forms.update", f2), true;
          var t2 = "";
          1 <= o2.opts.formUpdateButtons.length && (t2 = '<div class="fr-buttons">'.concat(o2.button.buildList(o2.opts.formUpdateButtons), "</div>"));
          var a3 = 0, n3 = { buttons: t2, text_layer: '<div class="fr-forms-text-layer fr-layer fr-active"> \n    <div class="fr-input-line"><input name="text" type="text" placeholder="Text" tabIndex=" '.concat(++a3, ' "></div>\n    <div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="updateInput" href="#" tabIndex="').concat(2, '" type="button">').concat(o2.language.translate("Update"), "</button></div></div>") };
          return o2.popups.create("forms.update", n3);
        }
        return { _init: function u2() {
          !function e() {
            o2.events.$on(o2.$el, o2._mousedown, "input, textarea, button", t), o2.events.$on(o2.$el, o2._mouseup, "input, textarea, button", a2), o2.events.$on(o2.$el, "touchmove", "input, textarea, button", r2), o2.events.$on(o2.$el, o2._mouseup, n2), o2.events.$on(o2.$win, o2._mouseup, n2), p2(true);
          }(), o2.events.$on(o2.$el, "submit", "form", function(e) {
            return e.preventDefault(), false;
          });
        }, updateInput: function g2() {
          var e = o2.popups.get("forms.update"), t2 = c2();
          if (t2) {
            var a3 = l2(t2), n3 = e.find('input[type="text"][name="text"]').val() || "";
            a3.is("button") ? n3.length ? a3.text(n3) : a3.text("​") : -1 != ["button", "submit", "reset"].indexOf(t2.type) ? a3.attr("value", n3) : a3.attr("placeholder", n3), o2.popups.hide("forms.update"), d2(t2);
          }
        }, getInput: c2, applyStyle: function h2(e, t2, a3) {
          void 0 === t2 && (t2 = o2.opts.formStyles), void 0 === a3 && (a3 = o2.opts.formMultipleStyles);
          var n3 = c2();
          if (!n3) return false;
          if (!a3) {
            var r3 = Object.keys(t2);
            r3.splice(r3.indexOf(e), 1), l2(n3).removeClass(r3.join(" "));
          }
          l2(n3).toggleClass(e);
        }, showUpdatePopup: function m2() {
          var e = c2();
          if (e) {
            var t2 = l2(e), a3 = o2.popups.get("forms.update");
            a3 || (a3 = p2()), o2.popups.isVisible("forms.update") || o2.popups.refresh("forms.update"), o2.popups.setContainer("forms.update", o2.$sc);
            var n3 = t2.offset().left + t2.outerWidth() / 2, r3 = t2.offset().top + t2.outerHeight();
            o2.popups.show("forms.update", n3, r3, t2.outerHeight());
          }
        }, showEditPopup: d2, back: function v2() {
          o2.events.disableBlur(), o2.selection.restore(), o2.events.enableBlur();
          var e = c2();
          e && o2.$wp && ("BUTTON" === e.tagName && o2.selection.restore(), d2(e));
        } };
      }, St.RegisterCommand("updateInput", { undo: false, focus: false, title: "Update", callback: function() {
        this.forms.updateInput();
      } }), St.DefineIcon("inputStyle", { NAME: "magic", SVG_KEY: "inlineStyle" }), St.RegisterCommand("inputStyle", { title: "Style", type: "dropdown", html: function() {
        var e = '<ul class="fr-dropdown-list">', t = this.opts.formStyles;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li><a class="fr-command" tabIndex="-1" data-cmd="inputStyle" data-param1="'.concat(a2, '">').concat(this.language.translate(t[a2]), "</a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        var a2 = this.forms.getInput();
        a2 && (this.forms.applyStyle(t), this.forms.showEditPopup(a2));
      }, refreshOnShow: function(e, t) {
        var a2 = this.$, n2 = this.forms.getInput();
        if (n2) {
          var r2 = a2(n2);
          t.find(".fr-command").each(function() {
            var e2 = a2(this).data("param1");
            a2(this).toggleClass("fr-active", r2.hasClass(e2));
          });
        }
      } }), St.DefineIcon("inputEdit", { NAME: "edit", SVG_KEY: "edit" }), St.RegisterCommand("inputEdit", { title: "Edit Button", undo: false, refreshAfterCallback: false, callback: function() {
        this.forms.showUpdatePopup();
      } }), St.DefineIcon("inputBack", { NAME: "arrow-left", SVG_KEY: "back" }), St.RegisterCommand("inputBack", { title: "Back", undo: false, focus: false, back: true, refreshAfterCallback: false, callback: function() {
        this.forms.back();
      } }), St.RegisterCommand("updateInput", { undo: false, focus: false, title: "Update", callback: function() {
        this.forms.updateInput();
      } }), St.PLUGINS.fullscreen = function(r2) {
        var t, a2, n2, i2, o2 = r2.$, s2 = function s3() {
          return r2.$box.hasClass("fr-fullscreen");
        };
        function l2() {
          if (r2.helpers.isIOS() && r2.core.hasFocus()) return r2.$el.blur(), setTimeout(d2, 250), false;
          t = r2.helpers.scrollTop(), r2.opts.iframe && r2.markdown && r2.markdown.isEnabled() && (r2.$box = r2.$oel), r2.$box.toggleClass("fr-fullscreen"), o2("body").first().toggleClass("fr-fullscreen"), r2.helpers.isMobile() && (r2.opts.toolbarBottom ? r2.$tb[0].removeAttribute("style") : (r2.$tb.data("parent", r2.$tb.parent()), r2.$box.prepend(r2.$tb), r2.$tb.data("sticky-dummy") && r2.$tb.after(r2.$tb.data("sticky-dummy")))), a2 = r2.opts.height, n2 = r2.opts.heightMax, i2 = r2.opts.zIndex, r2.opts.height = r2.o_win.innerHeight - (r2.opts.toolbarInline ? 0 : r2.$tb.outerHeight() + (r2.$second_tb ? r2.$second_tb.outerHeight() : 0)), r2.opts.zIndex = 2147483641, r2.opts.heightMax = null, r2.size.refresh(), r2.opts.toolbarInline && r2.toolbar.showInline();
          for (var e = r2.$box.parent(); !e.first().is("body"); ) e.addClass("fr-fullscreen-wrapper"), e = e.parent();
          r2.opts.toolbarContainer && r2.$box.prepend(r2.$tb), r2.events.trigger("charCounter.update"), r2.events.trigger("codeView.update"), r2.$win.trigger("scroll");
        }
        function c2() {
          if (r2.helpers.isIOS() && r2.core.hasFocus()) return r2.$el.blur(), setTimeout(d2, 250), false;
          r2.$box.toggleClass("fr-fullscreen"), o2("body").first().toggleClass("fr-fullscreen"), r2.$tb.data("parent") && r2.$tb.data("parent").prepend(r2.$tb), r2.$tb.data("sticky-dummy") && r2.$tb.after(r2.$tb.data("sticky-dummy")), r2.opts.height = a2, r2.opts.heightMax = n2, r2.opts.zIndex = i2, r2.size.refresh(), r2.o_win.scroll(0, t), r2.opts.toolbarInline && r2.toolbar.showInline(), r2.events.trigger("charCounter.update"), r2.opts.toolbarSticky && r2.opts.toolbarStickyOffset && (r2.opts.toolbarBottom ? r2.$tb.css("bottom", r2.opts.toolbarStickyOffset).data("bottom", r2.opts.toolbarStickyOffset) : r2.$tb.css("top", r2.opts.toolbarStickyOffset).data("top", r2.opts.toolbarStickyOffset));
          for (var e = r2.$box.parent(); !e.first().is("body"); ) e.removeClass("fr-fullscreen-wrapper"), e = e.parent();
          r2.opts.toolbarContainer && o2(r2.opts.toolbarContainer).append(r2.$tb), o2(r2.o_win).trigger("scroll"), r2.events.trigger("codeView.update");
        }
        function d2() {
          s2() ? c2() : l2(), f2(r2.$tb.find('.fr-command[data-cmd="fullscreen"]'));
          var e = r2.$tb.find('.fr-command[data-cmd="moreText"]'), t2 = r2.$tb.find('.fr-command[data-cmd="moreParagraph"]'), a3 = r2.$tb.find('.fr-command[data-cmd="moreRich"]'), n3 = r2.$tb.find('.fr-command[data-cmd="moreMisc"]');
          e.length && r2.refresh.moreText(e), t2.length && r2.refresh.moreParagraph(t2), a3.length && r2.refresh.moreRich(a3), n3.length && r2.refresh.moreMisc(n3);
        }
        function f2(e) {
          var t2 = s2();
          e.toggleClass("fr-active", t2).attr("aria-pressed", t2), e.find("> *").not(".fr-sr-only").replaceWith(t2 ? r2.icon.create("fullscreenCompress") : r2.icon.create("fullscreen"));
        }
        return { _init: function e() {
          if (!r2.$wp) return false;
          r2.events.$on(o2(r2.o_win), "resize", function() {
            s2() && (c2(), l2());
          }), r2.events.on("toolbar.hide", function() {
            if (s2() && r2.helpers.isMobile()) return false;
          }), r2.events.on("position.refresh", function() {
            if (r2.helpers.isIOS()) return !s2();
          }), r2.events.on("destroy", function() {
            s2() && c2();
          }, true);
        }, toggle: d2, refresh: f2, isActive: s2 };
      }, St.RegisterCommand("fullscreen", { title: "Fullscreen", undo: false, focus: false, accessibilityFocus: true, forcedRefresh: true, toggle: true, callback: function() {
        this.fullscreen.toggle();
      }, refresh: function(e) {
        this.fullscreen.refresh(e);
      }, plugin: "fullscreen" }), St.DefineIcon("fullscreen", { NAME: "expand", SVG_KEY: "fullscreen" }), St.DefineIcon("fullscreenCompress", { NAME: "compress", SVG_KEY: "exitFullscreen" }), Object.assign(St.DEFAULTS, { helpSets: [{ title: "Inline Editor", commands: [{ val: "OSkeyE", desc: "Show the editor" }] }, { title: "Common actions", commands: [{ val: "OSkeyC", desc: "Copy" }, { val: "OSkeyX", desc: "Cut" }, { val: "OSkeyV", desc: "Paste" }, { val: "OSkeyZ", desc: "Undo" }, { val: "OSkeyShift+Z", desc: "Redo" }, { val: "OSkeyK", desc: "Insert Link" }, { val: "OSkeyP", desc: "Insert Image" }] }, { title: "Basic Formatting", commands: [{ val: "OSkeyA", desc: "Select All" }, { val: "OSkeyB", desc: "Bold" }, { val: "OSkeyI", desc: "Italic" }, { val: "OSkeyU", desc: "Underline" }, { val: "OSkeyS", desc: "Strikethrough" }, { val: "OSkey]", desc: "Increase Indent" }, { val: "OSkey[", desc: "Decrease Indent" }] }, { title: "Quote", commands: [{ val: "OSkey'", desc: "Increase quote level" }, { val: "OSkeyShift+'", desc: "Decrease quote level" }] }, { title: "Image / Video", commands: [{ val: "OSkey+", desc: "Resize larger" }, { val: "OSkey-", desc: "Resize smaller" }] }, { title: "Table", commands: [{ val: "Alt+Space", desc: "Select table cell" }, { val: "Shift+Left/Right arrow", desc: "Extend selection one cell" }, { val: "Shift+Up/Down arrow", desc: "Extend selection one row" }] }, { title: "Navigation", commands: [{ val: "OSkey/", desc: "Shortcuts" }, { val: "Alt+F10", desc: "Focus popup / toolbar" }, { val: "Esc", desc: "Return focus to previous position" }] }] }), St.PLUGINS.help = function(s2) {
        var n2, r2 = s2.$, i2 = "help";
        return { _init: function e() {
        }, show: function l2() {
          if (!n2) {
            var e = "<h4>".concat(s2.language.translate("Shortcuts"), "</h4>"), t = function o2() {
              for (var e2 = '<div class="fr-help-modal">', t2 = 0; t2 < s2.opts.helpSets.length; t2++) {
                var a3 = s2.opts.helpSets[t2], n3 = "<table>";
                n3 += "<thead><tr><th>".concat(s2.language.translate(a3.title), "</th></tr></thead>"), n3 += "<tbody>";
                for (var r3 = 0; r3 < a3.commands.length; r3++) {
                  var i3 = a3.commands[r3];
                  n3 += "<tr>", n3 += "<td>".concat(s2.language.translate(i3.desc), "</td>"), n3 += "<td>".concat(i3.val.replace("OSkey", s2.helpers.isMac() ? "&#8984;" : "Ctrl+"), "</td>"), n3 += "</tr>";
                }
                e2 += n3 += "</tbody></table>";
              }
              return e2 += "</div>";
            }(), a2 = s2.modals.create(i2, e, t);
            n2 = a2.$modal, s2.events.$on(r2(s2.o_win), "resize", function() {
              s2.modals.resize(i2);
            });
          }
          s2.modals.show(i2), s2.modals.resize(i2);
        }, hide: function t() {
          s2.modals.hide(i2);
        } };
      }, St.DefineIcon("help", { NAME: "question", SVG_KEY: "help" }), St.RegisterShortcut(St.KEYCODE.SLASH, "help", null, "/"), St.RegisterCommand("help", { title: "Help", icon: "help", undo: false, focus: false, modal: true, callback: function() {
        this.help.show();
      }, plugin: "help", showOnMobile: false }), Object.assign(St.POPUP_TEMPLATES, { "image.insert": "[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]", "image.edit": "[_BUTTONS_]", "image.alt": "[_BUTTONS_][_ALT_LAYER_]", "image.size": "[_BUTTONS_][_SIZE_LAYER_]" }), Object.assign(St.DEFAULTS, { imageInsertButtons: ["imageBack", "|", "imageUpload", "imageByURL"], imageEditButtons: ["imageReplace", "imageAlign", "imageCaption", "imageRemove", "imageLink", "linkOpen", "linkEdit", "linkRemove", "-", "imageDisplay", "imageStyle", "imageAlt", "imageSize"], imageAltButtons: ["imageBack", "|"], imageSizeButtons: ["imageBack", "|"], imageUpload: true, imageUploadURL: null, imageCORSProxy: "https://cors-anywhere.froala.com", imageUploadRemoteUrls: true, imageUploadParam: "file", imageUploadParams: {}, imageUploadToS3: false, imageUploadToAzure: false, imageUploadMethod: "POST", imageMaxSize: 10485760, imageAllowedTypes: ["jpeg", "jpg", "png", "gif", "webp"], imageResize: true, imageResizeWithPercent: false, imageRoundPercent: false, imageDefaultWidth: 300, imageDefaultAlign: "center", imageDefaultDisplay: "block", imageSplitHTML: false, imageStyles: { "fr-rounded": "Rounded", "fr-bordered": "Bordered", "fr-shadow": "Shadow" }, imageMove: true, imageMultipleStyles: true, imageTextNear: true, imagePaste: true, imagePasteProcess: false, imageMinWidth: 16, imageOutputSize: false, imageDefaultMargin: 5, imageAddNewLine: false }), St.IMAGE_ALLOW_REGEX = /\.(gif|jpe?g|tiff?|png|webp|bmp)$/i, St.PLUGINS.image = function(w) {
        var y2, c2, d2, f2, s2, a2, A = w.$, C = "https://i.froala.com/upload", t = false, n2 = 1, p2 = 2, u2 = 3, g2 = 4, T = 5, k = 6, r2 = {};
        function h2() {
          var e = w.popups.get("image.insert").find(".fr-image-by-url-layer input");
          e.val(""), y2 && e.val(y2.attr("src")), e.trigger("change");
        }
        function o2(e) {
          return window.pageYOffset + e.get(0).getBoundingClientRect().top;
        }
        function i2() {
          var e = w.popups.get("image.edit");
          if (e || (e = O2()), e) {
            var t2 = y2;
            w.popups.setContainer("image.edit", w.$wp || w.$sc), w.popups.refresh("image.edit");
            var a3 = t2.offset().left + t2.outerWidth() / 2, n3 = t2 && o2(t2), r3 = w.$wp && o2(w.$wp);
            r3 || (r3 = n3);
            var i3 = 0;
            w.opts.iframe ? ((i3 = w.$wp.scrollTop() + e.outerHeight()) < t2.get(0).getBoundingClientRect().top && (i3 = t2.get(0).getBoundingClientRect().top), i3 > t2.get(0).getBoundingClientRect().top + t2.height() && (i3 = t2.get(0).getBoundingClientRect().top + t2.height())) : i3 = r3 < n3 ? n3 : w.$wp && n3 + t2.height() < r3 + w.$wp.height() ? n3 + t2.height() : r3 + e.outerHeight(), y2.hasClass("fr-uploading") ? F() : w.popups.show("image.edit", a3, i3, 1, true);
          }
        }
        function m2() {
          M();
        }
        function l2(e) {
          0 < e.parents(".fr-img-caption").length && (e = e.parents(".fr-img-caption").first());
          var t2 = e.hasClass("fr-dib") ? "block" : e.hasClass("fr-dii") ? "inline" : null, a3 = e.hasClass("fr-fil") ? "left" : e.hasClass("fr-fir") ? "right" : ve(e);
          me(e, t2, a3), e.removeClass("fr-dib fr-dii fr-fir fr-fil");
        }
        function v2() {
          for (var e, t2 = "IMG" == w.el.tagName ? [w.el] : w.el.querySelectorAll("img"), a3 = 0; a3 < t2.length; a3++) {
            var n3 = A(t2[a3]);
            !w.opts.htmlUntouched && w.opts.useClasses ? ((w.opts.imageDefaultAlign || w.opts.imageDefaultDisplay) && (0 < (e = n3).parents(".fr-img-caption").length && (e = e.parents(".fr-img-caption").first()), e.hasClass("fr-dii") || e.hasClass("fr-dib") || (e.addClass("fr-fi".concat(ve(e)[0])), e.addClass("fr-di".concat(be(e)[0])), e.css("margin", ""), e.css("float", ""), e.css("display", ""), e.css("z-index", ""), e.css("position", ""), e.css("overflow", ""), e.css("vertical-align", ""))), w.opts.imageTextNear || (0 < n3.parents(".fr-img-caption").length ? n3.parents(".fr-img-caption").first().removeClass("fr-dii").addClass("fr-dib") : n3.removeClass("fr-dii").addClass("fr-dib"))) : w.opts.htmlUntouched || w.opts.useClasses || (w.opts.imageDefaultAlign || w.opts.imageDefaultDisplay) && l2(n3), w.opts.iframe && n3.on("load", w.size.syncIframe);
          }
        }
        function b2(e) {
          void 0 === e && (e = true);
          var t2, a3 = Array.prototype.slice.call(w.el.querySelectorAll("img")), n3 = [];
          for (t2 = 0; t2 < a3.length; t2++) if (n3.push(a3[t2].getAttribute("src")), A(a3[t2]).toggleClass("fr-draggable", w.opts.imageMove), "" === a3[t2].getAttribute("class") && a3[t2].removeAttribute("class"), "" === a3[t2].getAttribute("style") && a3[t2].removeAttribute("style"), a3[t2].parentNode && a3[t2].parentNode.parentNode && w.node.hasClass(a3[t2].parentNode.parentNode, "fr-img-caption")) {
            var r3 = a3[t2].parentNode.parentNode;
            w.browser.mozilla || r3.setAttribute("contenteditable", false), r3.setAttribute("draggable", false), r3.classList.add("fr-draggable");
            var i3 = a3[t2].nextSibling;
            i3 && !w.browser.mozilla && i3.setAttribute("contenteditable", true);
          }
          if (s2) for (t2 = 0; t2 < s2.length; t2++) n3.indexOf(s2[t2].getAttribute("src")) < 0 && w.events.trigger("image.removed", [A(s2[t2])]);
          if (s2 && e) {
            var o3 = [];
            for (t2 = 0; t2 < s2.length; t2++) o3.push(s2[t2].getAttribute("src"));
            for (t2 = 0; t2 < a3.length; t2++) o3.indexOf(a3[t2].getAttribute("src")) < 0 && w.events.trigger("image.loaded", [A(a3[t2])]);
          }
          s2 = a3;
        }
        function S() {
          if (c2 || function o3() {
            var e2;
            w.shared.$image_resizer ? (c2 = w.shared.$image_resizer, f2 = w.shared.$img_overlay, w.events.on("destroy", function() {
              A("body").first().append(c2.removeClass("fr-active"));
            }, true)) : (w.shared.$image_resizer = A(document.createElement("div")).attr("class", "fr-image-resizer"), c2 = w.shared.$image_resizer, w.events.$on(c2, "mousedown", function(e3) {
              e3.stopPropagation();
            }, true), w.opts.imageResize && (c2.append(E2("nw") + E2("ne") + E2("sw") + E2("se")), w.shared.$img_overlay = A(document.createElement("div")).attr("class", "fr-image-overlay"), f2 = w.shared.$img_overlay, e2 = c2.get(0).ownerDocument, A(e2).find("body").first().append(f2)));
            w.events.on("shared.destroy", function() {
              c2.html("").removeData().remove(), c2 = null, w.opts.imageResize && (f2.remove(), f2 = null);
            }, true), w.helpers.isMobile() || w.events.$on(A(w.o_win), "resize", function() {
              y2 && !y2.hasClass("fr-uploading") ? pe(true) : y2 && (S(), Ee(), F(false));
            });
            if (w.opts.imageResize) {
              e2 = c2.get(0).ownerDocument, w.events.$on(c2, w._mousedown, ".fr-handler", R), w.events.$on(A(e2), w._mousemove, L), w.events.$on(A(e2.defaultView || e2.parentWindow), w._mouseup, x), w.events.$on(f2, "mouseleave", x);
              var n4 = 1, r4 = null, i4 = 0;
              w.events.on("keydown", function(e3) {
                if (y2) {
                  var t3 = -1 != navigator.userAgent.indexOf("Mac OS X") ? e3.metaKey : e3.ctrlKey, a4 = e3.which;
                  (a4 !== r4 || 200 < e3.timeStamp - i4) && (n4 = 1), (a4 == St.KEYCODE.EQUALS || w.browser.mozilla && a4 == St.KEYCODE.FF_EQUALS) && t3 && !e3.altKey ? n4 = te.call(this, e3, 1, 1, n4) : (a4 == St.KEYCODE.HYPHEN || w.browser.mozilla && a4 == St.KEYCODE.FF_HYPHEN) && t3 && !e3.altKey ? n4 = te.call(this, e3, 2, -1, n4) : w.keys.ctrlKey(e3) || a4 != St.KEYCODE.ENTER || (y2.before("<br>"), P(y2)), r4 = a4, i4 = e3.timeStamp;
                }
              }, true), w.events.on("keyup", function() {
                n4 = 1;
              });
            }
          }(), !y2) return false;
          var e = w.$wp || w.$sc;
          e.append(c2), c2.data("instance", w);
          var t2 = e.scrollTop() - ("static" != e.css("position") ? e.offset().top : 0), a3 = e.scrollLeft() - ("static" != e.css("position") ? e.offset().left : 0);
          a3 -= w.helpers.getPX(e.css("border-left-width")), t2 -= w.helpers.getPX(e.css("border-top-width")), w.$el.is("img") && w.$sc.is("body") && (a3 = t2 = 0);
          var n3 = ye2();
          Ae() && (n3 = n3.find(".fr-img-wrap"));
          var r3 = 0, i3 = 0;
          w.opts.iframe && (r3 = w.helpers.getPX(w.$wp.find(".fr-iframe").css("padding-top")), i3 = w.helpers.getPX(w.$wp.find(".fr-iframe").css("padding-left"))), c2.css("top", (w.opts.iframe ? n3.offset().top + r3 : n3.offset().top + t2) - 1).css("left", (w.opts.iframe ? n3.offset().left + i3 : n3.offset().left + a3) - 1).css("width", n3.get(0).getBoundingClientRect().width).css("height", n3.get(0).getBoundingClientRect().height).addClass("fr-active");
        }
        function E2(e) {
          return '<div class="fr-handler fr-h'.concat(e, '"></div>');
        }
        function _(e) {
          Ae() && y2.parents(".fr-img-caption").css("width", e), y2.css("width", e);
        }
        function R(e) {
          if (!w.core.sameInstance(c2)) return true;
          if (e.preventDefault(), e.stopPropagation(), w.$el.find("img.fr-error").left) return false;
          w.undo.canDo() || w.undo.saveStep();
          var t2 = e.pageX || e.originalEvent.touches[0].pageX;
          if ("mousedown" == e.type) {
            var a3 = w.$oel.get(0), n3 = a3.ownerDocument, r3 = n3.defaultView || n3.parentWindow, i3 = false;
            try {
              i3 = r3.location != r3.parent.location && !(r3.$ && r3.$.FE);
            } catch (l3) {
            }
            i3 && r3.frameElement && (t2 += w.helpers.getPX(A(a3).offset().left) + r3.frameElement.clientLeft);
          }
          (d2 = A(this)).data("start-x", t2), d2.data("start-width", y2.width()), d2.data("start-height", y2.height());
          var o3 = y2.width();
          if (w.opts.imageResizeWithPercent) {
            var s3 = y2.parentsUntil(w.$el, w.html.blockTagsQuery()).get(0) || w.el;
            o3 = (o3 / A(s3).outerWidth() * 100).toFixed(2) + "%";
          }
          _(o3), f2.show(), w.popups.hideAll(), he();
        }
        function L(e) {
          if (!w.core.sameInstance(c2)) return true;
          var t2;
          if (d2 && y2) {
            if (e.preventDefault(), w.$el.find("img.fr-error").left) return false;
            var a3 = e.pageX || (e.originalEvent.touches ? e.originalEvent.touches[0].pageX : null);
            if (!a3) return false;
            var n3 = a3 - d2.data("start-x"), r3 = d2.data("start-width");
            if ((d2.hasClass("fr-hnw") || d2.hasClass("fr-hsw")) && (n3 = 0 - n3), w.opts.imageResizeWithPercent) {
              var i3 = y2.parentsUntil(w.$el, w.html.blockTagsQuery()).get(0) || w.el;
              r3 = ((r3 + n3) / A(i3).outerWidth() * 100).toFixed(2), w.opts.imageRoundPercent && (r3 = Math.round(r3)), _("".concat(r3, "%")), (t2 = Ae() ? (w.helpers.getPX(y2.parents(".fr-img-caption").css("width")) / A(i3).outerWidth() * 100).toFixed(2) : (w.helpers.getPX(y2.css("width")) / A(i3).outerWidth() * 100).toFixed(2)) === r3 || w.opts.imageRoundPercent || _("".concat(t2, "%")), y2.css("height", "").removeAttr("height");
            } else r3 + n3 >= w.opts.imageMinWidth && (_(r3 + n3), t2 = Ae() ? w.helpers.getPX(y2.parents(".fr-img-caption").css("width")) : w.helpers.getPX(y2.css("width"))), t2 !== r3 + n3 && _(t2), ((y2.attr("style") || "").match(/(^height:)|(; *height:)/) || y2.attr("height")) && (y2.css("height", d2.data("start-height") * y2.width() / d2.data("start-width")), y2.removeAttr("height"));
            S(), w.events.trigger("image.resize", [we()]);
          }
        }
        function x(e) {
          if (!w.core.sameInstance(c2)) return true;
          if (d2 && y2) {
            if (e && e.stopPropagation(), w.$el.find("img.fr-error").left) return false;
            d2 = null, f2.hide(), S(), i2(), w.undo.saveStep(), w.events.trigger("image.resizeEnd", [we()]);
          } else c2.removeClass("fr-active");
        }
        function I2(e, t2, a3) {
          w.edit.on(), y2 && y2.addClass("fr-error"), r2[e] ? D(w.language.translate(r2[e])) : D(w.language.translate("Something went wrong. Please try again.")), !y2 && a3 && ae(a3), w.events.trigger("image.error", [{ code: e, message: r2[e] }, t2, a3]);
        }
        function O2(e) {
          if (e) return w.$wp && w.events.$on(w.$wp, "scroll.image-edit", function() {
            y2 && w.popups.isVisible("image.edit") && (w.events.disableBlur(), i2());
          }), true;
          var t2 = "";
          if (0 < w.opts.imageEditButtons.length) {
            var a3 = { buttons: t2 += '<div class="fr-buttons">\n        '.concat(w.button.buildList(w.opts.imageEditButtons), "\n        </div>") };
            return w.popups.create("image.edit", a3);
          }
          return false;
        }
        function F(e) {
          var t2 = w.popups.get("image.insert");
          if (t2 || (t2 = j()), t2.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"), t2.find(".fr-image-progress-bar-layer").addClass("fr-active"), t2.find(".fr-buttons").hide(), y2) {
            var a3 = ye2();
            w.popups.setContainer("image.insert", w.$sc);
            var n3 = a3.offset().left, r3 = a3.offset().top + a3.height();
            w.popups.show("image.insert", n3, r3, a3.outerHeight());
          }
          void 0 === e && N(w.language.translate("Uploading"), 0);
        }
        function M(e) {
          var t2 = w.popups.get("image.insert");
          if (t2 && (t2.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"), t2.find(".fr-image-progress-bar-layer").removeClass("fr-active"), t2.find(".fr-buttons").show(), e || w.$el.find("img.fr-error").length)) {
            if (w.events.focus(), w.$el.find("img.fr-error").length && (w.$el.find("img.fr-error").remove(), w.undo.saveStep(), w.undo.run(), w.undo.dropRedo()), !w.$wp && y2) {
              var a3 = y2;
              pe(true), w.selection.setAfter(a3.get(0)), w.selection.restore();
            }
            w.popups.hide("image.insert");
          }
        }
        function N(e, t2) {
          var a3 = w.popups.get("image.insert");
          if (a3) {
            var n3 = a3.find(".fr-image-progress-bar-layer");
            n3.find("h3").text(e + (t2 ? " ".concat(t2, "%") : "")), n3.removeClass("fr-error"), t2 ? (n3.find("div").removeClass("fr-indeterminate"), n3.find("div > span").css("width", "".concat(t2, "%"))) : n3.find("div").addClass("fr-indeterminate");
          }
        }
        function D(e) {
          F();
          var t2 = w.popups.get("image.insert").find(".fr-image-progress-bar-layer");
          t2.addClass("fr-error");
          var a3 = t2.find("h3");
          a3.text(e), w.events.disableBlur(), a3.focus();
        }
        function P(e) {
          fe.call(e.get(0));
        }
        function B() {
          var e = A(this);
          w.popups.hide("image.insert"), e.removeClass("fr-uploading"), e.next().is("br") && e.next().remove(), P(e), w.events.trigger("image.loaded", [e]);
        }
        function U(o3, e, s3, l3, c3) {
          l3 && "string" == typeof l3 && (l3 = w.$(l3)), w.edit.off(), N(w.language.translate("Loading image")), e && (o3 = w.helpers.sanitizeURL(o3));
          var t2 = new Image();
          t2.onload = function() {
            var e2, t3;
            if (l3) {
              w.undo.canDo() || l3.hasClass("fr-uploading") || w.undo.saveStep();
              var a3 = l3.data("fr-old-src");
              l3.data("fr-image-pasted") && (a3 = null), w.$wp ? ((e2 = l3.clone().removeData("fr-old-src").removeClass("fr-uploading").removeAttr("data-fr-image-pasted")).off("load"), a3 && l3.attr("src", a3), !w.opts.trackChangesEnabled || l3[0].parentNode && "SPAN" === l3[0].parentNode.tagName && l3[0].parentNode.hasAttribute("data-tracking") || w.track_changes.replaceSpecialItem(l3), l3.replaceWith(e2)) : e2 = l3;
              for (var n3 = e2.get(0).attributes, r3 = 0; r3 < n3.length; r3++) {
                var i3 = n3[r3];
                0 === i3.nodeName.indexOf("data-") ? e2.removeAttr(i3.nodeName) : s3 && s3.hasOwnProperty(i3.nodeName) && e2.removeAttr(i3.nodeName);
              }
              if (void 0 !== s3) for (t3 in s3) s3.hasOwnProperty(t3) && "link" != t3 && e2.attr("".concat(t3), s3[t3]);
              e2.on("load", B), e2.attr("src", o3), w.edit.on(), b2(false), l3[0].src != o3 && w.selection.restore(), w.undo.saveStep(), w.events.disableBlur(), w.$el.blur(), w.events.trigger(a3 ? "image.replaced" : "image.inserted", [e2, c3]);
            } else (e2 = W(o3, s3, B)) && (b2(false), w.undo.saveStep(), w.events.disableBlur(), w.$el.blur(), w.events.trigger("image.inserted", [e2, c3]));
          }, t2.onerror = function() {
            I2(n2);
          }, F(w.language.translate("Loading image")), t2.src = o3;
        }
        function H(e, t2, a3) {
          N(w.language.translate("Loading image"));
          var n3 = this.status, r3 = this.response, i3 = this.responseXML, o3 = this.responseText;
          try {
            if (w.opts.imageUploadToS3 || w.opts.imageUploadToAzure) if (201 == n3) {
              var s3;
              if (w.opts.imageUploadToAzure) {
                if (false === w.events.trigger("image.uploadedToAzure", [this.responseURL, a3, r3], true)) return w.edit.on(), false;
                s3 = t2;
              } else s3 = function c3(e2) {
                try {
                  var t3 = A(e2).find("Location").text(), a4 = A(e2).find("Key").text();
                  return false === w.events.trigger("image.uploadedToS3", [t3, a4, e2], true) ? (w.edit.on(), false) : t3;
                } catch (n4) {
                  return I2(g2, e2), false;
                }
              }(i3);
              s3 && U(s3, false, [], e, r3 || i3);
            } else I2(g2, r3 || i3, e);
            else if (200 <= n3 && n3 < 300) {
              var l3 = function d3(e2) {
                try {
                  if (false === w.events.trigger("image.uploaded", [e2], true)) return w.edit.on(), false;
                  var t3 = JSON.parse(e2);
                  return t3.link ? t3 : (I2(p2, e2), false);
                } catch (a4) {
                  return I2(g2, e2), false;
                }
              }(o3);
              l3 && U(l3.link, false, l3, e, r3 || o3);
            } else I2(u2, r3 || o3, e);
          } catch (f3) {
            I2(g2, r3 || o3, e);
          }
        }
        function $() {
          I2(g2, this.response || this.responseText || this.responseXML);
        }
        function z(e) {
          if (e.lengthComputable) {
            var t2 = e.loaded / e.total * 100 | 0;
            N(w.language.translate("Uploading"), t2);
          }
        }
        function W(e, t2, a3) {
          var n3, r3 = A(document.createElement("img")).attr("src", e);
          if (t2 && void 0 !== t2) for (n3 in t2) t2.hasOwnProperty(n3) && "link" != n3 && (" data-".concat(n3, '="').concat(t2[n3], '"'), r3.attr("".concat(n3), t2[n3]));
          var i3 = w.opts.imageDefaultWidth;
          i3 && "auto" != i3 && (i3 = w.opts.imageResizeWithPercent ? "100%" : "".concat(i3, "px")), r3.attr("style", i3 ? "width: ".concat(i3, ";") : ""), me(r3, w.opts.imageDefaultDisplay, w.opts.imageDefaultAlign), r3.on("load", a3), r3.on("error", a3), w.edit.on(), w.events.focus(true), w.selection.restore(), w.undo.saveStep(), w.opts.imageSplitHTML ? w.markers.split() : w.markers.insert(), w.html.wrap();
          var o3 = w.$el.find(".fr-marker");
          if (o3.length) (o3.parent().is("hr") || o3.parent().is("IMG")) && o3.parent().after(o3), w.node.isLastSibling(o3) && o3.parent().hasClass("fr-deletable") && o3.insertAfter(o3.parent()), o3.replaceWith(r3);
          else {
            if (w.opts.trackChangesEnabled) return M(true), false;
            w.$el.append(r3);
          }
          return w.selection.clear(), r3;
        }
        function K() {
          w.edit.on(), M(true);
        }
        function G(e, t2) {
          if (void 0 !== e && 0 < e.length) {
            if (false === w.events.trigger("image.beforeUpload", [e, t2])) return false;
            var a3, n3 = e[0];
            if (!(null !== w.opts.imageUploadURL && w.opts.imageUploadURL != C || w.opts.imageUploadToS3 || w.opts.imageUploadToAzure)) return function E3(r4, i4) {
              var o4 = new FileReader();
              o4.onload = function() {
                var e2 = o4.result;
                if (o4.result.indexOf("svg+xml") < 0) {
                  for (var t3 = atob(o4.result.split(",")[1]), a4 = [], n4 = 0; n4 < t3.length; n4++) a4.push(t3.charCodeAt(n4));
                  e2 = window.URL.createObjectURL(new Blob([new Uint8Array(a4)], { type: r4.type })), i4 && i4.data("fr-old-src", i4.attr("src")), w.image.insert(e2, false, null, i4);
                } else w.image.insert(e2, null, null, w.image.get());
              }, F(), o4.readAsDataURL(r4);
            }(n3, t2 || y2), false;
            if (n3.name || (n3.name = (/* @__PURE__ */ new Date()).getTime() + "." + (n3.type || "image/jpeg").replace(/image\//g, "")), n3.size > w.opts.imageMaxSize) return I2(T), false;
            if (w.opts.imageAllowedTypes.indexOf(n3.type.replace(/image\//g, "")) < 0) return I2(k), false;
            if (w.drag_support.formdata && (a3 = w.drag_support.formdata ? new FormData() : null), a3) {
              var r3;
              if (false !== w.opts.imageUploadToS3) for (r3 in a3.append("key", w.opts.imageUploadToS3.keyStart + (/* @__PURE__ */ new Date()).getTime() + "-" + (n3.name || "untitled")), a3.append("success_action_status", "201"), a3.append("X-Requested-With", "xhr"), a3.append("Content-Type", n3.type), w.opts.imageUploadToS3.params) w.opts.imageUploadToS3.params.hasOwnProperty(r3) && a3.append(r3, w.opts.imageUploadToS3.params[r3]);
              for (r3 in w.opts.imageUploadParams) w.opts.imageUploadParams.hasOwnProperty(r3) && a3.append(r3, w.opts.imageUploadParams[r3]);
              a3.append(w.opts.imageUploadParam, n3, n3.name);
              var i3, o3, s3 = w.opts.imageUploadURL, l3 = w.opts.imageUploadMethod;
              w.opts.imageUploadToS3 && (s3 = w.opts.imageUploadToS3.uploadURL ? w.opts.imageUploadToS3.uploadURL : "https://".concat(w.opts.imageUploadToS3.region, ".amazonaws.com/").concat(w.opts.imageUploadToS3.bucket)), w.opts.imageUploadToAzure && (i3 = s3 = w.opts.imageUploadToAzure.uploadURL ? "".concat(w.opts.imageUploadToAzure.uploadURL, "/").concat(n3.name) : encodeURI("https://".concat(w.opts.imageUploadToAzure.account, ".blob.core.windows.net/").concat(w.opts.imageUploadToAzure.container, "/").concat(n3.name)), w.opts.imageUploadToAzure.SASToken && (s3 += w.opts.imageUploadToAzure.SASToken), l3 = "PUT");
              var c3 = w.core.getXHR(s3, l3);
              if (w.opts.imageUploadToAzure) {
                var d3 = (/* @__PURE__ */ new Date()).toUTCString();
                if (!w.opts.imageUploadToAzure.SASToken && w.opts.imageUploadToAzure.accessKey) {
                  var f3 = w.opts.imageUploadToAzure.account, p3 = w.opts.imageUploadToAzure.container;
                  if (w.opts.imageUploadToAzure.uploadURL) {
                    var u3 = w.opts.imageUploadToAzure.uploadURL.split("/");
                    p3 = u3.pop(), f3 = u3.pop().split(".")[0];
                  }
                  var g3 = "x-ms-blob-type:BlockBlob\nx-ms-date:".concat(d3, "\nx-ms-version:2019-07-07"), h3 = encodeURI("/" + f3 + "/" + p3 + "/" + n3.name), m3 = l3 + "\n\n\n" + n3.size + "\n\n" + n3.type + "\n\n\n\n\n\n\n" + g3 + "\n" + h3, v3 = w.cryptoJSPlugin.cryptoJS.HmacSHA256(m3, w.cryptoJSPlugin.cryptoJS.enc.Base64.parse(w.opts.imageUploadToAzure.accessKey)).toString(w.cryptoJSPlugin.cryptoJS.enc.Base64), b3 = "SharedKey " + f3 + ":" + v3;
                  o3 = v3, c3.setRequestHeader("Authorization", b3);
                }
                for (r3 in c3.setRequestHeader("x-ms-version", "2019-07-07"), c3.setRequestHeader("x-ms-date", d3), c3.setRequestHeader("Content-Type", n3.type), c3.setRequestHeader("x-ms-blob-type", "BlockBlob"), w.opts.imageUploadParams) w.opts.imageUploadParams.hasOwnProperty(r3) && c3.setRequestHeader(r3, w.opts.imageUploadParams[r3]);
                for (r3 in w.opts.imageUploadToAzure.params) w.opts.imageUploadToAzure.params.hasOwnProperty(r3) && c3.setRequestHeader(r3, w.opts.imageUploadToAzure.params[r3]);
              }
              !function _2(t3, a4, n4, r4, i4, o4) {
                function s4() {
                  var e2 = A(this);
                  e2.off("load"), e2.addClass("fr-uploading"), e2.next().is("br") && e2.next().remove(), w.placeholder.refresh(), P(e2), S(), F(), w.edit.off(), t3.onload = function() {
                    H.call(t3, e2, i4, o4);
                  }, t3.onerror = $, t3.upload.onprogress = z, t3.onabort = K, A(e2.off("abortUpload")).on("abortUpload", function() {
                    4 != t3.readyState && (t3.abort(), r4 ? (r4.attr("src", r4.data("fr-old-src")), r4.removeClass("fr-uploading")) : e2.remove(), pe(true));
                  }), t3.send(w.opts.imageUploadToAzure ? n4 : a4);
                }
                var l4 = new FileReader();
                l4.onload = function() {
                  var e2 = l4.result;
                  if (l4.result.indexOf("svg+xml") < 0) {
                    for (var t4 = atob(l4.result.split(",")[1]), a5 = [], n5 = 0; n5 < t4.length; n5++) a5.push(t4.charCodeAt(n5));
                    e2 = window.URL.createObjectURL(new Blob([new Uint8Array(a5)], { type: "image/jpeg" }));
                  }
                  r4 ? (r4.on("load", s4), r4.on("error", function() {
                    s4(), A(this).off("error");
                  }), w.edit.on(), w.undo.saveStep(), r4.data("fr-old-src", r4.attr("src")), r4.attr("src", e2)) : W(e2, null, s4);
                }, l4.readAsDataURL(n4);
              }(c3, a3, n3, t2 || y2, i3, o3);
            }
          }
        }
        function V(e) {
          if (e.is("img") && 0 < e.parents(".fr-img-caption").length) return e.parents(".fr-img-caption");
        }
        function Y(e) {
          var t2 = e.originalEvent.dataTransfer;
          if (t2 && t2.files && t2.files.length) {
            var a3 = t2.files[0];
            if (a3 && a3.type && -1 !== a3.type.indexOf("image") && 0 <= w.opts.imageAllowedTypes.indexOf(a3.type.replace(/image\//g, ""))) {
              if (!w.opts.imageUpload) return e.preventDefault(), e.stopPropagation(), false;
              w.markers.remove(), w.markers.insertAtPoint(e.originalEvent), w.$el.find(".fr-marker").replaceWith(St.MARKERS), 0 === w.$el.find(".fr-marker").length && w.selection.setAtEnd(w.el), w.popups.hideAll();
              var n3 = w.popups.get("image.insert");
              n3 || (n3 = j()), w.popups.setContainer("image.insert", w.$sc);
              var r3 = e.originalEvent.pageX, i3 = e.originalEvent.pageY;
              if (w.opts.iframe) {
                var o3 = w.helpers.getPX(w.$wp.find(".fr-iframe").css("padding-top")), s3 = w.helpers.getPX(w.$wp.find(".fr-iframe").css("padding-left"));
                i3 += w.$iframe.offset().top + o3, r3 += w.$iframe.offset().left + s3;
              }
              return w.popups.show("image.insert", r3, i3), F(), 0 <= w.opts.imageAllowedTypes.indexOf(a3.type.replace(/image\//g, "")) ? (pe(true), G(t2.files)) : I2(k), e.preventDefault(), e.stopPropagation(), false;
            }
          }
        }
        function j(e) {
          if (e) return w.popups.onRefresh("image.insert", h2), w.popups.onHide("image.insert", m2), true;
          var t2, a3, n3 = "";
          w.opts.imageUpload || -1 === w.opts.imageInsertButtons.indexOf("imageUpload") || w.opts.imageInsertButtons.splice(w.opts.imageInsertButtons.indexOf("imageUpload"), 1);
          var r3 = w.button.buildList(w.opts.imageInsertButtons);
          "" !== r3 && (n3 = '<div class="fr-buttons fr-tabs">'.concat(r3, "</div>"));
          var i3 = w.opts.imageInsertButtons.indexOf("imageUpload"), o3 = w.opts.imageInsertButtons.indexOf("imageByURL"), s3 = "";
          0 <= i3 && (t2 = " fr-active", 0 <= o3 && o3 < i3 && (t2 = ""), s3 = '<div class="fr-image-upload-layer'.concat(t2, ' fr-layer" id="fr-image-upload-layer-').concat(w.id, '"><strong>').concat(w.language.translate("Drop image"), "</strong><br>(").concat(w.language.translate("or click"), ')<div class="fr-form"><input type="file" accept="image/').concat(w.opts.imageAllowedTypes.join(", image/").toLowerCase(), '" tabIndex="-1" aria-labelledby="fr-image-upload-layer-').concat(w.id, '" role="button"></div></div>'));
          var l3 = "";
          0 <= o3 && (t2 = " fr-active", 0 <= i3 && i3 < o3 && (t2 = ""), l3 = '<div class="fr-image-by-url-layer'.concat(t2, ' fr-layer" id="fr-image-by-url-layer-').concat(w.id, '"><div class="fr-input-line"><input id="fr-image-by-url-layer-text-').concat(w.id, '" type="text" placeholder="http://" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageInsertByURL" tabIndex="2" role="button">').concat(w.language.translate("Insert"), "</button></div></div>"));
          var c3 = { buttons: n3, upload_layer: s3, by_url_layer: l3, progress_bar: '<div class="fr-image-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div></div>' };
          return 1 <= w.opts.imageInsertButtons.length && (a3 = w.popups.create("image.insert", c3)), w.$wp && w.events.$on(w.$wp, "scroll", function() {
            y2 && w.popups.isVisible("image.insert") && Ee();
          }), function d3(n4) {
            w.events.$on(n4, "dragover dragenter", ".fr-image-upload-layer", function(e2) {
              return A(this).addClass("fr-drop"), (w.browser.msie || w.browser.edge) && e2.preventDefault(), false;
            }, true), w.events.$on(n4, "dragleave dragend", ".fr-image-upload-layer", function(e2) {
              return A(this).removeClass("fr-drop"), (w.browser.msie || w.browser.edge) && e2.preventDefault(), false;
            }, true), w.events.$on(n4, "drop", ".fr-image-upload-layer", function(e2) {
              e2.preventDefault(), e2.stopPropagation(), A(this).removeClass("fr-drop");
              var t3 = e2.originalEvent.dataTransfer;
              if (t3 && t3.files) {
                var a4 = n4.data("instance") || w;
                a4.events.disableBlur(), a4.image.upload(t3.files), a4.events.enableBlur();
              }
            }, true), w.helpers.isIOS() && w.events.$on(n4, "touchstart", '.fr-image-upload-layer input[type="file"]', function() {
              A(this).trigger("click");
            }, true), w.events.$on(n4, "change", '.fr-image-upload-layer input[type="file"]', function() {
              if (this.files) {
                var e2 = n4.data("instance") || w;
                e2.events.disableBlur(), n4.find("input:focus").blur(), e2.events.enableBlur(), e2.image.upload(this.files, y2);
              }
              A(this).val("");
            }, true);
          }(a3), a3;
        }
        function q() {
          y2 && w.popups.get("image.alt").find("input").val(y2.attr("alt") || "").trigger("change");
        }
        function X() {
          var e = w.popups.get("image.alt");
          e || (e = Z()), M(), w.popups.refresh("image.alt"), w.popups.setContainer("image.alt", w.$sc);
          var t2 = ye2(), a3 = t2.outerWidth() / 2;
          Ae() && (t2 = t2.find(".fr-img-wrap"), a3 = y2.outerWidth() / 2);
          var n3 = t2.offset().left + a3, r3 = t2.offset().top + t2.outerHeight(), i3 = t2.outerHeight();
          w.opts.iframe && Ae() && (i3 = y2 ? y2.outerHeight() : 0), w.popups.show("image.alt", n3, r3, i3, true);
        }
        function Z(e) {
          if (e) return w.popups.onRefresh("image.alt", q), true;
          var t2 = { buttons: '<div class="fr-buttons fr-tabs">'.concat(w.button.buildList(w.opts.imageAltButtons), "</div>"), alt_layer: '<div class="fr-image-alt-layer fr-layer fr-active" id="fr-image-alt-layer-'.concat(w.id, '"><div class="fr-input-line"><input id="fr-image-alt-layer-text-').concat(w.id, '" type="text" placeholder="').concat(w.language.translate("Alternative Text"), '" tabIndex="1"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetAlt" tabIndex="2" role="button">').concat(w.language.translate("Update"), "</button></div></div>") }, a3 = w.popups.create("image.alt", t2);
          return w.$wp && w.events.$on(w.$wp, "scroll.image-alt", function() {
            y2 && w.popups.isVisible("image.alt") && X();
          }), a3;
        }
        function Q() {
          var e = w.popups.get("image.size"), t2 = y2.get(0).style.height ? y2.get(0).style.height : "auto", a3 = y2.get(0).style.width ? y2.get(0).style.width : "auto";
          if (y2) if (Ae()) {
            var n3 = y2.parent();
            n3.get(0).style.width || (n3 = y2.parent().parent()), e.find('input[name="width"]').val(a3).trigger("change"), e.find('input[name="height"]').val(t2).trigger("change");
          } else e.find('input[name="width"]').val(a3).trigger("change"), e.find('input[name="height"]').val(t2).trigger("change");
        }
        function J() {
          var e = w.popups.get("image.size");
          e || (e = ee()), M(), w.popups.refresh("image.size"), w.popups.setContainer("image.size", w.$sc);
          var t2 = ye2(), a3 = t2.outerWidth() / 2;
          Ae() && (t2 = t2.find(".fr-img-wrap"), a3 = y2.outerWidth() / 2);
          var n3 = t2.outerHeight();
          w.opts.iframe && Ae() && (n3 = y2 ? y2.outerHeight() : 0);
          var r3 = t2.offset().left + a3, i3 = t2.offset().top + t2.outerHeight();
          w.popups.show("image.size", r3, i3, n3, true);
        }
        function ee(e) {
          if (e) return w.popups.onRefresh("image.size", Q), true;
          var t2 = { buttons: '<div class="fr-buttons fr-tabs">'.concat(w.button.buildList(w.opts.imageSizeButtons), "</div>"), size_layer: '<div class="fr-image-size-layer fr-layer fr-active" id="fr-image-size-layer-'.concat(w.id, `"><div class="fr-image-group"><div class="fr-input-line"><input id="fr-image-size-layer-width-'`).concat(w.id, '" type="text" name="width" placeholder="').concat(w.language.translate("Width"), '" tabIndex="1"></div><div class="fr-input-line"><input id="fr-image-size-layer-height').concat(w.id, '" type="text" name="height" placeholder="').concat(w.language.translate("Height"), '" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="imageSetSize" tabIndex="2" role="button">').concat(w.language.translate("Update"), "</button></div></div>") }, a3 = w.popups.create("image.size", t2);
          return w.$wp && w.events.$on(w.$wp, "scroll.image-size", function() {
            y2 && w.popups.isVisible("image.size") && J();
          }), a3;
        }
        function te(e, t2, a3, n3) {
          return e.pageX = t2, R.call(this, e), e.pageX = e.pageX + a3 * Math.floor(Math.pow(1.1, n3)), L.call(this, e), x.call(this, e), ++n3;
        }
        function ae(e) {
          if (e = e || ye2(), w.opts.trackChangesEnabled && !w.helpers.isMobile() && (!e[0].parentNode || "SPAN" !== e[0].parentNode.tagName || !e[0].parentNode.hasAttribute("data-tracking"))) return w.track_changes.removeSpecialItem(e), w.popups.hideAll(), void pe(true);
          e && false !== w.events.trigger("image.beforeRemove", [e]) && (w.popups.hideAll(), _e(), pe(true), w.undo.canDo() || w.undo.saveStep(), e.get(0) == w.el ? e.removeAttr("src") : (e.get(0).parentNode && "A" == e.get(0).parentNode.tagName ? (w.selection.setBefore(e.get(0).parentNode) || w.selection.setAfter(e.get(0).parentNode) || e.parent().after(St.MARKERS), A(e.get(0).parentNode).remove()) : (w.selection.setBefore(e.get(0)) || w.selection.setAfter(e.get(0)) || e.after(St.MARKERS), e.remove()), w.html.fillEmptyBlocks(), w.selection.restore()), w.undo.saveStep());
        }
        function ne(e) {
          var t2 = e.which, a3 = document.getElementsByClassName("fs-transforms-container"), n3 = false;
          if (a3 && a3.length) {
            var r3, i3 = He(a3);
            try {
              for (i3.s(); !(r3 = i3.n()).done; ) {
                var o3 = r3.value;
                o3.childNodes && o3.childNodes.length && (n3 = true);
              }
            } catch (c3) {
              i3.e(c3);
            } finally {
              i3.f();
            }
          }
          if (n3 && (y2 = null), y2 && (t2 == St.KEYCODE.BACKSPACE || t2 == St.KEYCODE.DELETE)) return e.preventDefault(), e.stopPropagation(), ae(), false;
          if (y2 && t2 == St.KEYCODE.ESC) {
            var s3 = y2;
            return pe(true), w.selection.setAfter(s3.get(0)), w.selection.restore(), e.preventDefault(), false;
          }
          if (!y2 || t2 != St.KEYCODE.ARROW_LEFT && t2 != St.KEYCODE.ARROW_RIGHT) return y2 && t2 === St.KEYCODE.TAB ? (e.preventDefault(), e.stopPropagation(), pe(true), false) : y2 && t2 != St.KEYCODE.F10 && !w.keys.isBrowserAction(e) ? (e.preventDefault(), e.stopPropagation(), false) : void 0;
          var l3 = y2.get(0);
          return pe(true), t2 == St.KEYCODE.ARROW_LEFT ? w.selection.setBefore(l3) : w.selection.setAfter(l3), w.selection.restore(), e.preventDefault(), false;
        }
        function re(e) {
          if (e && "IMG" == e.tagName) {
            if (w.node.hasClass(e, "fr-uploading") || w.node.hasClass(e, "fr-error") ? e.parentNode.removeChild(e) : w.node.hasClass(e, "fr-draggable") && e.classList.remove("fr-draggable"), e.parentNode && e.parentNode.parentNode && w.node.hasClass(e.parentNode.parentNode, "fr-img-caption")) {
              var t2 = e.parentNode.parentNode;
              t2.removeAttribute("contenteditable"), t2.removeAttribute("draggable"), t2.classList.remove("fr-draggable");
              var a3 = e.nextSibling;
              a3 && a3.removeAttribute("contenteditable");
            }
          } else if (e && e.nodeType == Node.ELEMENT_NODE) for (var n3 = e.querySelectorAll("img.fr-uploading, img.fr-error, img.fr-draggable"), r3 = 0; r3 < n3.length; r3++) re(n3[r3]);
        }
        function ie(e) {
          if (false === w.events.trigger("image.beforePasteUpload", [e])) return A(e).removeAttr("data-fr-image-pasted"), false;
          y2 = A(e), S(), i2(), F(), y2.on("load", function() {
            var t3 = [];
            S(), A(w.popups.get("image.insert").get(0)).find("div.fr-active.fr-error").length < 1 && F(), A(this).data("events").filter(function(e2) {
              "load" === e2[0] && t3.push(e2);
            }), t3.length <= 1 && A(this).off("load");
          });
          for (var t2 = A(e).attr("src").split(","), a3 = atob(t2[1]), n3 = [], r3 = 0; r3 < a3.length; r3++) n3.push(a3.charCodeAt(r3));
          G([w.browser.safari && !w.opts.imageUploadURL ? new Blob([new Uint8Array(n3)], { type: t2[0].replace(/data\:/g, "") }) : new Blob([new Uint8Array(n3)], { type: t2[0].replace(/data\:/g, "").replace(/;base64/g, "") })], y2);
        }
        function oe() {
          w.opts.imagePaste ? w.$el.find("img[data-fr-image-pasted]").each(function(e, a3) {
            if (w.opts.imagePasteProcess) {
              var t2 = w.opts.imageDefaultWidth;
              t2 && "auto" != t2 && (t2 += w.opts.imageResizeWithPercent ? "%" : "px"), A(a3).css("width", t2).removeClass("fr-dii fr-dib fr-fir fr-fil"), me(A(a3), w.opts.imageDefaultDisplay, w.opts.imageDefaultAlign);
            }
            if (0 === a3.src.indexOf("data:")) ie(a3);
            else if (0 === a3.src.indexOf("blob:") || 0 === a3.src.indexOf("http") && w.opts.imageUploadRemoteUrls && w.opts.imageCORSProxy) {
              var n3 = new Image();
              n3.crossOrigin = "Anonymous", n3.onload = function() {
                var e2 = w.o_doc.createElement("CANVAS"), t3 = e2.getContext("2d");
                e2.height = this.naturalHeight, e2.width = this.naturalWidth, t3.drawImage(this, 0, 0), setTimeout(function() {
                  ie(a3);
                }, 0), a3.src = e2.toDataURL(St.IMAGE_TYPE);
              }, w.browser.msie && St.IMAGE_ALLOW_REGEX.test(a3.src) && (St.IMAGE_TYPE = "image/" + a3.src.split(St.IMAGE_ALLOW_REGEX)[1]), n3.src = (0 === a3.src.indexOf("blob:") ? "" : "".concat(w.opts.imageCORSProxy, "/")) + a3.src, 0 !== a3.src.indexOf("blob:") && w.undo.saveStep();
            } else 0 !== a3.src.indexOf("http") || 0 === a3.src.indexOf("https://mail.google.com/mail") ? (w.selection.save(), A(a3).remove(), w.selection.restore()) : A(a3).removeAttr("data-fr-image-pasted");
          }) : w.$el.find("img[data-fr-image-pasted]").remove();
        }
        function se(e) {
          var t2 = e.target.result, a3 = w.opts.imageDefaultWidth;
          a3 && "auto" != a3 && (a3 += w.opts.imageResizeWithPercent ? "%" : "px"), w.undo.saveStep(), w.html.insert('<img data-fr-image-pasted="true" src="'.concat(t2, '"').concat(a3 ? ' style="width: '.concat(a3, ';"') : "", ">"));
          var n3 = w.$el.find('img[data-fr-image-pasted="true"]');
          n3 && me(n3, w.opts.imageDefaultDisplay, w.opts.imageDefaultAlign), w.events.trigger("paste.after");
        }
        function le(e, t2) {
          var a3 = new FileReader();
          a3.onload = function n3(e2) {
            var t3 = w.opts.imageDefaultWidth;
            t3 && "auto" != t3 && (t3 += w.opts.imageResizeWithPercent ? "%" : "px"), w.html.insert('<img data-fr-image-pasted="true" src="'.concat(e2, '"').concat(t3 ? ' style="width: '.concat(t3, ';"') : "", ">"));
            var a4 = w.$el.find('img[data-fr-image-pasted="true"]');
            a4 && me(a4, w.opts.imageDefaultDisplay, w.opts.imageDefaultAlign), w.events.trigger("paste.after");
          }(t2), a3.readAsDataURL(e, t2);
        }
        function ce(e, t2) {
          var a3 = t2 || e && e.clipboardData;
          if (a3 && a3.items) {
            var n3 = (a3 || window.clipboardData).getData("text/html") || "";
            w.browser.mozilla && ("" === n3 || /<!--StartFragment-->([ ])<!--EndFragment-->/.test(n3)) && (n3 = w.win.localStorage.getItem("fr-copied-html"));
            var r3 = new DOMParser().parseFromString(n3, "text/html").querySelector("img");
            if (r3 && !w.opts.imageUploadURL) {
              if (!r3) return false;
              var i3 = r3.src, o3 = null;
              if (a3.types && -1 != [].indexOf.call(a3.types, "text/rtf") || a3.getData("text/rtf")) o3 = a3.items[0].getAsFile();
              else for (var s3 = 0; s3 < a3.items.length; s3++) if (o3 = a3.items[s3].getAsFile()) {
                St.IMAGE_TYPE = o3.type;
                break;
              }
              if (o3) return le(o3, i3), false;
            } else {
              var l3 = null;
              if (a3.types && -1 != [].indexOf.call(a3.types, "text/rtf") || a3.getData("text/rtf")) l3 = a3.items[0].getAsFile();
              else for (var c3 = 0; c3 < a3.items.length && !(l3 = a3.items[c3].getAsFile()); c3++) ;
              if (l3) return function d3(e2) {
                var t3 = new FileReader();
                t3.onload = se, t3.readAsDataURL(e2);
              }(l3), false;
            }
          }
        }
        function de(e) {
          return e = e.replace(/<img /gi, '<img data-fr-image-pasted="true" ');
        }
        function fe(e) {
          if ("false" == A(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")) return true;
          if (e && "touchend" == e.type && a2) return true;
          if (e && w.edit.isDisabled()) return e.stopPropagation(), e.preventDefault(), false;
          for (var t2 = 0; t2 < St.INSTANCES.length; t2++) St.INSTANCES[t2] != w && St.INSTANCES[t2].events.trigger("image.hideResizer");
          w.toolbar.disable(), e && (e.stopPropagation(), e.preventDefault()), w.helpers.isMobile() && (w.events.disableBlur(), w.$el.blur(), w.events.enableBlur()), w.opts.iframe && w.size.syncIframe(), y2 = A(this), _e(), S(), i2(), w.browser.msie ? (w.popups.areVisible() && w.events.disableBlur(), w.win.getSelection && (w.win.getSelection().removeAllRanges(), w.win.getSelection().addRange(w.doc.createRange()))) : w.selection.clear(), w.helpers.isIOS() && (w.events.disableBlur(), w.$el.blur()), w.button.bulkRefresh(), w.events.trigger("video.hideResizer");
        }
        function pe(e) {
          y2 && (/* @__PURE__ */ function t2() {
            return ue;
          }() || true === e) && (w.toolbar.enable(), c2.removeClass("fr-active"), w.popups.hideAll(), y2 = null, he(), d2 = null, f2 && f2.hide());
        }
        r2[n2] = "Image cannot be loaded from the passed link.", r2[p2] = "No link in upload response.", r2[u2] = "Error during file upload.", r2[g2] = "Parsing response failed.", r2[T] = "File is too large.", r2[k] = "Image file type is invalid.", r2[7] = "Files can be uploaded only to same domain in IE 8 and IE 9.";
        var ue = !(r2[8] = "Image file is corrupted.");
        function ge() {
          ue = true;
        }
        function he() {
          ue = false;
        }
        function me(e, t2, a3) {
          if (!w.opts.htmlUntouched && w.opts.useClasses) e.removeClass("fr-fil fr-fir fr-dib fr-dii"), a3 && e.addClass("fr-fi".concat(a3[0])), t2 && e.addClass("fr-di".concat(t2[0]));
          else if ("inline" == t2) if (e.css({ display: "inline-block", verticalAlign: "bottom", margin: w.opts.imageDefaultMargin }), "center" == a3) e.css({ "float": "none", marginBottom: "", marginTop: "", maxWidth: "calc(100% - ".concat(2 * w.opts.imageDefaultMargin, "px)"), textAlign: "center" });
          else if ("left" == a3) {
            var n3 = "0px", r3 = e.parent("span.fr-img-caption").get(0);
            r3 || (r3 = e.parent().get(0)), r3 && "li" === r3.tagName.toLowerCase() ? n3 = "20px" : r3 && "p" === r3.tagName.toLowerCase() && (n3 = "15px"), e.css({ "float": "left", marginLeft: 0, maxWidth: "calc(100% - ".concat(w.opts.imageDefaultMargin, "px)"), textAlign: "left", marginRight: n3 });
          } else e.css({ "float": "right", marginRight: 0, maxWidth: "calc(100% - ".concat(w.opts.imageDefaultMargin, "px)"), textAlign: "right" });
          else "block" == t2 && (e.css({ display: "block", "float": "none", verticalAlign: "top", margin: "".concat(w.opts.imageDefaultMargin, "px auto"), textAlign: "center" }), "left" == a3 ? e.css({ marginLeft: 0, textAlign: "left" }) : "right" == a3 && e.css({ marginRight: 0, textAlign: "right" }));
        }
        function ve(e) {
          if (void 0 === e && (e = ye2()), e) {
            if (e.hasClass("fr-fil")) return "left";
            if (e.hasClass("fr-fir")) return "right";
            if (e.hasClass("fr-dib") || e.hasClass("fr-dii")) return "center";
            var t2 = e.css("float");
            if (e.css("float", "none"), "block" == e.css("display")) {
              if (e.css("float", ""), e.css("float") != t2 && e.css("float", t2), 0 === parseInt(e.css("margin-left"), 10)) return "left";
              if (0 === parseInt(e.css("margin-right"), 10)) return "right";
            } else {
              if (e.css("float", ""), e.css("float") != t2 && e.css("float", t2), "left" == e.css("float")) return "left";
              if ("right" == e.css("float")) return "right";
            }
          }
          return "center";
        }
        function be(e) {
          void 0 === e && (e = ye2());
          var t2 = e.css("float");
          return e.css("float", "none"), "block" == e.css("display") ? (e.css("float", ""), e.css("float") != t2 && e.css("float", t2), "block") : (e.css("float", ""), e.css("float") != t2 && e.css("float", t2), "inline");
        }
        function Ee() {
          var e = w.popups.get("image.insert");
          e || (e = j()), w.popups.isVisible("image.insert") || (M(), w.popups.refresh("image.insert"), w.popups.setContainer("image.insert", w.$sc));
          var t2 = ye2(), a3 = t2 && t2.outerWidth() / 2;
          Ae() && (t2 = t2.find(".fr-img-wrap"), a3 = y2.outerWidth() / 2);
          var n3, r3 = t2.offset().left + a3, i3 = t2.outerHeight(true);
          w.opts.iframe && Ae() && (i3 = y2 ? y2.outerHeight() : 0), n3 = 0 < w.$el.find("img[data-fr-image-pasted]").length ? w.$wp.offset().top - w.helpers.scrollTop() + w.$wp.height() : t2.offset().top + t2.outerHeight(), w.popups.show("image.insert", r3, n3, i3, true);
        }
        function _e() {
          if (y2) {
            w.events.disableBlur(), w.selection.clear();
            var e = w.doc.createRange();
            e.selectNode(y2.get(0)), w.browser.msie && e.collapse(true), w.selection.get().addRange(e), w.events.enableBlur();
          }
        }
        function we() {
          return y2;
        }
        function ye2() {
          return Ae() ? y2.parents(".fr-img-caption").first() : y2;
        }
        function Ae() {
          return !!y2 && 0 < y2.parents(".fr-img-caption").length;
        }
        function Ce(e) {
          for (var t2 = document.createDocumentFragment(); e.firstChild; ) {
            var a3 = e.removeChild(e.firstChild);
            t2.appendChild(a3);
          }
          e.parentNode.replaceChild(t2, e);
        }
        return { _init: function Te() {
          var i3;
          (function e() {
            w.events.$on(w.$el, w._mousedown, "IMG" == w.el.tagName ? null : 'img:not([contenteditable="false"])', function(e2) {
              if ("false" == A(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")) return true;
              w.helpers.isMobile() || w.selection.clear(), t = true, w.popups.areVisible() && w.events.disableBlur(), w.browser.msie && (w.events.disableBlur(), w.$el.attr("contenteditable", false)), w.draggable || "touchstart" == e2.type || e2.preventDefault(), e2.stopPropagation();
            }), w.events.$on(w.$el, w._mousedown, ".fr-img-caption .fr-inner", function(e2) {
              w.core.hasFocus() || w.events.focus(), e2.stopPropagation();
            }), w.events.$on(w.$el, "paste", ".fr-img-caption .fr-inner", function(e2) {
              true === w.opts.toolbarInline && (w.toolbar.hide(), e2.stopPropagation());
            }), w.events.$on(w.$el, w._mousedown, 'img:not([contenteditable="false"])', function(e2) {
              var t2 = this;
              w.browser.mozilla && 3 == e2.which && (A(this).attr("contenteditable", false), setTimeout(function() {
                A(t2).removeAttr("contenteditable");
              }, 200));
            }), w.events.$on(w.$el, w._mouseup, "IMG" == w.el.tagName ? null : 'img:not([contenteditable="false"])', function(e2) {
              if ("false" == A(this).parents("contenteditable").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")) return true;
              t && (t = false, e2.stopPropagation(), w.browser.msie && (w.$el.attr("contenteditable", true), w.events.enableBlur()));
            }), w.events.on("keyup", function(e2) {
              if (e2.shiftKey && "" === w.selection.text().replace(/\n/g, "") && w.keys.isArrow(e2.which)) {
                var t2 = w.selection.element(), a3 = w.selection.endElement();
                t2 && "IMG" == t2.tagName ? P(A(t2)) : a3 && "IMG" == a3.tagName && P(A(a3));
              }
            }, true), w.events.on("drop", Y), w.events.on("element.beforeDrop", V), w.events.on("mousedown window.mousedown", ge), w.events.on("window.touchmove", he), w.events.on("mouseup window.mouseup", function() {
              if (y2 && !w.helpers.isMobile()) return pe(), false;
              he();
            }), w.events.on("touchstart touchend", function() {
              if (y2 && w.helpers.isMobile()) return pe(), false;
              he();
            }), w.events.on("commands.mousedown", function(e2) {
              0 < e2.parents(".fr-toolbar").length && pe();
            }), w.events.on("image.resizeEnd", function() {
              w.opts.iframe && w.size.syncIframe();
            }), w.events.on("blur image.hideResizer commands.undo commands.redo element.dropped", function() {
              pe(!(t = false));
            }), w.events.on("modals.hide", function() {
              y2 && (_e(), w.selection.clear());
            }), w.events.on("image.resizeEnd", function() {
              w.win.getSelection && P(y2);
            }), w.events.on("filestack-init", function() {
              j();
            }), w.events.on("filestack-init-edit", function() {
              for (var e2 = w.$(".fr-popup"), t2 = e2.length - 1; 0 <= t2; t2--) e2[t2].parentElement.removeChild(e2[t2]);
              O2();
            }), w.opts.imageAddNewLine && w.events.on("image.inserted", function(e2) {
              var t2 = e2.get(0);
              for (t2.nextSibling && "BR" === t2.nextSibling.tagName && (t2 = t2.nextSibling); t2 && !w.node.isElement(t2); ) t2 = w.node.isLastSibling(t2) ? t2.parentNode : null;
              w.node.isElement(t2) && (w.opts.enter === St.ENTER_BR ? e2.after("<br>") : A(w.node.blockParent(e2.get(0))).after("<".concat(w.html.defaultTag(), "><br></").concat(w.html.defaultTag(), ">")));
            });
          })(), "IMG" == w.el.tagName && w.$el.addClass("fr-view"), w.events.$on(w.$el, w.helpers.isMobile() && !w.helpers.isWindowsPhone() ? "touchend" : "click", "IMG" == w.el.tagName ? null : 'img:not([contenteditable="false"])', fe), w.helpers.isMobile() && (w.events.$on(w.$el, "touchstart", "IMG" == w.el.tagName ? null : 'img:not([contenteditable="false"])', function() {
            a2 = false;
          }), w.events.$on(w.$el, "touchmove", function() {
            a2 = true;
          })), w.$wp ? (w.events.on("window.keydown keydown", ne, true), w.events.on("keyup", function(e) {
            if (y2 && e.which == St.KEYCODE.ENTER) return false;
          }, true), w.events.$on(w.$el, "keydown", function() {
            var e = w.selection.element();
            (e.nodeType === Node.TEXT_NODE || "BR" == e.tagName && w.node.isLastSibling(e)) && (e = e.parentNode), w.node.hasClass(e, "fr-inner") || (w.node.hasClass(e, "fr-img-caption") || (e = A(e).parents(".fr-img-caption").get(0)), w.node.hasClass(e, "fr-img-caption") && (w.opts.trackChangesEnabled || A(e).after(St.INVISIBLE_SPACE + St.MARKERS), w.selection.restore()));
          })) : w.events.$on(w.$win, "keydown", ne), w.events.on("toolbar.esc", function() {
            if (y2) {
              if (w.$wp) w.events.disableBlur(), w.events.focus();
              else {
                var e = y2;
                pe(true), w.selection.setAfter(e.get(0)), w.selection.restore();
              }
              return false;
            }
          }, true), w.events.on("toolbar.focusEditor", function() {
            if (y2) return false;
          }, true), w.events.on("window.cut window.copy", function(e) {
            if (y2 && w.popups.isVisible("image.edit") && !w.popups.get("image.edit").find(":focus").length) {
              var t2 = ye2();
              Ae() ? (t2.before(St.START_MARKER), t2.after(St.END_MARKER), w.selection.restore(), w.paste.saveCopiedText(t2.get(0).outerHTML, t2.text())) : (_e(), w.paste.saveCopiedText(y2.get(0).outerHTML, y2.attr("alt"))), "copy" == e.type ? setTimeout(function() {
                P(y2);
              }) : (pe(true), w.undo.saveStep(), setTimeout(function() {
                w.undo.saveStep();
              }, 0));
            }
          }, true), w.browser.msie && w.events.on("keydown", function(e) {
            if (!w.selection.isCollapsed() || !y2) return true;
            var t2 = e.which;
            t2 == St.KEYCODE.C && w.keys.ctrlKey(e) ? w.events.trigger("window.copy") : t2 == St.KEYCODE.X && w.keys.ctrlKey(e) && w.events.trigger("window.cut");
          }), w.events.$on(A(w.o_win), "keydown", function(e) {
            if (w.opts.pluginsEnabled.includes("filestack") && w.opts.iframe) {
              var t2 = document.getElementsByClassName("fs-transforms-container"), a3 = false;
              if (t2 && t2.length) {
                var n3, r3 = He(t2);
                try {
                  for (r3.s(); !(n3 = r3.n()).done; ) {
                    var i4 = n3.value;
                    i4.childNodes && i4.childNodes.length && (a3 = true);
                  }
                } catch (s3) {
                  r3.e(s3);
                } finally {
                  r3.f();
                }
              }
              a3 && (y2 = null);
            }
            var o3 = e.which;
            if (y2 && o3 == St.KEYCODE.BACKSPACE) return e.preventDefault(), false;
          }), w.events.$on(w.$win, "keydown", function(e) {
            var t2 = e.which;
            y2 && y2.hasClass("fr-uploading") && t2 == St.KEYCODE.ESC && y2.trigger("abortUpload");
          }), w.events.on("destroy", function() {
            y2 && y2.hasClass("fr-uploading") && y2.trigger("abortUpload");
          }), w.events.on("paste.before", ce), w.events.on("paste.beforeCleanup", de), w.events.on("paste.after", oe), w.events.on("html.set", v2), w.events.on("html.inserted", v2), v2(), w.events.on("destroy", function() {
            s2 = [];
          }), w.events.on("html.processGet", re), w.opts.imageOutputSize && w.events.on("html.beforeGet", function() {
            i3 = w.el.querySelectorAll("img");
            for (var e = 0; e < i3.length; e++) {
              var t2 = parseFloat(A(i3[e]).css("padding-left")) + parseFloat(A(i3[e]).css("padding-right")), a3 = A(i3[e]).width() - t2, n3 = i3[e].style.width || a3, r3 = i3[e].style.height || A(i3[e]).height();
              n3 && i3[e].setAttribute("width", "".concat(n3).replace(/px/, "")), r3 && i3[e].setAttribute("height", "".concat(r3).replace(/px/, ""));
            }
          }), w.opts.iframe && w.events.on("image.loaded", w.size.syncIframe), w.$wp && (b2(), w.events.on("contentChanged", b2)), w.events.$on(A(w.o_win), "orientationchange.image", function() {
            setTimeout(function() {
              y2 && P(y2);
            }, 100);
          }), O2(true), j(true), ee(true), Z(true), w.events.on("node.remove", function(e) {
            if ("IMG" == e.get(0).tagName) return ae(e), false;
          });
        }, showInsertPopup: function ke() {
          var e = w.$tb.find('.fr-command[data-cmd="insertImage"]'), t2 = w.popups.get("image.insert");
          if (t2 || (t2 = j()), M(), !t2.hasClass("fr-active")) if (w.popups.refresh("image.insert"), w.popups.setContainer("image.insert", w.$tb), e.isVisible()) {
            var a3 = w.button.getPosition(e), n3 = a3.left, r3 = a3.top;
            w.popups.show("image.insert", n3, r3, e.outerHeight());
          } else w.position.forSelection(t2), w.popups.show("image.insert");
        }, showLayer: function Se(e) {
          var t2, a3, n3 = w.popups.get("image.insert");
          if (y2 || w.opts.toolbarInline) {
            if (y2) {
              var r3 = ye2(), i3 = 0;
              Ae() && (r3 = r3.find(".fr-img-wrap"), i3 = y2.outerWidth() / 2), a3 = r3.offset().top + r3.outerHeight(), t2 = r3.offset().left + i3;
            }
          } else {
            var o3 = w.$tb.find('.fr-command[data-cmd="insertImage"]');
            t2 = o3.offset().left, a3 = o3.offset().top + (w.opts.toolbarBottom ? 10 : o3.outerHeight() - 10);
          }
          !y2 && w.opts.toolbarInline && (a3 = n3.offset().top - w.helpers.getPX(n3.css("margin-top")), n3.hasClass("fr-above") && (a3 += n3.outerHeight())), n3.find(".fr-layer").removeClass("fr-active"), n3.find(".fr-".concat(e, "-layer")).addClass("fr-active"), w.popups.show("image.insert", t2, a3, y2 ? y2.outerHeight() : 0, Ae()), w.accessibility.focusPopup(n3);
        }, refreshUploadButton: function Re(e) {
          var t2 = w.popups.get("image.insert");
          t2 && t2.find(".fr-image-upload-layer").hasClass("fr-active") && e.addClass("fr-active").attr("aria-pressed", true);
        }, refreshByURLButton: function Le(e) {
          var t2 = w.popups.get("image.insert");
          t2 && t2.find(".fr-image-by-url-layer").hasClass("fr-active") && e.addClass("fr-active").attr("aria-pressed", true);
        }, upload: G, insertByURL: function xe() {
          var e = w.popups.get("image.insert").find(".fr-image-by-url-layer input");
          if (0 < e.val().length) {
            F(), N(w.language.translate("Loading image"));
            var t2 = e.val().trim();
            if (w.opts.imageUploadRemoteUrls && w.opts.imageCORSProxy && w.opts.imageUpload) {
              var a3 = new XMLHttpRequest();
              a3.onload = function() {
                200 == this.status ? G([new Blob([this.response], { type: this.response.type || "image/png" })], y2) : I2(n2);
              }, a3.onerror = function() {
                U(t2, true, [], y2);
              }, a3.open("GET", "".concat(w.opts.imageCORSProxy, "/").concat(t2), true), a3.responseType = "blob", a3.send();
            } else U(t2, true, [], y2);
            e.val(""), e.blur();
          }
        }, align: function Ie(e) {
          var t2 = ye2();
          t2.removeClass("fr-fir fr-fil"), !w.opts.htmlUntouched && w.opts.useClasses ? "left" == e ? t2.addClass("fr-fil") : "right" == e && t2.addClass("fr-fir") : me(t2, be(), e), _e(), S(), i2(), w.selection.clear();
        }, refreshAlign: function Oe(e) {
          y2 && e.find("> *").first().replaceWith(w.icon.create("image-align-".concat(ve())));
        }, refreshAlignOnShow: function Fe(e, t2) {
          y2 && t2.find('.fr-command[data-param1="'.concat(ve(), '"]')).addClass("fr-active").attr("aria-selected", true);
        }, display: function Me(e) {
          var t2 = ye2();
          t2.removeClass("fr-dii fr-dib"), !w.opts.htmlUntouched && w.opts.useClasses ? "inline" == e ? t2.addClass("fr-dii") : "block" == e && t2.addClass("fr-dib") : me(t2, e, ve()), _e(), S(), i2(), w.selection.clear();
        }, refreshDisplayOnShow: function Ne(e, t2) {
          y2 && t2.find('.fr-command[data-param1="'.concat(be(), '"]')).addClass("fr-active").attr("aria-selected", true);
        }, replace: Ee, back: function e() {
          y2 ? (w.events.disableBlur(), A(".fr-popup input:focus").blur(), P(y2)) : (w.events.disableBlur(), w.selection.restore(), w.events.enableBlur(), w.popups.hide("image.insert"), w.toolbar.showInline());
        }, get: we, getEl: ye2, insert: U, showProgressBar: F, remove: ae, hideProgressBar: M, applyStyle: function De(e, t2, a3) {
          if (void 0 === t2 && (t2 = w.opts.imageStyles), void 0 === a3 && (a3 = w.opts.imageMultipleStyles), !y2) return false;
          var n3 = ye2();
          if (!a3) {
            var r3 = Object.keys(t2);
            r3.splice(r3.indexOf(e), 1), n3.removeClass(r3.join(" "));
          }
          "object" == Rt(t2[e]) ? (n3.removeAttr("style"), n3.css(t2[e].style)) : (n3.toggleClass(e), Ae() && y2.hasClass(e) && y2.removeClass(e)), P(y2);
        }, showAltPopup: X, showSizePopup: J, setAlt: function Pe(e) {
          if (y2) {
            var t2 = w.popups.get("image.alt");
            y2.attr("alt", e || t2.find("input").val() || ""), t2.find("input:focus").blur(), P(y2);
          }
        }, setSize: function Be(e, t2) {
          if (y2) {
            var a3 = w.popups.get("image.size");
            e = e || a3.find('input[name="width"]').val() || "", t2 = t2 || a3.find('input[name="height"]').val() || "";
            var n3 = /^[\d]+((px)|%)*$/g;
            y2.removeAttr("width").removeAttr("height"), e.match(n3) ? y2.css("width", e) : y2.css("width", ""), t2.match(n3) ? y2.css("height", t2) : y2.css("height", ""), Ae() && (y2.parents(".fr-img-caption").removeAttr("width").removeAttr("height"), e.match(n3) ? y2.parents(".fr-img-caption").css("width", e) : y2.parents(".fr-img-caption").css("width", ""), t2.match(n3) ? y2.parents(".fr-img-caption").css("height", t2) : y2.parents(".fr-img-caption").css("height", "")), a3 && a3.find("input:focus").blur(), P(y2);
          }
        }, toggleCaption: function Ue() {
          var e;
          if (y2 && !Ae()) {
            (e = y2).parent().is("a") && (e = y2.parent());
            var t2, a3, n3 = y2.parents("ul") && 0 < y2.parents("ul").length ? y2.parents("ul") : y2.parents("ol") && 0 < y2.parents("ol").length ? y2.parents("ol") : [];
            if (0 < n3.length) {
              var r3 = n3.find("li").length, i3 = y2.parents("li"), o3 = document.createElement("li");
              r3 - 1 === i3.index() && (n3.append(o3), o3.innerHTML = "&nbsp;");
            }
            e.attr("style") ? a3 = -1 < (t2 = e.attr("style").split(":")).indexOf("width") ? t2[t2.indexOf("width") + 1].replace(";", "") : "" : e.attr("width") && (a3 = e.attr("width"));
            var s3 = w.opts.imageResizeWithPercent ? (-1 < a3.indexOf("px") ? null : a3) || "100%" : y2.width() + "px";
            e.wrap('<div class="fr-img-space-wrap"><span ' + (w.browser.mozilla ? "" : 'contenteditable="false"') + 'class="fr-img-caption ' + y2.attr("class") + '" style="' + (w.opts.useClasses ? "" : e.attr("style")) + '" draggable="false"></span></div>'), e.wrap('<span class="fr-img-wrap"></span>'), y2.after('<span class="fr-inner"'.concat(w.browser.mozilla ? "" : ' contenteditable="true"', ">").concat(St.START_MARKER).concat(w.language.translate("Image Caption")).concat(St.END_MARKER, "</span>")), y2.parents(".fr-img-caption").css("width", s3);
            var l3 = y2.parents(".fr-img-space-wrap").length;
            1 == l3 ? Ce(document.querySelector(".fr-img-space-wrap")) : 1 < l3 && (Ce(document.querySelector(".fr-img-space-wrap")), Ce(document.querySelector(".fr-img-space-wrap2"))), pe(true), w.selection.restore();
          } else {
            if (e = ye2(), y2.insertBefore(e), null !== e[0].querySelector("a")) {
              for (var c3, d3 = e[0].querySelector("a"), f3 = document.createElement("a"), p3 = 0, u3 = d3.attributes, g3 = u3.length; p3 < g3; p3++) c3 = u3[p3], f3.setAttribute(c3.nodeName, c3.nodeValue);
              y2.wrap(f3);
            }
            y2.attr("class", e.attr("class").replace("fr-img-caption", "")).attr("style", e.attr("style")), e.remove();
            var h3 = y2.parents(".fr-img-space-wrap").length;
            1 == h3 ? Ce(document.querySelector(".fr-img-space-wrap")) : 1 < h3 && (Ce(document.querySelector(".fr-img-space-wrap")), Ce(document.querySelector(".fr-img-space-wrap2"))), P(y2);
          }
        }, hasCaption: Ae, exitEdit: pe, edit: P };
      }, St.DefineIcon("insertImage", { NAME: "image", SVG_KEY: "insertImage" }), St.RegisterShortcut(St.KEYCODE.P, "insertImage", null, "P"), St.RegisterCommand("insertImage", { title: "Insert Image", undo: false, focus: true, refreshAfterCallback: false, popup: true, callback: function() {
        this.popups.isVisible("image.insert") ? (this.$el.find(".fr-marker").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide("image.insert")) : this.image.showInsertPopup();
      }, plugin: "image" }), St.DefineIcon("imageUpload", { NAME: "upload", SVG_KEY: "upload" }), St.RegisterCommand("imageUpload", { title: "Upload Image", undo: false, focus: false, toggle: true, callback: function() {
        this.image.showLayer("image-upload");
      }, refresh: function(e) {
        this.image.refreshUploadButton(e);
      } }), St.DefineIcon("imageByURL", { NAME: "link", SVG_KEY: "insertLink" }), St.RegisterCommand("imageByURL", { title: "By URL", undo: false, focus: false, toggle: true, callback: function() {
        this.image.showLayer("image-by-url");
      }, refresh: function(e) {
        this.image.refreshByURLButton(e);
      } }), St.RegisterCommand("imageInsertByURL", { title: "Insert Image", undo: true, refreshAfterCallback: false, callback: function() {
        this.image.insertByURL();
      }, refresh: function(e) {
        this.image.get() ? e.text(this.language.translate("Replace")) : e.text(this.language.translate("Insert"));
      } }), St.DefineIcon("imageDisplay", { NAME: "star", SVG_KEY: "imageDisplay" }), St.RegisterCommand("imageDisplay", { title: "Display", type: "dropdown", options: { inline: "Inline", block: "Break Text" }, callback: function(e, t) {
        this.image.display(t);
      }, refresh: function(e) {
        this.opts.imageTextNear || e.addClass("fr-hidden");
      }, refreshOnShow: function(e, t) {
        this.image.refreshDisplayOnShow(e, t);
      } }), St.DefineIcon("image-align", { NAME: "align-left", SVG_KEY: "alignLeft" }), St.DefineIcon("image-align-left", { NAME: "align-left", SVG_KEY: "alignLeft" }), St.DefineIcon("image-align-right", { NAME: "align-right", SVG_KEY: "alignRight" }), St.DefineIcon("image-align-center", { NAME: "align-justify", SVG_KEY: "alignCenter" }), St.DefineIcon("imageAlign", { NAME: "align-justify", SVG_KEY: "alignJustify" }), St.RegisterCommand("imageAlign", { type: "dropdown", title: "Align", options: { left: "Align Left", center: "None", right: "Align Right" }, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = St.COMMANDS.imageAlign.options;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="imageAlign" data-param1="'.concat(a2, '" title="').concat(this.language.translate(t[a2]), '">').concat(this.icon.create("image-align-".concat(a2)), '<span class="fr-sr-only">').concat(this.language.translate(t[a2]), "</span></a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        this.image.align(t);
      }, refresh: function(e) {
        this.image.refreshAlign(e);
      }, refreshOnShow: function(e, t) {
        this.image.refreshAlignOnShow(e, t);
      } }), St.DefineIcon("imageReplace", { NAME: "exchange", FA5NAME: "exchange-alt", SVG_KEY: "replaceImage" }), St.RegisterCommand("imageReplace", { title: "Replace", undo: false, focus: false, popup: true, refreshAfterCallback: false, callback: function() {
        this.image.replace();
      } }), St.DefineIcon("imageRemove", { NAME: "trash", SVG_KEY: "remove" }), St.RegisterCommand("imageRemove", { title: "Remove", callback: function() {
        this.image.remove();
      } }), St.DefineIcon("imageBack", { NAME: "arrow-left", SVG_KEY: "back" }), St.RegisterCommand("imageBack", { title: "Back", undo: false, focus: false, back: true, callback: function() {
        this.image.back();
      }, refresh: function(e) {
        this.$;
        this.image.get() || this.opts.toolbarInline ? (e.removeClass("fr-hidden"), e.next(".fr-separator").removeClass("fr-hidden")) : (e.addClass("fr-hidden"), e.next(".fr-separator").addClass("fr-hidden"));
      } }), St.RegisterCommand("imageDismissError", { title: "OK", undo: false, callback: function() {
        this.image.hideProgressBar(true);
      } }), St.DefineIcon("imageStyle", { NAME: "magic", SVG_KEY: "imageClass" }), St.RegisterCommand("imageStyle", { title: "Style", type: "dropdown", html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.imageStyles;
        for (var a2 in t) if (t.hasOwnProperty(a2)) {
          var n2 = t[a2];
          "object" == Rt(n2) && (n2 = n2.title), e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="imageStyle" data-param1="'.concat(a2, '">').concat(this.language.translate(n2), "</a></li>");
        }
        return e += "</ul>";
      }, callback: function(e, t) {
        this.image.applyStyle(t);
      }, refreshOnShow: function(e, t) {
        var a2 = this.$, n2 = this.image.getEl();
        n2 && t.find(".fr-command").each(function() {
          var e2 = a2(this).data("param1"), t2 = n2.hasClass(e2);
          a2(this).toggleClass("fr-active", t2).attr("aria-selected", t2);
        });
      } }), St.DefineIcon("imageAlt", { NAME: "info", SVG_KEY: "imageAltText" }), St.RegisterCommand("imageAlt", { undo: false, focus: false, popup: true, title: "Alternative Text", callback: function() {
        this.image.showAltPopup();
      } }), St.RegisterCommand("imageSetAlt", { undo: true, focus: false, title: "Update", refreshAfterCallback: false, callback: function() {
        this.image.setAlt();
      } }), St.DefineIcon("imageSize", { NAME: "arrows-alt", SVG_KEY: "imageSize" }), St.RegisterCommand("imageSize", { undo: false, focus: false, popup: true, title: "Change Size", callback: function() {
        this.image.showSizePopup();
      } }), St.RegisterCommand("imageSetSize", { undo: true, focus: false, title: "Update", refreshAfterCallback: false, callback: function() {
        this.image.setSize();
      } }), St.DefineIcon("imageCaption", { NAME: "commenting", FA5NAME: "comment-alt", SVG_KEY: "imageCaption" }), St.RegisterCommand("imageCaption", { undo: true, focus: false, title: "Image Caption", refreshAfterCallback: true, callback: function() {
        this.image.toggleCaption();
      }, refresh: function(e) {
        this.image.get() && e.toggleClass("fr-active", this.image.hasCaption());
      } }), Object.assign(St.DEFAULTS, { imageManagerLoadURL: "https://i.froala.com/load-files", imageManagerLoadMethod: "get", imageManagerLoadParams: {}, imageManagerPreloader: null, imageManagerDeleteURL: "", imageManagerDeleteMethod: "post", imageManagerDeleteParams: {}, imageManagerPageSize: 12, imageManagerScrollOffset: 20, imageManagerToggleTags: true }), St.PLUGINS.imageManager = function(s2) {
        var l2, c2, i2, o2, d2, f2, p2, u2, g2, h2, m2, v2 = s2.$, b2 = "image_manager", e = 10, E2 = 11, _ = 12, w = 13, y2 = 14, A = 15, a2 = 21, n2 = 22, r2 = {};
        function C() {
          var e2 = v2(window).outerWidth();
          return e2 < 768 ? 2 : e2 < 1200 ? 3 : 4;
        }
        function T() {
          d2.empty();
          for (var e2 = 0; e2 < m2; e2++) d2.append('<div class="fr-list-column"></div>');
        }
        function k() {
          if (g2 < p2.length && i2[0].scrollTop >= i2[0].scrollHeight - s2.opts.imageManagerScrollOffset - i2.outerHeight()) {
            u2++;
            for (var e2 = s2.opts.imageManagerPageSize * (u2 - 1); e2 < Math.min(p2.length, s2.opts.imageManagerPageSize * u2); e2++) t(p2[e2]);
          }
        }
        function t(r3) {
          var i3 = new Image(), o3 = v2(document.createElement("div")).attr("class", "fr-image-container fr-empty fr-image-" + h2++).attr("data-loading", s2.language.translate("Loading") + "..").attr("data-deleting", s2.language.translate("Deleting") + "..");
          x(false), i3.onload = function() {
            o3.height(Math.floor(o3.width() / i3.width * i3.height));
            var a3 = v2(document.createElement("img"));
            if (r3.thumb) a3.attr("src", r3.thumb);
            else {
              if (M(y2, r3), !r3.url) return M(A, r3), false;
              a3.attr("src", r3.url);
            }
            if (r3.url && a3.attr("data-url", r3.url), r3.tag) if (c2.find(".fr-modal-more.fr-not-available").removeClass("fr-not-available"), c2.find(".fr-modal-tags").show(), 0 <= r3.tag.indexOf(",")) {
              for (var e2 = r3.tag.split(","), t2 = 0; t2 < e2.length; t2++) e2[t2] = e2[t2].trim(), 0 === f2.find('a[title="'.concat(e2[t2], '"]')).length && f2.append('<a role="button" title="'.concat(e2[t2], '">').concat(e2[t2], "</a>"));
              a3.attr("data-tag", e2.join());
            } else 0 === f2.find('a[title="'.concat(r3.tag.trim(), '"]')).length && f2.append('<a role="button" title="'.concat(r3.tag.trim(), '">').concat(r3.tag.trim(), "</a>")), a3.attr("data-tag", r3.tag.trim());
            for (var n3 in r3.name && a3.attr("alt", r3.name), r3) r3.hasOwnProperty(n3) && "thumb" !== n3 && "url" !== n3 && "tag" !== n3 && a3.attr("data-".concat(n3), r3[n3]);
            o3.append(a3).append(v2(s2.icon.create("imageManagerDelete")).addClass("fr-delete-img").attr("title", s2.language.translate("Delete"))).append(v2(s2.icon.create("imageManagerInsert")).addClass("fr-insert-img").attr("title", s2.language.translate("Insert"))), f2.find(".fr-selected-tag").each(function(e3, t3) {
              B(a3, t3.text) || o3.hide();
            }), a3.on("load", function() {
              o3.removeClass("fr-empty"), o3.height("auto"), g2++, L(R(parseInt(a3.parent().attr("class").match(/fr-image-(\d+)/)[1], 10) + 1)), x(false), g2 % s2.opts.imageManagerPageSize == 0 && k();
            }), s2.events.trigger("imageManager.imageLoaded", [a3]);
          }, i3.onerror = function() {
            g2++, o3.remove(), L(R(parseInt(o3.attr("class").match(/fr-image-(\d+)/)[1], 10) + 1)), M(e, r3), g2 % s2.opts.imageManagerPageSize == 0 && k();
          }, i3.src = r3.thumb || r3.url, S().append(o3);
        }
        function S() {
          var n3, r3;
          return d2.find(".fr-list-column").each(function(e2, t2) {
            var a3 = v2(t2);
            0 === e2 ? (r3 = a3.outerHeight(), n3 = a3) : a3.outerHeight() < r3 && (r3 = a3.outerHeight(), n3 = a3);
          }), n3;
        }
        function R(e2) {
          e2 === void 0 && (e2 = 0);
          for (var t2 = [], a3 = h2 - 1; e2 <= a3; a3--) {
            var n3 = d2.find(".fr-image-".concat(a3));
            n3.length && (t2.push(n3), v2(document.createElement("div")).attr("id", "fr-image-hidden-container").append(n3), d2.find(".fr-image-".concat(a3)).remove());
          }
          return t2;
        }
        function L(e2) {
          for (var t2 = e2.length - 1; 0 <= t2; t2--) S().append(e2[t2]);
        }
        function x(e2) {
          if (e2 === void 0 && (e2 = true), !l2.isVisible()) return true;
          var t2 = C();
          if (t2 !== m2) {
            m2 = t2;
            var a3 = R();
            T(), L(a3);
          }
          s2.modals.resize(b2), e2 && k();
        }
        function I2(e2) {
          for (var t2, a3 = e2[0].attributes, n3 = a3.length, r3 = {}; n3--; ) a3[n3] && "src" !== (t2 = a3[n3].name) && (r3[t2] = a3[n3].value);
          return r3;
        }
        function O2(e2) {
          var t2 = v2(e2.currentTarget).siblings("img"), a3 = l2.data("instance") || s2, n3 = l2.data("current-image");
          if (s2.modals.hide(b2), a3.image.showProgressBar(), n3) n3.data("fr-old-src", n3.attr("src")), n3.trigger("click");
          else {
            a3.events.focus(true), a3.selection.restore();
            var r3 = a3.position.getBoundingRect(), i3 = r3.left + r3.width / 2 + v2(s2.doc).scrollLeft(), o3 = r3.top + r3.height + v2(s2.doc).scrollTop();
            a3.popups.setContainer("image.insert", s2.$sc), a3.popups.show("image.insert", i3, o3);
          }
          a3.image.insert(t2.data("url"), false, I2(t2), n3);
        }
        function F(e2) {
          var i3 = v2(e2.currentTarget).siblings("img"), t2 = s2.language.translate("Are you sure? Image will be deleted.");
          confirm(t2) && (s2.opts.imageManagerDeleteURL ? false !== s2.events.trigger("imageManager.beforeDeleteImage", [i3]) && (i3.parent().addClass("fr-image-deleting"), v2(this).ajax({ method: s2.opts.imageManagerDeleteMethod, url: s2.opts.imageManagerDeleteURL, data: Object.assign(Object.assign({ src: i3.attr("src") }, I2(i3)), s2.opts.imageManagerDeleteParams), crossDomain: s2.opts.requestWithCORS, withCredentials: s2.opts.requestWithCredentials, headers: s2.opts.requestHeaders, done: function(e3, t3, a3) {
            s2.events.trigger("imageManager.imageDeleted", [e3]);
            var n3 = R(parseInt(i3.parent().attr("class").match(/fr-image-(\d+)/)[1], 10) + 1);
            i3.parent().remove(), L(n3), function r3() {
              l2.find("#fr-modal-tags > a").each(function() {
                0 === l2.find('#fr-image-list [data-tag*="'.concat(v2(this).text(), '"]')).length && v2(this).removeClass("fr-selected-tag").hide();
              }), D();
            }(), x(true);
          }, fail: function(e3) {
            M(a2, e3.response || e3.responseText);
          } })) : M(n2));
        }
        function M(e2, t2) {
          10 <= e2 && e2 < 20 ? o2.hide() : 20 <= e2 && e2 < 30 && v2(".fr-image-deleting").removeClass("fr-image-deleting"), s2.events.trigger("imageManager.error", [{ code: e2, message: r2[e2] }, t2]);
        }
        function N() {
          var e2 = c2.find(".fr-modal-head-line").outerHeight(), t2 = f2.outerHeight();
          c2.toggleClass("fr-show-tags"), c2.hasClass("fr-show-tags") ? (c2.css("height", e2 + t2), i2.css("marginTop", e2 + t2), f2.find("a").css("opacity", 1)) : (c2.css("height", e2), i2.css("marginTop", e2), f2.find("a").css("opacity", 0));
        }
        function D() {
          var e2 = f2.find(".fr-selected-tag");
          0 < e2.length ? (d2.find("img").parents().show(), e2.each(function(e3, n3) {
            d2.find("img").each(function(e4, t2) {
              var a3 = v2(t2);
              B(a3, n3.text) || a3.parent().hide();
            });
          })) : d2.find("img").parents().show(), L(R()), k();
        }
        function P(e2) {
          e2.preventDefault();
          var t2 = v2(e2.currentTarget);
          t2.toggleClass("fr-selected-tag"), s2.opts.imageManagerToggleTags && t2.siblings("a").removeClass("fr-selected-tag"), D();
        }
        function B(e2, t2) {
          for (var a3 = (e2.attr("data-tag") || "").split(","), n3 = 0; n3 < a3.length; n3++) if (a3[n3] === t2) return true;
          return false;
        }
        return r2[e] = "Image cannot be loaded from the passed link.", r2[E2] = "Error during load images request.", r2[_] = "Missing imageManagerLoadURL option.", r2[w] = "Parsing load response failed.", r2[y2] = "Missing image thumb.", r2[A] = "Missing image URL.", r2[a2] = "Error during delete image request.", r2[n2] = "Missing imageManagerDeleteURL option.", { require: ["image"], _init: function U() {
          if (!s2.$wp && "IMG" !== s2.el.tagName) return false;
        }, show: function H() {
          if (!l2) {
            var e2, t2 = '<button class="fr-command fr-btn fr-modal-more fr-not-available" id="fr-modal-more-'.concat(s2.sid, '"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24""><path d="').concat(St.SVG.tags, '"/></svg></button><h4 data-text="true">').concat(s2.language.translate("Manage Images"), '</h4></div>\n      <div class="fr-modal-tags" id="fr-modal-tags">');
            e2 = s2.opts.imageManagerPreloader ? '<img class="fr-preloader" id="fr-preloader" alt="'.concat(s2.language.translate("Loading"), '.." src="').concat(s2.opts.imageManagerPreloader, '" style="display: none;">') : '<span class="fr-preloader" id="fr-preloader" style="display: none;">'.concat(s2.language.translate("Loading"), "</span>"), e2 += '<div class="fr-image-list" id="fr-image-list"></div>';
            var a3 = s2.modals.create(b2, t2, e2);
            l2 = a3.$modal, c2 = a3.$head, i2 = a3.$body;
          }
          l2.data("current-image", s2.image.get()), s2.modals.show(b2), o2 || function n3() {
            o2 = l2.find("#fr-preloader"), d2 = l2.find("#fr-image-list"), f2 = l2.find("#fr-modal-tags"), m2 = C(), T(), c2.css("height", c2.find(".fr-modal-head-line").outerHeight()), s2.events.$on(v2(s2.o_win), "resize", function() {
              x(!!p2);
            }), s2.events.bindClick(d2, ".fr-insert-img", O2), s2.events.bindClick(d2, ".fr-delete-img", F), s2.helpers.isMobile() && (s2.events.bindClick(d2, "div.fr-image-container", function(e3) {
              l2.find(".fr-mobile-selected").removeClass("fr-mobile-selected"), v2(e3.currentTarget).addClass("fr-mobile-selected");
            }), l2.on(s2._mousedown, function() {
              l2.find(".fr-mobile-selected").removeClass("fr-mobile-selected");
            })), l2.on(s2._mousedown + " " + s2._mouseup, function(e3) {
              e3.stopPropagation();
            }), l2.on(s2._mousedown, "*", function() {
              s2.events.disableBlur();
            }), i2.on("scroll", k), s2.events.bindClick(l2, "button#fr-modal-more-".concat(s2.sid), N), s2.events.bindClick(f2, "a", P);
          }(), function r3() {
            o2.show(), d2.find(".fr-list-column").empty(), s2.opts.imageManagerLoadURL ? v2(this).ajax({ url: s2.opts.imageManagerLoadURL, method: s2.opts.imageManagerLoadMethod, data: s2.opts.imageManagerLoadParams, crossDomain: s2.opts.requestWithCORS, withCredentials: s2.opts.requestWithCredentials, headers: s2.opts.requestHeaders, done: function(e3, t3, a4) {
              s2.events.trigger("imageManager.imagesLoaded", [e3]), function n3(e4, t4) {
                try {
                  d2.find(".fr-list-column").empty(), h2 = g2 = u2 = 0, p2 = JSON.parse(e4), k();
                } catch (a5) {
                  M(w, t4);
                }
              }(e3, a4.response), o2.hide();
            }, fail: function(e3) {
              M(E2, e3.response || e3.responseText);
            } }) : M(_);
          }();
        }, hide: function $() {
          s2.modals.hide(b2);
        } };
      }, !St.PLUGINS.image) throw new Error("Image manager plugin requires image plugin.");
      function n(e) {
        var t = { omitExtraWLInCodeBlocks: { defaultValue: false, describe: "Omit the default extra whiteline added to code blocks", type: "boolean" }, noHeaderId: { defaultValue: false, describe: "Turn on/off generated header id", type: "boolean" }, prefixHeaderId: { defaultValue: false, describe: "Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix", type: "string" }, rawPrefixHeaderId: { defaultValue: false, describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)', type: "boolean" }, ghCompatibleHeaderId: { defaultValue: false, describe: "Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)", type: "boolean" }, rawHeaderId: { defaultValue: false, describe: `Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`, type: "boolean" }, headerLevelStart: { defaultValue: false, describe: "The header blocks level start", type: "integer" }, parseImgDimensions: { defaultValue: false, describe: "Turn on/off image dimension parsing", type: "boolean" }, simplifiedAutoLink: { defaultValue: false, describe: "Turn on/off GFM autolink style", type: "boolean" }, excludeTrailingPunctuationFromURLs: { defaultValue: false, describe: "Excludes trailing punctuation from links generated with autoLinking", type: "boolean" }, literalMidWordUnderscores: { defaultValue: false, describe: "Parse midword underscores as literal underscores", type: "boolean" }, literalMidWordAsterisks: { defaultValue: false, describe: "Parse midword asterisks as literal asterisks", type: "boolean" }, strikethrough: { defaultValue: false, describe: "Turn on/off strikethrough support", type: "boolean" }, tables: { defaultValue: false, describe: "Turn on/off tables support", type: "boolean" }, tablesHeaderId: { defaultValue: false, describe: "Add an id to table headers", type: "boolean" }, ghCodeBlocks: { defaultValue: true, describe: "Turn on/off GFM fenced code blocks support", type: "boolean" }, tasklists: { defaultValue: false, describe: "Turn on/off GFM tasklist support", type: "boolean" }, smoothLivePreview: { defaultValue: false, describe: "Prevents weird effects in live previews due to incomplete input", type: "boolean" }, smartIndentationFix: { defaultValue: false, description: "Tries to smartly fix indentation in es6 strings", type: "boolean" }, disableForced4SpacesIndentedSublists: { defaultValue: false, description: "Disables the requirement of indenting nested sublists by 4 spaces", type: "boolean" }, simpleLineBreaks: { defaultValue: false, description: "Parses simple line breaks as <br> (GFM Style)", type: "boolean" }, requireSpaceBeforeHeadingText: { defaultValue: false, description: "Makes adding a space between `#` and the header text mandatory (GFM Style)", type: "boolean" }, ghMentions: { defaultValue: false, description: "Enables github @mentions", type: "boolean" }, ghMentionsLink: { defaultValue: "https://github.com/{u}", description: "Changes the link generated by @mentions. Only applies if ghMentions option is enabled.", type: "string" }, encodeEmails: { defaultValue: true, description: "Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities", type: "boolean" }, openLinksInNewWindow: { defaultValue: false, description: "Open all links in new windows", type: "boolean" }, backslashEscapesHTMLTags: { defaultValue: false, description: "Support for HTML Tag escaping. ex: <div>foo</div>", type: "boolean" }, emoji: { defaultValue: false, description: "Enable emoji support. Ex: `this is a :smile: emoji`", type: "boolean" }, underline: { defaultValue: false, description: "Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`", type: "boolean" }, completeHTMLDocument: { defaultValue: false, description: "Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags", type: "boolean" }, metadata: { defaultValue: false, description: "Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).", type: "boolean" }, splitAdjacentBlockquotes: { defaultValue: false, description: "Split adjacent blockquote blocks", type: "boolean" } };
        if (false === e) return JSON.parse(JSON.stringify(t));
        var a2 = {};
        for (var n2 in t) t.hasOwnProperty(n2) && (a2[n2] = t[n2].defaultValue);
        return a2;
      }
      St.DEFAULTS.imageInsertButtons.push("imageManager"), St.RegisterCommand("imageManager", { title: "Browse", undo: false, focus: false, modal: true, callback: function() {
        this.imageManager.show();
      }, plugin: "imageManager" }), St.DefineIcon("imageManager", { NAME: "folder", SVG_KEY: "imageManager" }), St.DefineIcon("imageManagerInsert", { NAME: "plus", SVG_KEY: "add" }), St.DefineIcon("imageManagerDelete", { NAME: "trash", SVG_KEY: "remove" }), Object.assign(St.DEFAULTS, { inlineClasses: { "fr-class-code": "Code", "fr-class-highlighted": "Highlighted", "fr-class-transparency": "Transparent" } }), St.PLUGINS.inlineClass = function(a2) {
        var n2 = a2.$;
        return { apply: function t(e) {
          a2.format.toggle("span", { "class": e });
        }, refreshOnShow: function r2(e, t) {
          t.find(".fr-command").each(function() {
            var e2 = n2(this).data("param1"), t2 = a2.format.is("span", { "class": e2 });
            n2(this).toggleClass("fr-active", t2).attr("aria-selected", t2);
          });
        } };
      }, St.RegisterCommand("inlineClass", { type: "dropdown", title: "Inline Class", html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.inlineClasses;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineClass" data-param1="'.concat(a2, '" title="').concat(t[a2], '">').concat(t[a2], "</a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        this.inlineClass.apply(t);
      }, refreshOnShow: function(e, t) {
        this.inlineClass.refreshOnShow(e, t);
      }, plugin: "inlineClass" }), St.DefineIcon("inlineClass", { NAME: "tag", SVG_KEY: "inlineClass" }), Object.assign(St.DEFAULTS, { inlineStyles: { "Big Red": "font-size: 20px; color: red;", "Small Blue": "font-size: 14px; color: blue;" } }), St.PLUGINS.inlineStyle = function(r2) {
        return { apply: function i2(e) {
          for (var t = e.split(";"), a2 = 0; a2 < t.length; a2++) {
            var n2 = t[a2].split(":");
            t[a2].length && 2 == n2.length && r2.format.applyStyle(n2[0].trim(), n2[1].trim());
          }
        } };
      }, St.RegisterCommand("inlineStyle", { type: "dropdown", html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.inlineStyles;
        for (var a2 in t) if (t.hasOwnProperty(a2)) {
          var n2 = t[a2] + (-1 === t[a2].indexOf("display:block;") ? " display:block;" : "");
          e += '<li role="presentation"><span style="'.concat(n2, '" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineStyle" data-param1="').concat(t[a2], '" title="').concat(this.language.translate(a2), '">').concat(this.language.translate(a2), "</a></span></li>");
        }
        return e += "</ul>";
      }, title: "Inline Style", callback: function(e, t) {
        this.inlineStyle.apply(t);
      }, plugin: "inlineStyle" }), St.DefineIcon("inlineStyle", { NAME: "paint-brush", SVG_KEY: "inlineStyle" }), Object.assign(St.DEFAULTS, { lineBreakerTags: ["table", "hr", "form", "dl", "span.fr-video", ".fr-embedly", "img"], lineBreakerOffset: 15, lineBreakerHorizontalOffset: 10 }), St.PLUGINS.lineBreaker = function(g2) {
        var h2, t, r2, m2 = g2.$;
        function l2(e, t2) {
          var a3, n3, r3, i3, o3, s3, l3, c3;
          if (null == e) o3 = (i3 = t2.parent()).offset().top, a3 = (l3 = t2.offset().top) - Math.min((l3 - o3) / 2, g2.opts.lineBreakerOffset), r3 = i3.outerWidth(), n3 = i3.offset().left;
          else if (null == t2) (s3 = (i3 = e.parent()).offset().top + i3.outerHeight()) < (c3 = e.offset().top + e.outerHeight()) && (s3 = (i3 = m2(i3).parent()).offset().top + i3.outerHeight()), a3 = c3 + Math.min(Math.abs(s3 - c3) / 2, g2.opts.lineBreakerOffset), r3 = i3.outerWidth(), n3 = i3.offset().left;
          else {
            i3 = e.parent();
            var d3 = e.offset().top + e.height(), f3 = t2.offset().top;
            if (f3 < d3) return false;
            a3 = (d3 + f3) / 2, r3 = i3.outerWidth(), n3 = i3.offset().left;
          }
          if (g2.opts.iframe) {
            var p3 = g2.helpers.getPX(g2.$wp.find(".fr-iframe").css("padding-top")), u3 = g2.helpers.getPX(g2.$wp.find(".fr-iframe").css("padding-left"));
            n3 += g2.$iframe.offset().left - g2.helpers.scrollLeft() + u3, a3 += g2.$iframe.offset().top - g2.helpers.scrollTop() + p3;
          }
          g2.$box.append(h2), h2.css("top", a3 - g2.win.pageYOffset), h2.css("left", n3 - g2.win.pageXOffset), h2.css("width", r3), h2.data("tag1", e), h2.data("tag2", t2), h2.addClass("fr-visible").data("instance", g2);
        }
        function c2(e) {
          if (e) {
            var t2 = m2(e);
            if (0 === g2.$el.find(t2).length) return null;
            if (e.nodeType != Node.TEXT_NODE && t2.is(g2.opts.lineBreakerTags.join(","))) return t2;
            if (0 < t2.parents(g2.opts.lineBreakerTags.join(",")).length) return e = t2.parents(g2.opts.lineBreakerTags.join(",")).get(0), 0 !== g2.$el.find(m2(e)).length && m2(e).is(g2.opts.lineBreakerTags.join(",")) ? m2(e) : null;
          }
          return null;
        }
        function i2(e, t2) {
          var a3 = g2.doc.elementFromPoint(e, t2);
          return a3 && !m2(a3).closest(".fr-line-breaker").length && !g2.node.isElement(a3) && a3 != g2.$wp.get(0) && function n3(e2) {
            if ("undefined" != typeof e2.inFroalaWrapper) return e2.inFroalaWrapper;
            for (var t3 = e2; e2.parentNode && e2.parentNode !== g2.$wp.get(0); ) e2 = e2.parentNode;
            return t3.inFroalaWrapper = e2.parentNode == g2.$wp.get(0), t3.inFroalaWrapper;
          }(a3) ? a3 : null;
        }
        function o2(e, t2, a3) {
          for (var n3 = a3, r3 = null; n3 <= g2.opts.lineBreakerOffset && !r3; ) (r3 = i2(e, t2 - n3)) || (r3 = i2(e, t2 + n3)), n3 += a3;
          return r3;
        }
        function d2(e, t2, a3) {
          for (var n3 = null, r3 = 100; !n3 && e > g2.$box.offset().left && e < g2.$box.offset().left + g2.$box.outerWidth() && 0 < r3; ) (n3 = i2(e, t2)) || (n3 = o2(e, t2, 5)), "left" == a3 ? e -= g2.opts.lineBreakerHorizontalOffset : e += g2.opts.lineBreakerHorizontalOffset, r3 -= g2.opts.lineBreakerHorizontalOffset;
          return n3;
        }
        function a2(e) {
          var t2 = r2 = null, a3 = null, n3 = g2.doc.elementFromPoint(e.pageX - g2.win.pageXOffset, e.pageY - g2.win.pageYOffset);
          (t2 = n3 && ("HTML" == n3.tagName || "BODY" == n3.tagName || g2.node.isElement(n3) || 0 <= (n3.getAttribute("class") || "").indexOf("fr-line-breaker")) ? ((a3 = o2(e.pageX - g2.win.pageXOffset, e.pageY - g2.win.pageYOffset, 1)) || (a3 = d2(e.pageX - g2.win.pageXOffset - g2.opts.lineBreakerHorizontalOffset, e.pageY - g2.win.pageYOffset, "left")), a3 || (a3 = d2(e.pageX - g2.win.pageXOffset + g2.opts.lineBreakerHorizontalOffset, e.pageY - g2.win.pageYOffset, "right")), c2(a3)) : c2(n3)) ? function s3(e2, t3) {
            var a4, n4, r3 = e2.offset().top, i3 = e2.offset().top + e2.outerHeight();
            if (Math.abs(i3 - t3) <= g2.opts.lineBreakerOffset || Math.abs(t3 - r3) <= g2.opts.lineBreakerOffset) if (Math.abs(i3 - t3) < Math.abs(t3 - r3)) {
              var o3 = null;
              for ((n4 = e2.get(0)).nextSibling && (o3 = n4.nextSibling.offsetParent ? n4.nextSibling : null); o3 && o3.nodeType == Node.TEXT_NODE && 0 === o3.textContent.length; ) o3 = o3.nextSibling;
              if (!o3) return l2(e2, null), true;
              if (a4 = c2(o3)) return l2(e2, a4), true;
            } else {
              if (!(n4 = e2.get(0)).previousSibling) return l2(null, e2), true;
              if (a4 = c2(n4.previousSibling)) return l2(a4, e2), true;
            }
            h2.removeClass("fr-visible").removeData("instance");
          }(t2, e.pageY) : g2.core.sameInstance(h2) && h2.removeClass("fr-visible").removeData("instance");
        }
        function n2(e) {
          return !(h2.hasClass("fr-visible") && !g2.core.sameInstance(h2)) && (g2.popups.areVisible() || g2.el.querySelector(".fr-selected-cell") ? (h2.removeClass("fr-visible"), true) : void (false !== t || g2.edit.isDisabled() || (r2 && clearTimeout(r2), r2 = setTimeout(a2, 30, e))));
        }
        function s2() {
          r2 && clearTimeout(r2), h2 && h2.hasClass("fr-visible") && h2.removeClass("fr-visible").removeData("instance");
        }
        var f2 = function f3() {
          t = true, s2();
        }, p2 = function p3() {
          t = false;
        };
        function u2(e) {
          e.preventDefault();
          var t2 = h2.data("instance") || g2;
          h2.removeClass("fr-visible").removeData("instance");
          var a3 = h2.data("tag1"), n3 = h2.data("tag2"), r3 = g2.html.defaultTag();
          if (null == a3) if (g2.opts.keepTextFormatOnTable && n3.children().get(0) != void 0 && "TBODY" == n3.children().get(0).tagName) {
            var i3 = n3.find("span"), o3 = null != i3[i3.length - 1] ? i3[i3.length - 1].getAttribute("style") : null, s3 = null != o3 ? "<" + i3[i3.length - 1].nodeName.toLowerCase() + ' style="' + o3 + '">' : "<" + n3.parent().get(0).nodeName.toLowerCase() + ">", l3 = null != o3 ? "</" + i3[i3.length - 1].nodeName.toLowerCase() + ">" : "</" + n3.parent().get(0).nodeName.toLowerCase() + ">";
            r3 ? n3.before("<".concat(r3, ">").concat(s3).concat(St.MARKERS, "<br>").concat(l3, "</").concat(r3, ">")) : n3.before("".concat(s3).concat(St.MARKERS, "<br>").concat(l3));
          } else r3 && "TD" != n3.parent().get(0).tagName && 0 === n3.parents(r3).length ? n3.before("<".concat(r3, ">").concat(St.MARKERS, "<br></").concat(r3, ">")) : n3.before("".concat(St.MARKERS, "<br>"));
          else if (g2.opts.keepTextFormatOnTable && a3.children().get(0) != void 0 && "TBODY" == a3.children().get(0).tagName) {
            var c3 = a3.find("span"), d3 = null != c3[c3.length - 1] ? c3[c3.length - 1].getAttribute("style") : null, f3 = null != d3 ? "<" + c3[c3.length - 1].nodeName.toLowerCase() + ' style="' + d3 + '">' : "<" + a3.parent().get(0).nodeName.toLowerCase() + ">", p3 = null != d3 ? "</" + c3[c3.length - 1].nodeName.toLowerCase() + ">" : "</" + a3.parent().get(0).nodeName.toLowerCase() + ">";
            r3 ? a3.after("<".concat(r3, ">").concat(f3).concat(St.MARKERS, "<br>").concat(p3, "</").concat(r3, ">")) : a3.after("".concat(f3).concat(St.MARKERS, "<br>").concat(p3));
          } else r3 && "TD" != a3.parent().get(0).tagName && 0 === a3.parents(r3).length ? a3.after("<".concat(r3, ">").concat(St.MARKERS, "<br></").concat(r3, ">")) : a3.after("".concat(St.MARKERS, "<br>"));
          t2.selection.restore(), g2.toolbar.enable();
        }
        return { _init: function v2() {
          if (!g2.$wp) return false;
          !function e() {
            g2.shared.$line_breaker || (g2.shared.$line_breaker = m2(document.createElement("div")).attr("class", "fr-line-breaker").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(g2.language.translate("Break"), '"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><rect x="17" y="7" width="2" height="8"/><rect x="10" y="13" width="7" height="2"/><path d="M10.000,10.000 L10.000,18.013 L5.000,14.031 L10.000,10.000 Z"/></svg></a>'))), h2 = g2.shared.$line_breaker, g2.events.on("shared.destroy", function() {
              h2.html("").removeData().remove(), h2 = null;
            }, true), g2.events.on("destroy", function() {
              h2.removeData("instance").removeClass("fr-visible"), m2("body").first().append(h2), clearTimeout(r2);
            }, true), g2.events.$on(h2, "mousemove", function(e2) {
              e2.stopPropagation();
            }, true), g2.events.bindClick(h2, "a", u2);
          }(), t = false, g2.events.$on(g2.$win, "mousemove", n2), g2.events.$on(m2(g2.win), "scroll", s2), g2.events.on("popups.show.table.edit", s2), g2.events.on("commands.after", s2), g2.events.$on(m2(g2.win), "mousedown", f2), g2.events.$on(m2(g2.win), "mouseup", p2);
        } };
      }, Object.assign(St.DEFAULTS, { lineHeights: { Default: "", Single: "1", 1.15: "1.15", 1.5: "1.5", Double: "2" } }), St.PLUGINS.lineHeight = function(n2) {
        var s2 = n2.$;
        return { _init: function e() {
        }, apply: function r2(e) {
          n2.selection.save(), n2.html.wrap(true, true, true, true), n2.selection.restore();
          var t = n2.selection.blocks();
          t.length && s2(t[0]).parent().is("td") && n2.format.applyStyle("line-height", e.toString()), n2.selection.save();
          for (var a2 = 0; a2 < t.length; a2++) s2(t[a2]).css("line-height", e), n2.opts.enter !== St.ENTER_BR || t.length && s2(t[0]).parent().is("td") || (s2(t[a2]).hasClass("fr-temp-div") && s2(t[a2]).removeClass("fr-temp-div"), "" === s2(t[a2]).attr("class") && s2(t[a2]).removeAttr("class")), "" === s2(t[a2]).attr("style") && s2(t[a2]).removeAttr("style");
          n2.html.unwrap(), n2.selection.restore();
        }, refreshOnShow: function i2(e, t) {
          var a2 = n2.selection.blocks();
          if (a2.length) {
            var o2 = s2(a2[0]);
            t.find(".fr-command").each(function() {
              var e2 = s2(this).data("param1"), t2 = o2.attr("style"), a3 = 0 <= (t2 || "").indexOf("line-height: " + e2 + ";");
              if (t2) {
                var n3 = t2.substring(t2.indexOf("line-height")), r2 = n3.substr(0, n3.indexOf(";")), i3 = r2 && r2.split(":")[1];
                i3 && i3.length || "Default" !== o2.text() || (a3 = true);
              }
              t2 && -1 !== t2.indexOf("line-height") || "" !== e2 || (a3 = true), s2(this).toggleClass("fr-active", a3).attr("aria-selected", a3);
            });
          }
        } };
      }, St.RegisterCommand("lineHeight", { type: "dropdown", html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.lineHeights;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command '.concat(a2, '" tabIndex="-1" role="option" data-cmd="lineHeight" data-param1="').concat(t[a2], '" title="').concat(this.language.translate(a2), '">').concat(this.language.translate(a2), "</a></li>"));
        return e += "</ul>";
      }, title: "Line Height", callback: function(e, t) {
        this.lineHeight.apply(t);
      }, refreshOnShow: function(e, t) {
        this.lineHeight.refreshOnShow(e, t);
      }, plugin: "lineHeight" }), St.DefineIcon("lineHeight", { NAME: "arrows-v", FA5NAME: "arrows-alt-v", SVG_KEY: "lineHeight" }), Object.assign(St.POPUP_TEMPLATES, { "link.edit": "[_BUTTONS_]", "link.insert": "[_BUTTONS_][_INPUT_LAYER_]" }), Object.assign(St.DEFAULTS, { linkEditButtons: ["linkOpen", "linkStyle", "linkEdit", "linkRemove"], linkInsertButtons: ["linkBack", "|", "linkList"], linkAttributes: {}, linkAutoPrefix: "http://", linkStyles: { "fr-green": "Green", "fr-strong": "Thick" }, linkMultipleStyles: true, linkConvertEmailAddress: true, linkAlwaysBlank: false, linkAlwaysNoFollow: false, linkNoOpener: true, linkNoReferrer: true, linkList: [{ text: "Froala", href: "https://froala.com", target: "_blank" }, { text: "Google", href: "https://google.com", target: "_blank" }, { displayText: "Facebook", href: "https://facebook.com" }], linkText: true }), St.PLUGINS.link = function(m2) {
        var v2 = m2.$;
        function b2() {
          var e = m2.image ? m2.image.get() : null;
          if (e || !m2.$wp) return "A" == m2.el.tagName ? m2.el : e && e.get(0).parentNode && "A" == e.get(0).parentNode.tagName ? e.get(0).parentNode : void 0;
          var t = m2.selection.ranges(0).commonAncestorContainer;
          try {
            t && (t.contains && t.contains(m2.el) || !m2.el.contains(t) || m2.el == t) && (t = null);
          } catch (o3) {
            t = null;
          }
          if (t && "A" === t.tagName) return t;
          var a2, n2, r2 = m2.selection.element(), i3 = m2.selection.endElement();
          "A" == r2.tagName || m2.node.isElement(r2) || (r2 = m2.opts.iframe && null !== (a2 = m2.markdown) && void 0 !== a2 && a2.isEnabled ? null : v2(r2).parentsUntil(m2.$el, "a").first().get(0));
          "A" == i3.tagName || m2.node.isElement(i3) || (i3 = m2.opts.iframe && null !== (n2 = m2.markdown) && void 0 !== n2 && n2.isEnabled ? null : v2(i3).parentsUntil(m2.$el, "a").first().get(0));
          try {
            i3 && (i3.contains && i3.contains(m2.el) || !m2.el.contains(i3) || m2.el == i3) && (i3 = null);
          } catch (o3) {
            i3 = null;
          }
          try {
            r2 && (r2.contains && r2.contains(m2.el) || !m2.el.contains(r2) || m2.el == r2) && (r2 = null);
          } catch (o3) {
            r2 = null;
          }
          return i3 && i3 == r2 && "A" == i3.tagName ? (m2.browser.msie || m2.helpers.isMobile()) && (m2.selection.info(r2).atEnd || m2.selection.info(r2).atStart) ? null : r2 : null;
        }
        function E2() {
          var e, t, a2, n2, r2 = m2.image ? m2.image.get() : null, i3 = [];
          if (r2) "A" == r2.get(0).parentNode.tagName && i3.push(r2.get(0).parentNode);
          else if (m2.win.getSelection) {
            var o3 = m2.win.getSelection();
            if (o3.getRangeAt && o3.rangeCount) {
              n2 = m2.doc.createRange();
              for (var s3 = 0; s3 < o3.rangeCount; ++s3) if ((t = (e = o3.getRangeAt(s3)).commonAncestorContainer) && 1 != t.nodeType && (t = t.parentNode), t && "a" == t.nodeName.toLowerCase()) i3.push(t);
              else {
                a2 = t.getElementsByTagName("a");
                for (var l3 = 0; l3 < a2.length; ++l3) n2.selectNodeContents(a2[l3]), n2.compareBoundaryPoints(e.END_TO_START, e) < 1 && -1 < n2.compareBoundaryPoints(e.START_TO_END, e) && i3.push(a2[l3]);
              }
            }
          } else if (m2.doc.selection && "Control" != m2.doc.selection.type) if ("a" == (t = (e = m2.doc.selection.createRange()).parentElement()).nodeName.toLowerCase()) i3.push(t);
          else {
            a2 = t.getElementsByTagName("a"), n2 = m2.doc.body.createTextRange();
            for (var c3 = 0; c3 < a2.length; ++c3) n2.moveToElementText(a2[c3]), -1 < n2.compareEndPoints("StartToEnd", e) && n2.compareEndPoints("EndToStart", e) < 1 && i3.push(a2[c3]);
          }
          return i3;
        }
        function _(r2) {
          if (m2.core.hasFocus() || m2.opts.iframe && (!document.hasFocus || document.hasFocus())) {
            if (i2(), r2 && "keyup" === r2.type && (r2.altKey || r2.which == St.KEYCODE.ALT)) return true;
            setTimeout(function() {
              if (!r2 || r2 && (1 == r2.which || "mouseup" != r2.type)) {
                var e = b2(), t = m2.image ? m2.image.get() : null;
                if (e && !t) {
                  if (m2.image) {
                    var a2 = m2.node.contents(e);
                    if (1 == a2.length && "IMG" == a2[0].tagName) {
                      var n2 = m2.selection.ranges(0);
                      return 0 === n2.startOffset && 0 === n2.endOffset ? v2(e).before(St.INVISIBLE_SPACE + St.MARKERS) : v2(e).after(St.INVISIBLE_SPACE + St.MARKERS), m2.selection.restore(), false;
                    }
                  }
                  r2 && r2.stopPropagation(), o2(e);
                }
              }
            }, m2.helpers.isIOS() ? 100 : 0);
          }
        }
        function o2(e) {
          var t = m2.popups.get("link.edit");
          t || (t = function i3() {
            var e2 = "";
            1 <= m2.opts.linkEditButtons.length && ("A" == m2.el.tagName && 0 <= m2.opts.linkEditButtons.indexOf("linkRemove") && m2.opts.linkEditButtons.splice(m2.opts.linkEditButtons.indexOf("linkRemove"), 1), e2 = '<div class="fr-buttons">'.concat(m2.button.buildList(m2.opts.linkEditButtons), "</div>"));
            var t2 = { buttons: e2 }, a3 = m2.popups.create("link.edit", t2);
            m2.$wp && m2.events.$on(m2.$wp, "scroll.link-edit", function() {
              b2() && m2.popups.isVisible("link.edit") && o2(b2());
            });
            return a3;
          }());
          var a2 = v2(e);
          m2.popups.isVisible("link.edit") || m2.popups.refresh("link.edit"), m2.popups.setContainer("link.edit", m2.$sc);
          var n2 = a2.offset().left + a2.outerWidth() / 2, r2 = a2.offset().top + a2.outerHeight();
          m2.popups.show("link.edit", n2, r2, a2.outerHeight(), true);
        }
        function i2() {
          m2.popups.hide("link.edit");
        }
        function l2() {
          var e = m2.popups.get("link.insert"), t = b2();
          if (t) {
            var a2, n2, r2 = v2(t), i3 = e.find('input.fr-link-attr[type="text"]'), o3 = e.find('input.fr-link-attr[type="checkbox"]');
            for (a2 = 0; a2 < i3.length; a2++) {
              var s3 = (n2 = v2(i3[a2])).attr("name") || "", l3 = "href" === s3 ? decodeURI(r2.attr(s3)) : r2.attr(s3);
              n2.val(l3);
            }
            for (o3.attr("checked", false), a2 = 0; a2 < o3.length; a2++) n2 = v2(o3[a2]), r2.attr(n2.attr("name")) == n2.data("checked") && n2.attr("checked", true);
            e.find('input.fr-link-attr[type="text"][name="text"]').val(r2.text());
          } else e.find('input.fr-link-attr[type="text"]').val(""), e.find('input.fr-link-attr[type="checkbox"]').attr("checked", false), e.find('input.fr-link-attr[type="text"][name="text"]').val(m2.selection.text());
          e.find("input.fr-link-attr").trigger("change"), (m2.image ? m2.image.get() : null) ? e.find('.fr-link-attr[name="text"]').parent().hide() : e.find('.fr-link-attr[name="text"]').parent().show();
        }
        function s2(e) {
          if (e) return m2.popups.onRefresh("link.insert", l2), true;
          var t = "";
          1 <= m2.opts.linkInsertButtons.length && (t = '<div class="fr-buttons fr-tabs">'.concat(m2.button.buildList(m2.opts.linkInsertButtons), "</div>"));
          var a2 = "", n2 = 0;
          for (var r2 in a2 = '<div class="fr-link-insert-layer fr-layer fr-active" id="fr-link-insert-layer-'.concat(m2.id, '">'), a2 += '<div class="fr-input-line"><input id="fr-link-insert-layer-url-'.concat(m2.id, '" name="href" type="text" class="fr-link-attr" placeholder="').concat(m2.language.translate("URL"), '" tabIndex="').concat(++n2, '"></div>'), m2.opts.linkText && (a2 += '<div class="fr-input-line"><input id="fr-link-insert-layer-text-'.concat(m2.id, '" name="text" type="text" class="fr-link-attr" placeholder="').concat(m2.language.translate("Text"), '" tabIndex="').concat(++n2, '"></div>')), m2.opts.linkAttributes) if (m2.opts.linkAttributes.hasOwnProperty(r2)) {
            var i3 = m2.opts.linkAttributes[r2];
            a2 += '<div class="fr-input-line"><input name="'.concat(r2, '" type="text" class="fr-link-attr" placeholder="').concat(m2.language.translate(i3), '" tabIndex="').concat(++n2, '"></div>');
          }
          m2.opts.linkAlwaysBlank || (a2 += '<div class="fr-checkbox-line"><span class="fr-checkbox"><input name="target" class="fr-link-attr" data-checked="_blank" type="checkbox" id="fr-link-target-'.concat(m2.id, '" tabIndex="').concat(++n2, '"><span>').concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>', '</span></span><label id="fr-label-target-').concat(m2.id, '">').concat(m2.language.translate("Open in new tab"), "</label></div>"));
          var o3 = { buttons: t, input_layer: a2 += '<div class="fr-action-buttons"><button class="fr-command fr-submit" role="button" data-cmd="linkInsert" href="#" tabIndex="'.concat(++n2, '" type="button">').concat(m2.language.translate("Insert"), "</button></div></div>") }, s3 = m2.popups.create("link.insert", o3);
          return m2.$wp && m2.events.$on(m2.$wp, "scroll.link-insert", function() {
            (m2.image ? m2.image.get() : null) && m2.popups.isVisible("link.insert") && f2(), m2.popups.isVisible("link.insert") && d2();
          }), s3;
        }
        function c2(e, t, a2) {
          if (m2.opts.trackChangesEnabled) {
            if (m2.edit.on(), m2.events.focus(true), m2.undo.saveStep(), m2.markers.insert(), m2.html.wrap(), !m2.$el.find(".fr-marker").length) return void m2.popups.hide("link.insert");
            m2.markers.remove();
          }
          if (void 0 === a2 && (a2 = {}), false === m2.events.trigger("link.beforeInsert", [e, t, a2])) return false;
          var n2 = m2.image ? m2.image.get() : null;
          n2 || "A" == m2.el.tagName ? "A" == m2.el.tagName && m2.$el.focus() : (m2.selection.restore(), m2.popups.hide("link.insert"));
          var r2 = e;
          m2.opts.linkConvertEmailAddress && m2.helpers.isEmail(e) && !/^mailto:.*/i.test(e) && (e = "mailto:".concat(e));
          if ("" === m2.opts.linkAutoPrefix || new RegExp("^(" + St.LinkProtocols.join("|") + "):.", "i").test(e) || /^data:image.*/i.test(e) || /^(https?:|ftps?:|file:|)\/\//i.test(e) || /^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(e) || ["/", "{", "[", "#", "(", ".", '"', "\\"].indexOf((e || "")[0]) < 0 && (e = m2.opts.linkAutoPrefix + e), e = m2.helpers.sanitizeURL(e), e = encodeURI(e), m2.opts.linkAlwaysBlank && (a2.target = "_blank"), m2.opts.linkAlwaysNoFollow && (a2.rel = "nofollow"), m2.helpers.isEmail(r2) && (a2.target = null, a2.rel = null), "_blank" == a2.target ? (m2.opts.linkNoOpener && (a2.rel ? a2.rel += " noopener" : a2.rel = "noopener"), m2.opts.linkNoReferrer && (a2.rel ? a2.rel += " noreferrer" : a2.rel = "noreferrer")) : null == a2.target && (a2.rel ? a2.rel = a2.rel.replace(/noopener/, "").replace(/noreferrer/, "") : a2.rel = null), t = t || "", e === m2.opts.linkAutoPrefix) return m2.popups.get("link.insert").find('input[name="href"]').addClass("fr-error"), m2.events.trigger("link.bad", [r2]), false;
          var i3, o3 = b2();
          if (o3) {
            if ((i3 = v2(o3)).attr("href", e), 0 < t.length && i3.text() != t && !n2) {
              if (m2.opts.trackChangesEnabled) {
                var s3 = v2(i3.get(0).outerHTML);
                s3.insertBefore(i3.parent());
                var l3 = m2.track_changes.wrapLinkInTracking(s3, m2.track_changes.getPendingChanges().length - 1), c3 = m2.track_changes.wrapInDelete(l3);
                i3.parent().append(c3);
              }
              for (var d3 = i3.get(0); 1 === d3.childNodes.length && d3.childNodes[0].nodeType == Node.ELEMENT_NODE; ) d3 = d3.childNodes[0];
              v2(d3).text(t);
            }
            for (var f3 in n2 || i3.prepend(St.START_MARKER).append(St.END_MARKER), a2) a2[f3] ? i3.attr(f3, a2[f3]) : i3.removeAttr(f3);
            n2 || m2.selection.restore();
          } else {
            n2 ? (n2.wrap('<a href="'.concat(e, '"></a>')), m2.image.hasCaption() && n2.parent().append(n2.parents(".fr-img-caption").find(".fr-inner"))) : (m2.format.remove("a"), m2.selection.isCollapsed() ? (t = 0 === t.length ? r2 : t, m2.html.insert('<a href="'.concat(e, '">').concat(St.START_MARKER).concat(t.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;")).concat(St.END_MARKER, "</a>")), m2.selection.restore()) : 0 < t.length && t != m2.selection.text().replace(/\n/g, "") ? (m2.selection.remove(), m2.html.insert('<a href="'.concat(e, '">').concat(St.START_MARKER).concat(t.replace(/&/g, "&amp;")).concat(St.END_MARKER, "</a>")), m2.selection.restore()) : (!function h2() {
              if (!m2.selection.isCollapsed()) {
                m2.selection.save();
                for (var e2 = m2.$el.find(".fr-marker").addClass("fr-unprocessed").toArray(); e2.length; ) {
                  var t2 = v2(e2.pop());
                  t2.removeClass("fr-unprocessed");
                  var a3 = m2.node.deepestParent(t2.get(0));
                  if (a3) {
                    for (var n3 = t2.get(0), r3 = "", i4 = ""; n3 = n3.parentNode, m2.node.isBlock(n3) || (r3 += m2.node.closeTagString(n3), i4 = m2.node.openTagString(n3) + i4), n3 != a3; ) ;
                    var o4 = m2.node.openTagString(t2.get(0)) + t2.html() + m2.node.closeTagString(t2.get(0));
                    t2.replaceWith('<span id="fr-break"></span>');
                    var s4 = a3.outerHTML;
                    s4 = (s4 = s4.replace(/<span id="fr-break"><\/span>/g, r3 + o4 + i4)).replace(i4 + r3, ""), a3.outerHTML = s4;
                  }
                  e2 = m2.$el.find(".fr-marker.fr-unprocessed").toArray();
                }
                m2.html.cleanEmptyTags(), m2.selection.restore();
              }
            }(), m2.format.apply("a", { href: e })));
            for (var p2 = E2(), u2 = 0; u2 < p2.length; u2++) (i3 = v2(p2[u2])).attr(a2), i3.removeAttr("_moz_dirty");
            1 == p2.length && m2.$wp && !n2 && (v2(p2[0]).prepend(St.START_MARKER).append(St.END_MARKER), m2.selection.restore());
          }
          if (n2) {
            var g2 = m2.popups.get("link.insert");
            g2 && g2.find("input:focus").blur(), m2.image.edit(n2);
          } else _();
        }
        function d2() {
          i2();
          var e = b2();
          if (e) {
            var t = m2.popups.get("link.insert");
            t || (t = s2()), m2.popups.isVisible("link.insert") || (m2.popups.refresh("link.insert"), m2.selection.save(), m2.helpers.isMobile() && (m2.events.disableBlur(), m2.$el.blur(), m2.events.enableBlur())), m2.popups.setContainer("link.insert", m2.$sc);
            var a2 = (m2.image ? m2.image.get() : null) || v2(e), n2 = a2.offset().left + a2.outerWidth() / 2, r2 = a2.offset().top + a2.outerHeight();
            m2.popups.show("link.insert", n2, r2, a2.outerHeight(), true);
          }
        }
        function f2() {
          var e = m2.image ? m2.image.getEl() : null;
          if (e) {
            var t = m2.popups.get("link.insert"), a2 = e.outerWidth() / 2;
            m2.image.hasCaption() && (e = e.find(".fr-img-wrap"), v2(e) && v2(e).find("img") && (a2 = v2(e).find("img").outerWidth() / 2)), t || (t = s2()), l2(), m2.popups.setContainer("link.insert", m2.$sc);
            var n2 = e.offset().left + a2, r2 = e.offset().top + e.outerHeight(), i3 = e.outerHeight();
            m2.opts.iframe && m2.image.hasCaption() && v2(e) && v2(e).find("img") && (i3 = v2(e).find("img").outerHeight()), m2.popups.show("link.insert", n2, r2, i3, true);
          }
        }
        return { _init: function e() {
          m2.events.on("keyup", function(e2) {
            e2.which != St.KEYCODE.ESC && _(e2);
          }), m2.events.on("window.mouseup", _), m2.events.$on(m2.$el, "click", "a", function(e2) {
            m2.edit.isDisabled() && e2.preventDefault();
          }), m2.helpers.isMobile() && m2.events.$on(m2.$doc, "selectionchange", _), s2(true), "A" == m2.el.tagName && m2.$el.addClass("fr-view"), m2.events.on("toolbar.esc", function() {
            if (m2.popups.isVisible("link.edit")) return m2.events.disableBlur(), m2.events.focus(), false;
          }, true);
        }, remove: function n2() {
          var e = b2(), t = m2.image ? m2.image.get() : null;
          if (false === m2.events.trigger("link.beforeRemove", [e])) return false;
          if (t && e) if (m2.image.hasCaption()) {
            t.addClass("img-link-caption"), v2(e).replaceWith(v2(e).html());
            var a2 = document.querySelectorAll("img.img-link-caption");
            m2.image.edit(v2(a2[0])), v2(a2[0]).removeClass("img-link-caption");
          } else t.unwrap(), m2.image.edit(t);
          else e && (m2.selection.save(), v2(e).replaceWith(v2(e).html()), m2.selection.restore(), i2());
        }, showInsertPopup: function p2() {
          var e = m2.$tb.find('.fr-command[data-cmd="insertLink"]'), t = m2.popups.get("link.insert");
          if (t || (t = s2()), !t.hasClass("fr-active")) if (m2.popups.refresh("link.insert"), m2.popups.setContainer("link.insert", m2.$tb || m2.$sc), e.isVisible()) {
            var a2 = m2.button.getPosition(e), n2 = a2.left, r2 = a2.top;
            m2.popups.show("link.insert", n2, r2, e.outerHeight());
          } else m2.position.forSelection(t), m2.popups.show("link.insert");
        }, usePredefined: function u2(e) {
          var t, a2, n2 = m2.opts.linkList[e], r2 = m2.popups.get("link.insert"), i3 = r2.find('input.fr-link-attr[type="text"]'), o3 = r2.find('input.fr-link-attr[type="checkbox"]');
          for (n2.rel && (r2.rel = n2.rel), a2 = 0; a2 < i3.length; a2++) n2[(t = v2(i3[a2])).attr("name")] ? (t.val(n2[t.attr("name")]), t.toggleClass("fr-not-empty", true)) : "text" != t.attr("name") && t.val("");
          for (a2 = 0; a2 < o3.length; a2++) (t = v2(o3[a2])).attr("checked", t.data("checked") == n2[t.attr("name")]);
          m2.accessibility.focusPopup(r2);
        }, insertCallback: function g2() {
          var e, t, a2 = m2.popups.get("link.insert"), n2 = a2.find('input.fr-link-attr[type="text"]'), r2 = a2.find('input.fr-link-attr[type="checkbox"]'), i3 = (n2.filter('[name="href"]').val() || "").trim(), o3 = m2.opts.linkText ? n2.filter('[name="text"]').val() : "", s3 = {};
          for (t = 0; t < n2.length; t++) e = v2(n2[t]), ["href", "text"].indexOf(e.attr("name")) < 0 && (s3[e.attr("name")] = e.val());
          for (t = 0; t < r2.length; t++) (e = v2(r2[t])).is(":checked") ? s3[e.attr("name")] = e.data("checked") : s3[e.attr("name")] = e.data("unchecked") || null;
          a2.rel && (s3.rel = a2.rel);
          var l3 = m2.helpers.scrollTop();
          c2(i3, o3, s3), v2(m2.o_win).scrollTop(l3);
        }, insert: c2, update: d2, get: b2, allSelected: E2, back: function t() {
          m2.image && m2.image.get() ? m2.image.back() : (m2.events.disableBlur(), m2.selection.restore(), m2.events.enableBlur(), b2() && m2.$wp ? (m2.selection.restore(), i2(), _()) : "A" == m2.el.tagName ? (m2.$el.focus(), _()) : (m2.popups.hide("link.insert"), m2.toolbar.showInline()));
        }, imageLink: f2, applyStyle: function h2(e, t, a2) {
          void 0 === a2 && (a2 = m2.opts.linkMultipleStyles), void 0 === t && (t = m2.opts.linkStyles);
          var n2 = b2();
          if (!n2) return false;
          if (!a2) {
            var r2 = Object.keys(t);
            r2.splice(r2.indexOf(e), 1), v2(n2).removeClass(r2.join(" "));
          }
          v2(n2).toggleClass(e), _();
        } };
      }, St.DefineIcon("insertLink", { NAME: "link", SVG_KEY: "insertLink" }), St.RegisterShortcut(St.KEYCODE.K, "insertLink", null, "K"), St.RegisterCommand("insertLink", { title: "Insert Link", undo: false, focus: true, refreshOnCallback: false, popup: true, callback: function() {
        this.popups.isVisible("link.insert") ? (this.$el.find(".fr-marker").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide("link.insert")) : this.link.showInsertPopup();
      }, plugin: "link" }), St.DefineIcon("linkOpen", { NAME: "external-link", FA5NAME: "external-link-alt", SVG_KEY: "openLink" }), St.RegisterCommand("linkOpen", { title: "Open Link", undo: false, refresh: function(e) {
        this.link.get() ? e.removeClass("fr-hidden") : e.addClass("fr-hidden");
      }, callback: function() {
        var e = this.link.get();
        e && (-1 !== e.href.indexOf("mailto:") ? this.o_win.open(e.href).close() : (e.target || (e.target = "_self"), this.browser.msie || this.browser.edge ? this.o_win.open(e.href, e.target) : this.o_win.open(e.href, e.target, "noopener")), this.popups.hide("link.edit"));
      }, plugin: "link" }), St.DefineIcon("linkEdit", { NAME: "edit", SVG_KEY: "edit" }), St.RegisterCommand("linkEdit", { title: "Edit Link", undo: false, refreshAfterCallback: false, popup: true, callback: function() {
        this.link.update();
      }, refresh: function(e) {
        this.link.get() ? e.removeClass("fr-hidden") : e.addClass("fr-hidden");
      }, plugin: "link" }), St.DefineIcon("linkRemove", { NAME: "unlink", SVG_KEY: "unlink" }), St.RegisterCommand("linkRemove", { title: "Unlink", callback: function() {
        this.link.remove();
      }, refresh: function(e) {
        this.link.get() ? e.removeClass("fr-hidden") : e.addClass("fr-hidden");
      }, plugin: "link" }), St.DefineIcon("linkBack", { NAME: "arrow-left", SVG_KEY: "back" }), St.RegisterCommand("linkBack", { title: "Back", undo: false, focus: false, back: true, refreshAfterCallback: false, callback: function() {
        this.link.back();
      }, refresh: function(e) {
        var t = this.link.get() && this.doc.hasFocus();
        (this.image ? this.image.get() : null) || t || this.opts.toolbarInline ? (e.removeClass("fr-hidden"), e.next(".fr-separator").removeClass("fr-hidden")) : (e.addClass("fr-hidden"), e.next(".fr-separator").addClass("fr-hidden"));
      }, plugin: "link" }), St.DefineIcon("linkList", { NAME: "search", SVG_KEY: "search" }), St.RegisterCommand("linkList", { title: "Choose Link", type: "dropdown", focus: false, undo: false, refreshAfterCallback: false, html: function() {
        for (var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.linkList, a2 = 0; a2 < t.length; a2++) e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkList" data-param1="'.concat(a2, '">').concat(t[a2].displayText || t[a2].text, "</a></li>");
        return e += "</ul>";
      }, callback: function(e, t) {
        this.link.usePredefined(t);
      }, plugin: "link" }), St.RegisterCommand("linkInsert", { focus: false, refreshAfterCallback: false, callback: function() {
        this.link.insertCallback();
      }, refresh: function(e) {
        this.link.get() ? e.text(this.language.translate("Update")) : e.text(this.language.translate("Insert"));
      }, plugin: "link" }), St.DefineIcon("imageLink", { NAME: "link", SVG_KEY: "insertLink" }), St.RegisterCommand("imageLink", { title: "Insert Link", undo: false, focus: false, popup: true, callback: function() {
        this.link.imageLink();
      }, refresh: function(e) {
        var t;
        this.link.get() ? ((t = e.prev()).hasClass("fr-separator") && t.removeClass("fr-hidden"), e.addClass("fr-hidden")) : ((t = e.prev()).hasClass("fr-separator") && t.addClass("fr-hidden"), e.removeClass("fr-hidden"));
      }, plugin: "link" }), St.DefineIcon("linkStyle", { NAME: "magic", SVG_KEY: "linkStyles" }), St.RegisterCommand("linkStyle", { title: "Style", type: "dropdown", html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.linkStyles;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkStyle" data-param1="'.concat(a2, '">').concat(this.language.translate(t[a2]), "</a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        this.link.applyStyle(t);
      }, refreshOnShow: function(e, t) {
        var a2 = this.$, n2 = this.link.get();
        if (n2) {
          var r2 = a2(n2);
          t.find(".fr-command").each(function() {
            var e2 = a2(this).data("param1"), t2 = r2.hasClass(e2);
            a2(this).toggleClass("fr-active", t2).attr("aria-selected", t2);
          });
        }
      }, refresh: function(e) {
        this.link.get() ? e.removeClass("fr-hidden") : e.addClass("fr-hidden");
      }, plugin: "link" }), Object.assign(St.DEFAULTS, { listAdvancedTypes: true }), St.PLUGINS.lists = function(g2) {
        var h2 = g2.$;
        function m2(e2) {
          return '<span class="fr-open-'.concat(e2.toLowerCase(), '"></span>');
        }
        function v2(e2) {
          return '<span class="fr-close-'.concat(e2.toLowerCase(), '"></span>');
        }
        function c2(e2, t) {
          !function c3(e3, t2) {
            for (var a3 = [], n3 = 0; n3 < e3.length; n3++) {
              var r3 = e3[n3].parentNode;
              "LI" == e3[n3].tagName && r3.tagName != t2 && a3.indexOf(r3) < 0 && a3.push(r3);
            }
            for (var i3 = a3.length - 1; 0 <= i3; i3--) {
              var o3 = h2(a3[i3]);
              o3.replaceWith("<".concat(t2.toLowerCase(), " ").concat(g2.node.attributes(o3.get(0)), ">").concat(o3.html(), "</").concat(t2.toLowerCase(), ">"));
            }
          }(e2, t);
          var a2, n2 = g2.html.defaultTag(), r2 = null;
          e2.length && (a2 = "rtl" == g2.opts.direction || "rtl" == h2(e2[0]).css("direction") ? "margin-right" : "margin-left");
          for (var i2 = 0; i2 < e2.length; i2++) if ("TD" != e2[i2].tagName && "TH" != e2[i2].tagName && "LI" != e2[i2].tagName) {
            var o2 = g2.helpers.getPX(h2(e2[i2]).css(a2)) || 0;
            (e2[i2].style.marginLeft = null) === r2 && (r2 = o2);
            var s2 = 0 < r2 ? "<".concat(t, ' style="').concat(a2, ": ").concat(r2, 'px ">') : "<".concat(t, ">"), l2 = "</".concat(t, ">");
            for (o2 -= r2; 0 < o2 / g2.opts.indentMargin; ) s2 += "</".concat(t, ">"), l2 += l2, o2 -= g2.opts.indentMargin;
            n2 && e2[i2].tagName.toLowerCase() == n2 ? h2(e2[i2]).replaceWith("".concat(s2, "<li").concat(g2.node.attributes(e2[i2]), ">").concat(h2(e2[i2]).html(), "</li>").concat(l2)) : h2(e2[i2]).wrap("".concat(s2, "<li></li>").concat(l2));
          }
          g2.clean.lists();
        }
        function d2(e2) {
          var t, a2, n2 = [];
          for (t = e2.length - 1; 0 <= t; t--) for (a2 = t - 1; 0 <= a2; a2--) {
            if (h2(e2[a2]).find(e2[t]).length || e2[a2] == e2[t]) {
              h2(e2[t]).addClass("fr-removed-block-".concat(t)), n2.push(t), e2.splice(t, 1);
              break;
            }
            if (h2(e2[a2]).contains(e2[t])) {
              h2(e2[a2]).addClass("fr-removed-block-".concat(a2)), n2.push(a2), e2.splice(a2, 1);
              break;
            }
          }
          var r2 = [], i2 = false;
          for (t = 0; t < e2.length; t++) {
            var o2 = h2(e2[t]), s2 = e2[t].parentNode, l2 = o2.attr("class");
            if (o2.is(":first-child") && (i2 = true, h2(s2.parentNode).removeAttr("start")), o2.before(v2(s2.tagName)), "LI" == s2.parentNode.tagName) {
              if (o2.is(":last-child")) {
                var c3 = o2.find("> ul, > ol").last();
                c3.length && c3.wrap("<".concat(s2.tagName, ">"));
              }
              o2.before(v2("LI")), o2.after(m2("LI"));
            } else if ("OL" == s2.parentNode.tagName) i2 || (o2.before(v2("OL")), o2.after(m2("OL")));
            else if ("UL" == s2.parentNode.tagName) i2 || (o2.before(v2("UL")), o2.after(m2("UL")));
            else {
              var d3 = "";
              l2 && (d3 += ' class="'.concat(l2, '"'));
              var f2 = "rtl" == g2.opts.direction || "rtl" == o2.css("direction") ? "margin-right" : "margin-left";
              g2.helpers.getPX(h2(s2).css(f2)) && 0 <= (h2(s2).attr("style") || "").indexOf("".concat(f2, ":")) && (d3 += ' style="'.concat(f2, ":").concat(g2.helpers.getPX(h2(s2).css(f2)), 'px;"')), g2.html.defaultTag() && 0 === o2.find(g2.html.blockTagsQuery()).length && o2.wrapInner(g2.html.defaultTag() + d3), g2.node.isEmpty(o2.get(0), true) || 0 !== o2.find(g2.html.blockTagsQuery()).length || ("DIV" == s2.parentNode.tagName && g2.html.defaultTag() ? (o2.prepend(m2(g2.html.defaultTag())), o2.append(v2(g2.html.defaultTag()))) : o2.append("<br>")), o2.append(m2("LI")), o2.prepend(v2("LI"));
            }
            o2.after(m2(s2.tagName)), "LI" == s2.parentNode.tagName && (s2 = s2.parentNode.parentNode), r2.indexOf(s2) < 0 && r2.push(s2);
          }
          for (t = 0; t < r2.length; t++) {
            var p2 = h2(r2[t]), u3 = p2.html();
            u3 = (u3 = u3.replace(/<span class="fr-close-([a-z]*)"><\/span>/g, "</$1>")).replace(/<span class="fr-open-([a-z]*)"><\/span>/g, "<$1>"), p2.replaceWith(g2.node.openTagString(p2.get(0)) + u3 + g2.node.closeTagString(p2.get(0)));
          }
          return g2.$el.find("li:empty").remove(), g2.$el.find("ul:empty, ol:empty").remove(), g2.clean.lists(), g2.$el.find("ul:empty, ol:empty").remove(), g2.html.wrap(), n2;
        }
        function u2(e2, t) {
          var a2 = h2(document.createElement("li"));
          if (e2.childNodes.length) for (var n2 = e2.childNodes[0].attributes, r2 = 0; r2 < n2.length; r2++) {
            var i2 = n2[r2];
            "style" === i2.name && (a2[0].style.cssText += i2.value);
          }
          h2(e2).prepend(a2), h2(e2).removeAttr("start");
          for (var o2 = g2.node.contents(t)[0]; o2 && !g2.node.isList(o2); ) {
            var s2 = o2.nextSibling;
            a2.append(o2), o2 = s2;
          }
        }
        function e(e2) {
          if ("indent" == e2 || "outdent" == e2) {
            var t = false, a2 = g2.selection.blocks(false, true), n2 = [], r2 = a2[0].previousSibling || a2[0].parentElement;
            if ("outdent" == e2) {
              if ("UL" != a2[0].parentNode.tagName && "UL" != r2.parentNode.tagName && "OL" != r2.parentNode.tagName && "LI" != r2.parentNode.tagName) return;
              if (!a2[0].previousSibling && "none" == r2.parentNode.style.listStyleType) return void function o2(e3) {
                for (g2.selection.save(); 0 < e3.childNodes.length; ) e3.parentNode.parentNode.append(e3.childNodes[0]);
                g2.clean.lists(), g2.selection.restore();
              }(r2);
            } else {
              if ("UL" != a2[0].parentElement.tagName && "OL" != a2[0].parentElement.tagName && "LI" != a2[0].parentElement.tagName) return;
              if (g2.node.isBlock(a2[0]) && "LI" !== a2[0].tagName && 0 < h2(a2[0]).parentsUntil(g2.$el, "LI").length && (a2[0] = a2[0].parentElement, r2 = a2[0].parentElement), !a2[0].previousSibling || "LI" != a2[0].previousSibling.tagName) {
                if (0 == h2(a2[0]).parents("li").length) return void function s2(e3) {
                  g2.selection.save();
                  var t2 = "OL" == e3.tagName ? document.createElement("ol") : document.createElement("ul");
                  for (h2(t2).css("list-style-type", h2(e3).css("list-style-type")); 0 < e3.childNodes.length; ) t2.append(e3.childNodes[0]);
                  var a3 = document.createElement("li");
                  t2.append(a3), e3.append(t2), g2.clean.lists(), g2.selection.restore();
                }(r2);
                t = true;
              }
            }
            for (var i2 = 0; i2 < a2.length; i2++) "LI" == a2[i2].tagName ? (t = true, n2.push(a2[i2])) : "LI" == a2[i2].parentNode.tagName && n2.indexOf(a2[i2].parentNode) < 0 && (t = true, n2.push(a2[i2].parentNode));
            t && ("indent" == e2 ? function p2(e3) {
              g2.selection.save();
              for (var t2 = false, a3 = 0; a3 < e3.length; a3++) {
                var n3 = e3[a3].previousSibling;
                if (n3 && "LI" == n3.tagName && !t2) {
                  var r3 = h2(e3[a3]).find("> ul, > ol").last().get(0);
                  if (r3) u2(r3, e3[a3]), h2(n3).append(h2(r3)), h2(e3[a3]).remove();
                  else {
                    var i3 = h2(n3).find("> ul, > ol").last().get(0);
                    if (i3) h2(i3).append(h2(e3[a3]));
                    else {
                      var o2 = h2("<".concat(e3[a3].parentNode.tagName, ">"));
                      h2(n3).append(o2), o2.append(h2(e3[a3]));
                    }
                  }
                } else if (!n3 || "OL" != n3.tagName && "UL" != n3.tagName) {
                  var s2 = e3[a3].parentNode;
                  if (t2 = true, "UL" == s2.tagName || "OL" == s2.tagName) {
                    var l2 = h2(e3[a3]).find("> ol, > ul"), c3 = null == e3[a3].previousSibling;
                    if (l2.length) {
                      var d3 = l2.first().get(0);
                      u2(d3, e3[a3]), c3 ? h2(s2).prepend(h2(d3)) : h2(s2).append(h2(d3)), h2(e3[a3]).remove();
                    } else h2(e3[a3]).wrap("<".concat(s2.tagName, ">"));
                    c3 && 0 < h2(s2).find("> li").length && h2(s2).attr("start", "2");
                  }
                } else {
                  var f2 = h2(e3[a3]).find("> ol, > ul").first().get(0);
                  f2 ? (u2(f2, e3[a3]), h2(n3).append(h2(f2).children()), h2(e3[a3]).remove(), h2(f2).remove()) : h2(n3).append(h2(e3[a3]));
                }
              }
              g2.clean.lists(), g2.selection.restore();
            }(n2) : function l2(e3) {
              g2.selection.save();
              var t2 = [];
              do {
                t2 = d2(e3), e3 = [];
                for (var a3 = 0; a3 < t2.length; a3++) {
                  var n3 = g2.$el.find(".fr-removed-block-".concat(t2[a3])).first().get(0);
                  h2(n3).removeClass("fr-removed-block-".concat(t2[a3])), "" == h2(n3).attr("class") && h2(n3).removeAttr("class"), e3.push(n3);
                }
              } while (0 < t2.length);
              g2.selection.restore();
            }(n2));
          }
        }
        return { _init: function t() {
          g2.events.on("commands.after", e), g2.events.on("keydown", function(e2) {
            if (e2.which == St.KEYCODE.TAB) {
              for (var t2 = g2.selection.blocks(), a2 = [], n2 = 0; n2 < t2.length; n2++) "LI" == t2[n2].tagName ? a2.push(t2[n2]) : "LI" == t2[n2].parentNode.tagName && a2.push(t2[n2].parentNode);
              if (1 <= a2.length || a2.length && (g2.selection.info(a2[0]).atStart || g2.node.isEmpty(a2[0]))) return e2.preventDefault(), e2.stopPropagation(), e2.shiftKey ? g2.commands.outdent() : g2.commands.indent(), false;
            }
          }, true);
        }, format: function f2(e2, t) {
          var a2, n2, r2 = 1 < (n2 = g2.selection.blocks(true)).length && n2[n2.length - 1], i2 = g2.selection.ranges();
          if (r2 && i2.length && g2.node.isEmpty(r2) && !i2[0].endOffset && i2[0].setEndAfter(r2.firstChild, 1), g2.html.syncInputs(), g2.selection.save(), g2.browser.safari && g2.helpers.getSafariVersion() < 17) {
            var o2 = g2.selection.ranges();
            if (i2 && i2[0].endContainer && o2 && o2[0].endContainer && !i2[0].endContainer.isSameNode(o2[0].endContainer) && i2[0].endContainer.previousSibling && i2[0].endContainer.previousSibling.isSameNode(o2[0].endContainer)) {
              var s2 = h2(o2[0].endContainer).find('.fr-marker[data-type="false"]');
              h2(i2[0].endContainer).append(s2[0]);
            }
          }
          for (g2.html.wrap(true, true, true, true), g2.selection.restore(), n2 = g2.selection.blocks(true), a2 = 0; a2 < n2.length; a2++) "LI" != n2[a2].tagName && "LI" == n2[a2].parentNode.tagName && (n2[a2] = n2[a2].parentNode);
          if (g2.selection.save(), function l2(e3, t2) {
            for (var a3 = true, n3 = 0; n3 < e3.length; n3++) {
              if ("LI" != e3[n3].tagName) return false;
              e3[n3].parentNode.tagName != t2 && (a3 = false);
            }
            return a3;
          }(n2, e2) ? t || d2(n2) : c2(n2, e2), g2.html.unwrap(), g2.selection.restore(), t = t || "default") {
            for (n2 = g2.selection.blocks(), a2 = 0; a2 < n2.length; a2++) "LI" != n2[a2].tagName && "LI" == n2[a2].parentNode.tagName && (n2[a2] = n2[a2].parentNode);
            for (a2 = 0; a2 < n2.length; a2++) "LI" == n2[a2].tagName && (h2(n2[a2].parentNode).css("list-style-type", "default" === t ? "" : t), 0 === (h2(n2[a2].parentNode).attr("style") || "").length && h2(n2[a2].parentNode).removeAttr("style"));
          }
        }, refresh: function r2(e2, t) {
          var a2 = h2(g2.selection.element());
          if (a2.get(0) != g2.el) {
            var n2 = a2.get(0);
            (n2 = "LI" != n2.tagName && n2.firstElementChild && "LI" != n2.firstElementChild.tagName ? a2.parents("li").get(0) : "LI" == n2.tagName || n2.firstElementChild ? n2.firstElementChild && "LI" == n2.firstElementChild.tagName ? a2.get(0).firstChild : a2.get(0) : a2.parents("li").get(0)) && n2.parentNode.tagName == t && g2.el.contains(n2.parentNode) && e2.addClass("fr-active");
          }
        } };
      }, St.DefineIcon("formatOLSimple", { NAME: "list-ol", SVG_KEY: "orderedList" }), St.RegisterCommand("formatOLSimple", { title: "Ordered List", type: "button", options: { "default": "Default", circle: "Circle", disc: "Disc", square: "Square" }, refresh: function(e) {
        this.lists.refresh(e, "OL");
      }, callback: function(e, t) {
        this.lists.format("OL", t);
      }, plugin: "lists" }), St.RegisterCommand("formatUL", { title: "Unordered List", type: "button", hasOptions: function() {
        return this.opts.listAdvancedTypes;
      }, options: { "default": "Default", circle: "Circle", disc: "Disc", square: "Square" }, refresh: function(e) {
        this.lists.refresh(e, "UL");
      }, callback: function(e, t) {
        this.lists.format("UL", t);
      }, plugin: "lists" }), St.RegisterCommand("formatOL", { title: "Ordered List", hasOptions: function() {
        return this.opts.listAdvancedTypes;
      }, options: { "default": "Default", "lower-alpha": "Lower Alpha", "lower-greek": "Lower Greek", "lower-roman": "Lower Roman", "upper-alpha": "Upper Alpha", "upper-roman": "Upper Roman" }, refresh: function(e) {
        this.lists.refresh(e, "OL");
      }, callback: function(e, t) {
        this.lists.format("OL", t);
      }, plugin: "lists" }), St.DefineIcon("formatUL", { NAME: "list-ul", SVG_KEY: "unorderedList" }), St.DefineIcon("formatOL", { NAME: "list-ol", SVG_KEY: "orderedList" }), Object.assign(St.DEFAULTS, { paragraphFormat: { N: "Normal", H1: "Heading 1", H2: "Heading 2", H3: "Heading 3", H4: "Heading 4", PRE: "Code" }, paragraphFormatSelection: false, paragraphDefaultSelection: "Paragraph Format" }), St.PLUGINS.paragraphFormat = function(u2) {
        var g2 = u2.$;
        function h2(e, t) {
          var a2 = u2.html.defaultTag();
          if (t && t.toLowerCase() != a2) if (0 < e.find("ul, ol").length) {
            var n2 = g2("<" + t + ">");
            e.prepend(n2);
            for (var r2 = u2.node.contents(e.get(0))[0]; r2 && ["UL", "OL"].indexOf(r2.tagName) < 0; ) {
              var i2 = r2.nextSibling;
              n2.append(r2), r2 = i2;
            }
          } else e.html("<" + t + ">" + e.html() + "</" + t + ">");
        }
        return { apply: function m2(e) {
          "N" == e && (e = u2.html.defaultTag()), u2.selection.save(), u2.html.wrap(true, true, !u2.opts.paragraphFormat.BLOCKQUOTE, true, true), u2.selection.restore();
          var t, a2, n2, r2, i2, o2, s2, l2, c2 = u2.selection.blocks();
          u2.selection.save(), u2.$el.find("pre").attr("skip", true);
          for (var d2 = 0; d2 < c2.length; d2++) if (c2[d2].tagName != e && !u2.node.isList(c2[d2])) {
            var f2 = g2(c2[d2]);
            if ("LI" == c2[d2].tagName) h2(f2, e);
            else if ("LI" == c2[d2].parentNode.tagName && c2[d2]) o2 = f2, s2 = e, l2 = u2.html.defaultTag(), s2 && s2.toLowerCase() != l2 || (s2 = 'div class="fr-temp-div"'), o2.replaceWith(g2("<" + s2 + ">").html(o2.html()));
            else if (0 <= ["TD", "TH"].indexOf(c2[d2].parentNode.tagName)) n2 = f2, r2 = e, i2 = u2.html.defaultTag(), r2 || (r2 = 'div class="fr-temp-div"' + (u2.node.isEmpty(n2.get(0), true) ? ' data-empty="true"' : "")), r2.toLowerCase() == i2 ? (u2.node.isEmpty(n2.get(0), true) || n2.append("<br/>"), n2.replaceWith(n2.html())) : n2.replaceWith(g2("<" + r2 + ">").html(n2.html()));
            else {
              if ("PRE" === e && null === f2[0].nextSibling) {
                var p2 = g2("<br>");
                f2[0].after(p2[0]);
              }
              t = f2, (a2 = e) || (a2 = 'div class="fr-temp-div"' + (u2.node.isEmpty(t.get(0), true) ? ' data-empty="true"' : "")), ("H1" == a2 || "H2" == a2 || "H3" == a2 || "H4" == a2 || "H5" == a2) && -1 < u2.node.attributes(t.get(0)).indexOf("font-size:") ? t.replaceWith(g2("<" + a2 + " " + u2.node.attributes(t.get(0)).replace(/font-size:[0-9]+px;?/, "") + ">").html(t.html()).removeAttr("data-empty")) : t.replaceWith(g2("<" + a2 + " " + u2.node.attributes(t.get(0)) + ">").html(t.html()).removeAttr("data-empty"));
            }
          }
          u2.$el.find('pre:not([skip="true"]) + pre:not([skip="true"])').each(function() {
            g2(this).prev().append("<br>" + g2(this).html()), g2(this).remove();
          }), u2.$el.find("pre").removeAttr("skip"), u2.html.unwrap(), u2.selection.restore();
        }, refreshOnShow: function o2(e, t) {
          var a2 = u2.selection.blocks();
          if (a2.length) {
            var n2 = a2[0], r2 = "N", i2 = u2.html.defaultTag();
            n2.tagName.toLowerCase() != i2 && n2 != u2.el && (r2 = n2.tagName), t.find('.fr-command[data-param1="' + r2 + '"]').addClass("fr-active").attr("aria-selected", true);
          } else t.find('.fr-command[data-param1="N"]').addClass("fr-active").attr("aria-selected", true);
        }, refresh: function i2(e) {
          if (u2.opts.paragraphFormatSelection) {
            var t = u2.selection.blocks();
            if (t.length) {
              var a2 = t[0], n2 = "N", r2 = u2.html.defaultTag();
              a2.tagName.toLowerCase() != r2 && a2 != u2.el && (n2 = a2.tagName), 0 <= ["LI", "TD", "TH"].indexOf(n2) && (n2 = "N"), e.find(">span").text(u2.language.translate(u2.opts.paragraphFormat[n2]));
            } else e.find(">span").text(u2.language.translate(u2.opts.paragraphFormat.N));
          }
        } };
      }, St.RegisterCommand("paragraphFormat", { type: "dropdown", displaySelection: function(e) {
        return e.opts.paragraphFormatSelection;
      }, defaultSelection: function(e) {
        return e.language.translate(e.opts.paragraphDefaultSelection);
      }, displaySelectionWidth: 80, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.paragraphFormat;
        for (var a2 in t) if (t.hasOwnProperty(a2)) {
          var n2 = this.shortcuts.get("paragraphFormat." + a2);
          n2 = n2 ? '<span class="fr-shortcut">' + n2 + "</span>" : "", e += '<li role="presentation"><' + ("N" == a2 ? this.html.defaultTag() || "DIV" : a2) + ' style="padding: 0 !important; margin: 0 !important; border: 0 !important; background-color: transparent !important; ' + ("PRE" == a2 || "N" == a2 ? "font-size: 15px" : "font-weight: bold !important; ") + ("H1" == a2 ? "font-size: 2em !important; " : "") + ("H2" == a2 ? "font-size: 1.5em !important; " : "") + ("H3" == a2 ? "font-size: 1.17em !important; " : "") + ("H4" == a2 ? "font-size: 15px !important;" : "") + '"  role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="paragraphFormat" data-param1="' + a2 + '" title="' + this.language.translate(t[a2]) + '">' + this.language.translate(t[a2]) + "</a></" + ("N" == a2 ? this.html.defaultTag() || "DIV" : a2) + "></li>";
        }
        return e += "</ul>";
      }, title: "Paragraph Format", callback: function(e, t) {
        this.paragraphFormat.apply(t);
      }, refresh: function(e) {
        this.paragraphFormat.refresh(e);
      }, refreshOnShow: function(e, t) {
        this.paragraphFormat.refreshOnShow(e, t);
      }, plugin: "paragraphFormat" }), St.DefineIcon("paragraphFormat", { NAME: "paragraph", SVG_KEY: "paragraphFormat" }), Object.assign(St.DEFAULTS, { paragraphStyles: { "fr-text-gray": "Gray", "fr-text-bordered": "Bordered", "fr-text-spaced": "Spaced", "fr-text-uppercase": "Uppercase" }, paragraphMultipleStyles: true }), St.PLUGINS.paragraphStyle = function(l2) {
        var c2 = l2.$;
        return { _init: function e() {
        }, apply: function d2(e, t, a2) {
          void 0 === t && (t = l2.opts.paragraphStyles), void 0 === a2 && (a2 = l2.opts.paragraphMultipleStyles);
          var n2 = "";
          a2 || ((n2 = Object.keys(t)).splice(n2.indexOf(e), 1), n2 = n2.join(" ")), l2.selection.save(), l2.html.wrap(true, true, true, true), l2.selection.restore();
          var r2 = l2.selection.blocks();
          l2.selection.save();
          for (var i2 = c2(r2[0]).hasClass(e), o2 = 0; o2 < r2.length; o2++) c2(r2[o2]).removeClass(n2).toggleClass(e, !i2), c2(r2[o2]).hasClass("fr-temp-div") && c2(r2[o2]).removeClass("fr-temp-div"), "" === c2(r2[o2]).attr("class") && c2(r2[o2]).removeAttr("class");
          if (1 === r2.length && "fr-text-bordered" === e && null === r2[0].nextSibling) {
            var s2 = c2("<br>");
            r2[0].after(s2[0]);
          }
          l2.html.unwrap(), l2.selection.restore();
        }, refreshOnShow: function r2(e, t) {
          var a2 = l2.selection.blocks();
          if (a2.length) {
            var n2 = c2(a2[0]);
            t.find(".fr-command").each(function() {
              var e2 = c2(this).data("param1"), t2 = n2.hasClass(e2);
              c2(this).toggleClass("fr-active", t2).attr("aria-selected", t2);
            });
          }
        } };
      }, St.RegisterCommand("paragraphStyle", { type: "dropdown", html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.paragraphStyles;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command '.concat(a2, '" tabIndex="-1" role="option" data-cmd="paragraphStyle" data-param1="').concat(a2, '" title="').concat(this.language.translate(t[a2]), '">').concat(this.language.translate(t[a2]), "</a></li>"));
        return e += "</ul>";
      }, title: "Paragraph Style", callback: function(e, t) {
        this.paragraphStyle.apply(t);
      }, refreshOnShow: function(e, t) {
        this.paragraphStyle.refreshOnShow(e, t);
      }, plugin: "paragraphStyle" }), St.DefineIcon("paragraphStyle", { NAME: "magic", SVG_KEY: "paragraphStyle" }), Object.assign(St.DEFAULTS, { html2pdf: window.html2pdf }), St.PLUGINS.print = function(l2) {
        return { run: function e() {
          !function s2(e2) {
            var t = l2.html.get(), a2 = null;
            l2.shared.print_iframe ? a2 = l2.shared.print_iframe : ((a2 = document.createElement("iframe")).name = "fr-print", a2.style.position = "fixed", a2.style.top = "0", a2.style.left = "-9999px", a2.style.height = "100%", a2.style.width = "0", a2.style.overflow = "hidden", a2.style["z-index"] = "2147483647", a2.style.tabIndex = "-1", l2.events.on("shared.destroy", function() {
              a2.remove();
            }), l2.shared.print_iframe = a2);
            try {
              document.body.removeChild(a2);
            } catch (o2) {
            }
            document.body.appendChild(a2);
            var n2 = function() {
              e2(), a2.removeEventListener("load", n2);
            };
            a2.addEventListener("load", n2);
            var r2 = a2.contentWindow;
            r2.document.open(), r2.document.write("<!DOCTYPE html><html " + (l2.opts.documentReady ? 'style="margin: 0; padding: 0;"' : "") + "><head><title>" + document.title + "</title>"), Array.prototype.forEach.call(document.querySelectorAll("style"), function(e3) {
              e3 = e3.cloneNode(true), r2.document.write(e3.outerHTML);
            });
            var i2 = document.querySelectorAll("link[rel=stylesheet]");
            Array.prototype.forEach.call(i2, function(e3) {
              var t2 = document.createElement("link");
              t2.rel = e3.rel, t2.href = e3.href, t2.media = "print", t2.type = "text/css", t2.media = "all", r2.document.write(t2.outerHTML);
            }), r2.document.write('</head><body style="height:auto;text-align: ' + ("rtl" == l2.opts.direction ? "right" : "left") + "; direction: " + l2.opts.direction + "; " + (l2.opts.documentReady ? " padding: 2cm; width: 17cm; margin: 0;" : "") + '"><div class="fr-view">'), r2.document.write(t), r2.document.write("</div></body></html>"), r2.document.close();
          }(function() {
            setTimeout(function() {
              l2.events.disableBlur(), window.frames["fr-print"].focus(), window.frames["fr-print"].print(), l2.$win.get(0).focus(), l2.events.disableBlur(), l2.events.focus();
            }, 0);
          });
        }, toPDF: function t() {
          l2.opts.html2pdf && (l2.$el.css("text-align", "left"), l2.opts.html2pdf().set({ margin: [10, 20], html2canvas: { useCORS: true } }).from(l2.el).save(), setTimeout(function() {
            l2.$el.css("text-align", "");
          }, 100));
        } };
      }, St.DefineIcon("print", { NAME: "print", SVG_KEY: "print" }), St.RegisterCommand("print", { title: "Print", undo: false, focus: false, plugin: "print", callback: function() {
        this.print.run();
      } }), St.DefineIcon("getPDF", { NAME: "file-pdf-o", FA5NAME: "file-pdf", SVG_KEY: "pdfExport" }), St.RegisterCommand("getPDF", { title: "Download PDF", type: "button", focus: false, undo: false, callback: function() {
        this.print.toPDF();
      } }), Object.assign(St.DEFAULTS, { quickInsertButtons: ["image", "video", "embedly", "table", "ul", "ol", "hr"], quickInsertTags: ["p", "div", "h1", "h2", "h3", "h4", "h5", "h6", "pre", "blockquote"], quickInsertEnabled: true }), St.QUICK_INSERT_BUTTONS = {}, St.DefineIcon("quickInsert", { SVG_KEY: "add", template: "svg" }), St.RegisterQuickInsertButton = function(e, t) {
        St.QUICK_INSERT_BUTTONS[e] = Object.assign({ undo: true }, t);
      }, St.RegisterQuickInsertButton("image", { icon: "insertImage", requiredPlugin: "image", title: "Insert Image", undo: false, callback: function() {
        var e = this, t = e.$;
        e.shared.$qi_image_input || (e.shared.$qi_image_input = t(document.createElement("input")).attr("accept", "image/" + e.opts.imageAllowedTypes.join(", image/").toLowerCase()).attr("name", "quickInsertImage".concat(this.id)).attr("style", "display: none;").attr("type", "file"), t("body").first().append(e.shared.$qi_image_input), e.events.$on(e.shared.$qi_image_input, "change", function() {
          var e2 = t(this).data("inst");
          this.files && (e2.quickInsert.hide(), e2.image.upload(this.files)), t(this).val("");
        }, true)), e.$qi_image_input = e.shared.$qi_image_input, e.helpers.isMobile() && e.selection.save(), e.events.disableBlur(), e.$qi_image_input.data("inst", e)[0].click();
      } }), St.RegisterQuickInsertButton("video", { icon: "insertVideo", requiredPlugin: "video", title: "Insert Video", undo: false, callback: function() {
        var e = prompt(this.language.translate("Paste the URL of the video you want to insert."));
        e && this.video.insertByURL(e);
      } }), St.RegisterQuickInsertButton("embedly", { icon: "embedly", requiredPlugin: "embedly", title: "Embed URL", undo: false, callback: function() {
        var e = prompt(this.language.translate("Paste the URL of any web content you want to insert."));
        e && this.embedly.add(e);
      } }), St.RegisterQuickInsertButton("table", { icon: "insertTable", requiredPlugin: "table", title: "Insert Table", callback: function() {
        this.table.insert(2, 2);
      } }), St.RegisterQuickInsertButton("ol", { icon: "formatOL", requiredPlugin: "lists", title: "Ordered List", callback: function() {
        this.lists.format("OL");
      } }), St.RegisterQuickInsertButton("ul", { icon: "formatUL", requiredPlugin: "lists", title: "Unordered List", callback: function() {
        this.lists.format("UL");
      } }), St.RegisterQuickInsertButton("hr", { icon: "insertHR", title: "Insert Horizontal Line", callback: function() {
        this.commands.insertHR();
      } }), St.PLUGINS.quickInsert = function(o2) {
        var s2, l2, c2 = o2.$, d2 = false;
        function a2(e) {
          var t, a3, n3;
          (t = e.offset().top - o2.$box.offset().top, a3 = (o2.$iframe && o2.$iframe.offset().left || 0) + e.offset().left - e.position().left - 4 < s2.outerWidth() ? e.offset().left + s2.outerWidth() : 0 - s2.outerWidth(), o2.opts.enter != St.ENTER_BR) ? n3 = (s2.outerHeight() - e.outerHeight()) / 2 : (c2(document.createElement("span")).html(St.INVISIBLE_SPACE).insertAfter(e), n3 = (s2.outerHeight() - e.next().outerHeight()) / 2, e.next().remove());
          if (o2.opts.iframe) {
            var r3 = o2.helpers.getPX(o2.$wp.find(".fr-iframe").css("padding-top"));
            t += o2.$iframe.offset().top + r3;
          }
          s2.hasClass("fr-on") && 0 <= t && l2.css("top", t - n3), 0 <= t && t - Math.abs(n3) <= o2.$box.outerHeight() - e.outerHeight() ? (s2.hasClass("fr-hidden") && (s2.hasClass("fr-on") && f2(), s2.removeClass("fr-hidden")), s2.css("top", t - n3)) : s2.hasClass("fr-visible") && !o2.opts.toolbarInline && (s2.addClass("fr-hidden"), p2()), s2.css("left", a3);
        }
        function r2(e) {
          o2.markdown && o2.markdown.isEnabled() || (s2 || function t() {
            o2.shared.$quick_insert || (o2.shared.$quick_insert = c2(document.createElement("div")).attr("class", "fr-quick-insert").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(o2.language.translate("Quick Insert"), '">').concat(o2.icon.create("quickInsert"), "</a>")));
            s2 = o2.shared.$quick_insert, o2.tooltip.bind(o2.$box, ".fr-quick-insert > a.fr-floating-btn"), o2.events.on("destroy", function() {
              c2("body").first().append(s2.removeClass("fr-on")), l2 && (p2(), c2("body").first().append(l2.css("left", -9999).css("top", -9999)));
            }, true), o2.events.on("shared.destroy", function() {
              s2.html("").removeData().remove(), s2 = null, l2 && (l2.html("").removeData().remove(), l2 = null);
            }, true), o2.events.on("commands.before", i2), o2.events.on("commands.after", function() {
              o2.popups.areVisible() || n2();
            }), o2.events.bindClick(o2.$box, ".fr-quick-insert > a", f2), o2.events.bindClick(o2.$box, ".fr-qi-helper > a.fr-btn", function(e2) {
              var t2 = c2(e2.currentTarget).data("cmd");
              if (false === o2.events.trigger("quickInsert.commands.before", [t2])) return false;
              St.QUICK_INSERT_BUTTONS[t2].callback.apply(o2, [e2.currentTarget]), St.QUICK_INSERT_BUTTONS[t2].undo && o2.undo.saveStep(), o2.events.trigger("quickInsert.commands.after", [t2]), o2.quickInsert.hide();
            }), o2.events.$on(o2.$wp, "scroll", u2), o2.events.$on(o2.$tb, "transitionend", ".fr-more-toolbar", u2);
          }(), s2.hasClass("fr-on") && p2(), o2.$box.append(s2), a2(e), s2.data("tag", e), s2.addClass("fr-visible"));
        }
        function n2() {
          if (o2.core.hasFocus()) {
            var e = o2.selection.element();
            if (o2.opts.enter == St.ENTER_BR || o2.node.isBlock(e) || (e = o2.node.blockParent(e)), o2.opts.enter == St.ENTER_BR && !o2.node.isBlock(e)) {
              var t = o2.node.deepestParent(e);
              t && (e = t);
            }
            var a3 = function a4() {
              return o2.opts.enter != St.ENTER_BR && o2.node.isEmpty(e) && 0 <= o2.opts.quickInsertTags.indexOf(e.tagName.toLowerCase());
            }, n3 = function n4() {
              return o2.opts.enter == St.ENTER_BR && ("BR" == e.tagName && (!e.previousSibling || "BR" == e.previousSibling.tagName || o2.node.isBlock(e.previousSibling)) || o2.node.isEmpty(e) && (!e.previousSibling || "BR" == e.previousSibling.tagName || o2.node.isBlock(e.previousSibling)) && (!e.nextSibling || "BR" == e.nextSibling.tagName || o2.node.isBlock(e.nextSibling)));
            };
            e && (a3() || n3()) ? s2 && s2.data("tag").is(c2(e)) && s2.hasClass("fr-on") ? p2() : o2.selection.isCollapsed() && r2(c2(e)) : i2();
          }
        }
        function i2() {
          s2 && !d2 && (s2.hasClass("fr-on") && p2(), s2.removeClass("fr-visible fr-on"), s2.css("left", -9999).css("top", -9999));
        }
        function f2(e) {
          if (e && e.preventDefault(), s2.hasClass("fr-on") && !s2.hasClass("fr-hidden")) p2();
          else {
            if (!o2.shared.$qi_helper) {
              for (var t = o2.opts.quickInsertButtons, a3 = '<div class="fr-qi-helper">', n3 = 0, r3 = 0; r3 < t.length; r3++) {
                var i3 = St.QUICK_INSERT_BUTTONS[t[r3]];
                i3 && (!i3.requiredPlugin || St.PLUGINS[i3.requiredPlugin] && 0 <= o2.opts.pluginsEnabled.indexOf(i3.requiredPlugin)) && (a3 += '<a class="fr-btn fr-floating-btn" role="button" title="'.concat(o2.language.translate(i3.title), '" tabIndex="-1" data-cmd="').concat(t[r3], '" style="transition-delay: ').concat(0.025 * n3++, 's;">').concat(o2.icon.create(i3.icon), "</a>"));
              }
              a3 += "</div>", o2.shared.$qi_helper = c2(a3), o2.tooltip.bind(o2.shared.$qi_helper, "a.fr-btn"), o2.events.$on(o2.shared.$qi_helper, "mousedown", function(e2) {
                e2.preventDefault();
              }, true);
            }
            l2 = o2.shared.$qi_helper, o2.$box.append(l2), d2 = true, setTimeout(function() {
              d2 = false, l2.css("top", parseFloat(s2.css("top"))), l2.css("left", parseFloat(s2.css("left")) + s2.outerWidth()), l2.find("a").addClass("fr-size-1"), s2.addClass("fr-on");
            }, 10);
          }
        }
        function p2() {
          var t = o2.$box.find(".fr-qi-helper");
          if (t.length) {
            for (var a3 = t.find("a"), e = 0; e < a3.length; e++) !function(e2) {
              setTimeout(function() {
                t.children().eq(a3.length - 1 - e2).removeClass("fr-size-1");
              }, 25 * e2);
            }(e);
            setTimeout(function() {
              t.css("left", -9999), s2 && !s2.hasClass("fr-hidden") && s2.removeClass("fr-on");
            }, 25 * e);
          }
        }
        function u2() {
          s2.hasClass("fr-visible") && a2(s2.data("tag"));
        }
        return { _init: function e() {
          if (!o2.$wp || !o2.opts.quickInsertEnabled) return false;
          o2.popups.onShow("image.edit", i2), o2.events.on("mouseup", n2), o2.helpers.isMobile() && o2.events.$on(c2(o2.o_doc), "selectionchange", n2), o2.events.on("blur", i2), o2.events.on("keyup", n2), o2.events.on("keydown", function() {
            setTimeout(function() {
              n2();
            }, 0);
          });
        }, hide: i2 };
      }, St.PLUGINS.quote = function(i2) {
        var o2 = i2.$;
        function s2(e) {
          for (; e.parentNode && e.parentNode != i2.el; ) e = e.parentNode;
          return e;
        }
        return { apply: function t(e) {
          i2.selection.save(), i2.html.wrap(true, true, true, true), i2.selection.restore(), "increase" == e ? function n2() {
            var e2, t2 = i2.selection.blocks();
            for (e2 = 0; e2 < t2.length; e2++) t2[e2] = s2(t2[e2]);
            i2.selection.save();
            var a2 = o2(document.createElement("blockquote"));
            for (a2.insertBefore(t2[0]), e2 = 0; e2 < t2.length; e2++) a2.append(t2[e2]);
            i2.opts.trackChangesEnabled && i2.track_changes.addQuote(a2), i2.html.unwrap(), i2.selection.restore();
          }() : "decrease" == e && function r2() {
            var e2, t2 = i2.opts.trackChangesEnabled, a2 = i2.selection.blocks();
            for (e2 = 0; e2 < a2.length; e2++) "BLOCKQUOTE" != a2[e2].tagName && (a2[e2] = t2 && o2(a2[e2]).parentsUntil(i2.$el, "[data-track-id^=pending]").get(0) || o2(a2[e2]).parentsUntil(i2.$el, "BLOCKQUOTE").get(0));
            for (i2.selection.save(), e2 = 0; e2 < a2.length; e2++) a2[e2] && (t2 ? i2.track_changes.removeQuote(o2(a2[e2]), e2) : o2(a2[e2]).replaceWith(a2[e2].innerHTML));
            i2.html.unwrap(), i2.selection.restore();
          }();
        } };
      }, St.RegisterShortcut(St.KEYCODE.SINGLE_QUOTE, "quote", "increase", "'"), St.RegisterShortcut(St.KEYCODE.SINGLE_QUOTE, "quote", "decrease", "'", true), St.RegisterCommand("quote", { title: "Quote", type: "dropdown", html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = { increase: "Increase", decrease: "Decrease" };
        for (var a2 in t) if (t.hasOwnProperty(a2)) {
          var n2 = this.shortcuts.get("quote.".concat(a2));
          e += '<li role="presentation"><a class="fr-command fr-active '.concat(a2, '" tabIndex="-1" role="option" data-cmd="quote" data-param1="').concat(a2, '" title="').concat(t[a2], '">').concat(this.language.translate(t[a2])).concat(n2 ? '<span class="fr-shortcut">'.concat(n2, "</span>") : "", "</a></li>");
        }
        return e += "</ul>";
      }, callback: function(e, t) {
        this.quote.apply(t);
      }, plugin: "quote" }), St.DefineIcon("quote", { NAME: "quote-left", SVG_KEY: "blockquote" }), Object.assign(St.DEFAULTS, { saveInterval: 1e4, saveURL: null, saveParams: {}, saveParam: "body", saveMethod: "POST" }), St.PLUGINS.save = function(s2) {
        var l2 = s2.$, n2 = null, c2 = null, t = false, d2 = 1, f2 = 2, a2 = {};
        function p2(e, t2) {
          s2.events.trigger("save.error", [{ code: e, message: a2[e] }, t2]);
        }
        function r2(e) {
          void 0 === e && (e = s2.html.get());
          var n3 = e, t2 = s2.events.trigger("save.before", [e]);
          if (false === t2) return false;
          if ("string" == typeof t2 && (e = t2), s2.opts.saveURL) {
            var a3 = {};
            for (var r3 in s2.opts.saveParams) if (s2.opts.saveParams.hasOwnProperty(r3)) {
              var i3 = s2.opts.saveParams[r3];
              a3[r3] = "function" == typeof i3 ? i3.call(this) : i3;
            }
            var o2 = {};
            o2[s2.opts.saveParam] = e, l2(this).ajax({ method: s2.opts.saveMethod, url: s2.opts.saveURL, data: Object.assign(o2, a3), crossDomain: s2.opts.requestWithCORS, withCredentials: s2.opts.requestWithCredentials, headers: s2.opts.requestHeaders, done: function(e2, t3, a4) {
              c2 = n3, s2.events.trigger("save.after", [e2]);
            }, fail: function(e2) {
              p2(f2, e2.response || e2.responseText);
            } });
          } else p2(d2);
        }
        function i2() {
          clearTimeout(n2), n2 = setTimeout(function() {
            var e = s2.html.get();
            (c2 != e || t) && (t = false, r2(c2 = e));
          }, 0);
        }
        return a2[d2] = "Missing saveURL option.", a2[f2] = "Something went wrong during save.", { _init: function o2() {
          if (s2.opts.letteringClass) for (var e = s2.opts.letteringClass, t2 = s2.$el.find(".".concat(e)).length, a3 = 0; a3 < t2; a3++) s2.$el.find(".".concat(e))[a3].innerHTML = s2.$el.find(".".concat(e))[a3].innerText.replace(/([\w'-]+|[?.",])/g, "<span class = 'fr-word-select'>$1</span>");
          s2.opts.saveInterval && (c2 = s2.html.get(), s2.events.on("contentChanged", function() {
            setTimeout(i2, s2.opts.saveInterval);
          }), s2.events.on("keydown destroy", function() {
            clearTimeout(n2);
          }));
        }, save: r2, reset: function e() {
          i2(), t = false;
        }, force: function u2() {
          t = true;
        } };
      }, St.DefineIcon("save", { NAME: "floppy-o", FA5NAME: "save" }), St.RegisterCommand("save", { title: "Save", undo: false, focus: false, refreshAfterCallback: false, callback: function() {
        this.save.save();
      }, plugin: "save" }), Object.assign(St.DEFAULTS, { specialCharactersSets: [{ title: "Latin", "char": "&iexcl;", list: [{ "char": "&iexcl;", desc: "INVERTED EXCLAMATION MARK" }, { "char": "&cent;", desc: "CENT SIGN" }, { "char": "&pound;", desc: "POUND SIGN" }, { "char": "&curren;", desc: "CURRENCY SIGN" }, { "char": "&yen;", desc: "YEN SIGN" }, { "char": "&brvbar;", desc: "BROKEN BAR" }, { "char": "&sect;", desc: "SECTION SIGN" }, { "char": "&uml;", desc: "DIAERESIS" }, { "char": "&copy;", desc: "COPYRIGHT SIGN" }, { "char": "&trade;", desc: "TRADEMARK SIGN" }, { "char": "&ordf;", desc: "FEMININE ORDINAL INDICATOR" }, { "char": "&laquo;", desc: "LEFT-POINTING DOUBLE ANGLE QUOTATION MARK" }, { "char": "&not;", desc: "NOT SIGN" }, { "char": "&reg;", desc: "REGISTERED SIGN" }, { "char": "&macr;", desc: "MACRON" }, { "char": "&deg;", desc: "DEGREE SIGN" }, { "char": "&plusmn;", desc: "PLUS-MINUS SIGN" }, { "char": "&sup2;", desc: "SUPERSCRIPT TWO" }, { "char": "&sup3;", desc: "SUPERSCRIPT THREE" }, { "char": "&acute;", desc: "ACUTE ACCENT" }, { "char": "&micro;", desc: "MICRO SIGN" }, { "char": "&para;", desc: "PILCROW SIGN" }, { "char": "&middot;", desc: "MIDDLE DOT" }, { "char": "&cedil;", desc: "CEDILLA" }, { "char": "&sup1;", desc: "SUPERSCRIPT ONE" }, { "char": "&ordm;", desc: "MASCULINE ORDINAL INDICATOR" }, { "char": "&raquo;", desc: "RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK" }, { "char": "&frac14;", desc: "VULGAR FRACTION ONE QUARTER" }, { "char": "&frac12;", desc: "VULGAR FRACTION ONE HALF" }, { "char": "&frac34;", desc: "VULGAR FRACTION THREE QUARTERS" }, { "char": "&iquest;", desc: "INVERTED QUESTION MARK" }, { "char": "&Agrave;", desc: "LATIN CAPITAL LETTER A WITH GRAVE" }, { "char": "&Aacute;", desc: "LATIN CAPITAL LETTER A WITH ACUTE" }, { "char": "&Acirc;", desc: "LATIN CAPITAL LETTER A WITH CIRCUMFLEX" }, { "char": "&Atilde;", desc: "LATIN CAPITAL LETTER A WITH TILDE" }, { "char": "&Auml;", desc: "LATIN CAPITAL LETTER A WITH DIAERESIS " }, { "char": "&Aring;", desc: "LATIN CAPITAL LETTER A WITH RING ABOVE" }, { "char": "&AElig;", desc: "LATIN CAPITAL LETTER AE" }, { "char": "&Ccedil;", desc: "LATIN CAPITAL LETTER C WITH CEDILLA" }, { "char": "&Egrave;", desc: "LATIN CAPITAL LETTER E WITH GRAVE" }, { "char": "&Eacute;", desc: "LATIN CAPITAL LETTER E WITH ACUTE" }, { "char": "&Ecirc;", desc: "LATIN CAPITAL LETTER E WITH CIRCUMFLEX" }, { "char": "&Euml;", desc: "LATIN CAPITAL LETTER E WITH DIAERESIS" }, { "char": "&Igrave;", desc: "LATIN CAPITAL LETTER I WITH GRAVE" }, { "char": "&Iacute;", desc: "LATIN CAPITAL LETTER I WITH ACUTE" }, { "char": "&Icirc;", desc: "LATIN CAPITAL LETTER I WITH CIRCUMFLEX" }, { "char": "&Iuml;", desc: "LATIN CAPITAL LETTER I WITH DIAERESIS" }, { "char": "&ETH;", desc: "LATIN CAPITAL LETTER ETH" }, { "char": "&Ntilde;", desc: "LATIN CAPITAL LETTER N WITH TILDE" }, { "char": "&Ograve;", desc: "LATIN CAPITAL LETTER O WITH GRAVE" }, { "char": "&Oacute;", desc: "LATIN CAPITAL LETTER O WITH ACUTE" }, { "char": "&Ocirc;", desc: "LATIN CAPITAL LETTER O WITH CIRCUMFLEX" }, { "char": "&Otilde;", desc: "LATIN CAPITAL LETTER O WITH TILDE" }, { "char": "&Ouml;", desc: "LATIN CAPITAL LETTER O WITH DIAERESIS" }, { "char": "&times;", desc: "MULTIPLICATION SIGN" }, { "char": "&Oslash;", desc: "LATIN CAPITAL LETTER O WITH STROKE" }, { "char": "&Ugrave;", desc: "LATIN CAPITAL LETTER U WITH GRAVE" }, { "char": "&Uacute;", desc: "LATIN CAPITAL LETTER U WITH ACUTE" }, { "char": "&Ucirc;", desc: "LATIN CAPITAL LETTER U WITH CIRCUMFLEX" }, { "char": "&Uuml;", desc: "LATIN CAPITAL LETTER U WITH DIAERESIS" }, { "char": "&Yacute;", desc: "LATIN CAPITAL LETTER Y WITH ACUTE" }, { "char": "&THORN;", desc: "LATIN CAPITAL LETTER THORN" }, { "char": "&szlig;", desc: "LATIN SMALL LETTER SHARP S" }, { "char": "&agrave;", desc: "LATIN SMALL LETTER A WITH GRAVE" }, { "char": "&aacute;", desc: "LATIN SMALL LETTER A WITH ACUTE " }, { "char": "&acirc;", desc: "LATIN SMALL LETTER A WITH CIRCUMFLEX" }, { "char": "&atilde;", desc: "LATIN SMALL LETTER A WITH TILDE" }, { "char": "&auml;", desc: "LATIN SMALL LETTER A WITH DIAERESIS" }, { "char": "&aring;", desc: "LATIN SMALL LETTER A WITH RING ABOVE" }, { "char": "&aelig;", desc: "LATIN SMALL LETTER AE" }, { "char": "&ccedil;", desc: "LATIN SMALL LETTER C WITH CEDILLA" }, { "char": "&egrave;", desc: "LATIN SMALL LETTER E WITH GRAVE" }, { "char": "&eacute;", desc: "LATIN SMALL LETTER E WITH ACUTE" }, { "char": "&ecirc;", desc: "LATIN SMALL LETTER E WITH CIRCUMFLEX" }, { "char": "&euml;", desc: "LATIN SMALL LETTER E WITH DIAERESIS" }, { "char": "&igrave;", desc: "LATIN SMALL LETTER I WITH GRAVE" }, { "char": "&iacute;", desc: "LATIN SMALL LETTER I WITH ACUTE" }, { "char": "&icirc;", desc: "LATIN SMALL LETTER I WITH CIRCUMFLEX" }, { "char": "&iuml;", desc: "LATIN SMALL LETTER I WITH DIAERESIS" }, { "char": "&eth;", desc: "LATIN SMALL LETTER ETH" }, { "char": "&ntilde;", desc: "LATIN SMALL LETTER N WITH TILDE" }, { "char": "&ograve;", desc: "LATIN SMALL LETTER O WITH GRAVE" }, { "char": "&oacute;", desc: "LATIN SMALL LETTER O WITH ACUTE" }, { "char": "&ocirc;", desc: "LATIN SMALL LETTER O WITH CIRCUMFLEX" }, { "char": "&otilde;", desc: "LATIN SMALL LETTER O WITH TILDE" }, { "char": "&ouml;", desc: "LATIN SMALL LETTER O WITH DIAERESIS" }, { "char": "&divide;", desc: "DIVISION SIGN" }, { "char": "&oslash;", desc: "LATIN SMALL LETTER O WITH STROKE" }, { "char": "&ugrave;", desc: "LATIN SMALL LETTER U WITH GRAVE" }, { "char": "&uacute;", desc: "LATIN SMALL LETTER U WITH ACUTE" }, { "char": "&ucirc;", desc: "LATIN SMALL LETTER U WITH CIRCUMFLEX" }, { "char": "&uuml;", desc: "LATIN SMALL LETTER U WITH DIAERESIS" }, { "char": "&yacute;", desc: "LATIN SMALL LETTER Y WITH ACUTE" }, { "char": "&thorn;", desc: "LATIN SMALL LETTER THORN" }, { "char": "&yuml;", desc: "LATIN SMALL LETTER Y WITH DIAERESIS" }] }, { title: "Greek", "char": "&Alpha;", list: [{ "char": "&Alpha;", desc: "GREEK CAPITAL LETTER ALPHA" }, { "char": "&Beta;", desc: "GREEK CAPITAL LETTER BETA" }, { "char": "&Gamma;", desc: "GREEK CAPITAL LETTER GAMMA" }, { "char": "&Delta;", desc: "GREEK CAPITAL LETTER DELTA" }, { "char": "&Epsilon;", desc: "GREEK CAPITAL LETTER EPSILON" }, { "char": "&Zeta;", desc: "GREEK CAPITAL LETTER ZETA" }, { "char": "&Eta;", desc: "GREEK CAPITAL LETTER ETA" }, { "char": "&Theta;", desc: "GREEK CAPITAL LETTER THETA" }, { "char": "&Iota;", desc: "GREEK CAPITAL LETTER IOTA" }, { "char": "&Kappa;", desc: "GREEK CAPITAL LETTER KAPPA" }, { "char": "&Lambda;", desc: "GREEK CAPITAL LETTER LAMBDA" }, { "char": "&Mu;", desc: "GREEK CAPITAL LETTER MU" }, { "char": "&Nu;", desc: "GREEK CAPITAL LETTER NU" }, { "char": "&Xi;", desc: "GREEK CAPITAL LETTER XI" }, { "char": "&Omicron;", desc: "GREEK CAPITAL LETTER OMICRON" }, { "char": "&Pi;", desc: "GREEK CAPITAL LETTER PI" }, { "char": "&Rho;", desc: "GREEK CAPITAL LETTER RHO" }, { "char": "&Sigma;", desc: "GREEK CAPITAL LETTER SIGMA" }, { "char": "&Tau;", desc: "GREEK CAPITAL LETTER TAU" }, { "char": "&Upsilon;", desc: "GREEK CAPITAL LETTER UPSILON" }, { "char": "&Phi;", desc: "GREEK CAPITAL LETTER PHI" }, { "char": "&Chi;", desc: "GREEK CAPITAL LETTER CHI" }, { "char": "&Psi;", desc: "GREEK CAPITAL LETTER PSI" }, { "char": "&Omega;", desc: "GREEK CAPITAL LETTER OMEGA" }, { "char": "&alpha;", desc: "GREEK SMALL LETTER ALPHA" }, { "char": "&beta;", desc: "GREEK SMALL LETTER BETA" }, { "char": "&gamma;", desc: "GREEK SMALL LETTER GAMMA" }, { "char": "&delta;", desc: "GREEK SMALL LETTER DELTA" }, { "char": "&epsilon;", desc: "GREEK SMALL LETTER EPSILON" }, { "char": "&zeta;", desc: "GREEK SMALL LETTER ZETA" }, { "char": "&eta;", desc: "GREEK SMALL LETTER ETA" }, { "char": "&theta;", desc: "GREEK SMALL LETTER THETA" }, { "char": "&iota;", desc: "GREEK SMALL LETTER IOTA" }, { "char": "&kappa;", desc: "GREEK SMALL LETTER KAPPA" }, { "char": "&lambda;", desc: "GREEK SMALL LETTER LAMBDA" }, { "char": "&mu;", desc: "GREEK SMALL LETTER MU" }, { "char": "&nu;", desc: "GREEK SMALL LETTER NU" }, { "char": "&xi;", desc: "GREEK SMALL LETTER XI" }, { "char": "&omicron;", desc: "GREEK SMALL LETTER OMICRON" }, { "char": "&pi;", desc: "GREEK SMALL LETTER PI" }, { "char": "&rho;", desc: "GREEK SMALL LETTER RHO" }, { "char": "&sigmaf;", desc: "GREEK SMALL LETTER FINAL SIGMA" }, { "char": "&sigma;", desc: "GREEK SMALL LETTER SIGMA" }, { "char": "&tau;", desc: "GREEK SMALL LETTER TAU" }, { "char": "&upsilon;", desc: "GREEK SMALL LETTER UPSILON" }, { "char": "&phi;", desc: "GREEK SMALL LETTER PHI" }, { "char": "&chi;", desc: "GREEK SMALL LETTER CHI" }, { "char": "&psi;", desc: "GREEK SMALL LETTER PSI" }, { "char": "&omega;", desc: "GREEK SMALL LETTER OMEGA" }, { "char": "&thetasym;", desc: "GREEK THETA SYMBOL" }, { "char": "&upsih;", desc: "GREEK UPSILON WITH HOOK SYMBOL" }, { "char": "&straightphi;", desc: "GREEK PHI SYMBOL" }, { "char": "&piv;", desc: "GREEK PI SYMBOL" }, { "char": "&Gammad;", desc: "GREEK LETTER DIGAMMA" }, { "char": "&gammad;", desc: "GREEK SMALL LETTER DIGAMMA" }, { "char": "&varkappa;", desc: "GREEK KAPPA SYMBOL" }, { "char": "&varrho;", desc: "GREEK RHO SYMBOL" }, { "char": "&straightepsilon;", desc: "GREEK LUNATE EPSILON SYMBOL" }, { "char": "&backepsilon;", desc: "GREEK REVERSED LUNATE EPSILON SYMBOL" }] }, { title: "Cyrillic", "char": "&#x400", list: [{ "char": "&#x400", desc: "CYRILLIC CAPITAL LETTER IE WITH GRAVE" }, { "char": "&#x401", desc: "CYRILLIC CAPITAL LETTER IO" }, { "char": "&#x402", desc: "CYRILLIC CAPITAL LETTER DJE" }, { "char": "&#x403", desc: "CYRILLIC CAPITAL LETTER GJE" }, { "char": "&#x404", desc: "CYRILLIC CAPITAL LETTER UKRAINIAN IE" }, { "char": "&#x405", desc: "CYRILLIC CAPITAL LETTER DZE" }, { "char": "&#x406", desc: "CYRILLIC CAPITAL LETTER BYELORUSSIAN-UKRAINIAN I" }, { "char": "&#x407", desc: "CYRILLIC CAPITAL LETTER YI" }, { "char": "&#x408", desc: "CYRILLIC CAPITAL LETTER JE" }, { "char": "&#x409", desc: "CYRILLIC CAPITAL LETTER LJE" }, { "char": "&#x40A", desc: "CYRILLIC CAPITAL LETTER NJE" }, { "char": "&#x40B", desc: "CYRILLIC CAPITAL LETTER TSHE" }, { "char": "&#x40C", desc: "CYRILLIC CAPITAL LETTER KJE" }, { "char": "&#x40D", desc: "CYRILLIC CAPITAL LETTER I WITH GRAVE" }, { "char": "&#x40E", desc: "CYRILLIC CAPITAL LETTER SHORT U" }, { "char": "&#x40F", desc: "CYRILLIC CAPITAL LETTER DZHE" }, { "char": "&#x410", desc: "CYRILLIC CAPITAL LETTER A" }, { "char": "&#x411", desc: "CYRILLIC CAPITAL LETTER BE" }, { "char": "&#x412", desc: "CYRILLIC CAPITAL LETTER VE" }, { "char": "&#x413", desc: "CYRILLIC CAPITAL LETTER GHE" }, { "char": "&#x414", desc: "CYRILLIC CAPITAL LETTER DE" }, { "char": "&#x415", desc: "CYRILLIC CAPITAL LETTER IE" }, { "char": "&#x416", desc: "CYRILLIC CAPITAL LETTER ZHE" }, { "char": "&#x417", desc: "CYRILLIC CAPITAL LETTER ZE" }, { "char": "&#x418", desc: "CYRILLIC CAPITAL LETTER I" }, { "char": "&#x419", desc: "CYRILLIC CAPITAL LETTER SHORT I" }, { "char": "&#x41A", desc: "CYRILLIC CAPITAL LETTER KA" }, { "char": "&#x41B", desc: "CYRILLIC CAPITAL LETTER EL" }, { "char": "&#x41C", desc: "CYRILLIC CAPITAL LETTER EM" }, { "char": "&#x41D", desc: "CYRILLIC CAPITAL LETTER EN" }, { "char": "&#x41E", desc: "CYRILLIC CAPITAL LETTER O" }, { "char": "&#x41F", desc: "CYRILLIC CAPITAL LETTER PE" }, { "char": "&#x420", desc: "CYRILLIC CAPITAL LETTER ER" }, { "char": "&#x421", desc: "CYRILLIC CAPITAL LETTER ES" }, { "char": "&#x422", desc: "CYRILLIC CAPITAL LETTER TE" }, { "char": "&#x423", desc: "CYRILLIC CAPITAL LETTER U" }, { "char": "&#x424", desc: "CYRILLIC CAPITAL LETTER EF" }, { "char": "&#x425", desc: "CYRILLIC CAPITAL LETTER HA" }, { "char": "&#x426", desc: "CYRILLIC CAPITAL LETTER TSE" }, { "char": "&#x427", desc: "CYRILLIC CAPITAL LETTER CHE" }, { "char": "&#x428", desc: "CYRILLIC CAPITAL LETTER SHA" }, { "char": "&#x429", desc: "CYRILLIC CAPITAL LETTER SHCHA" }, { "char": "&#x42A", desc: "CYRILLIC CAPITAL LETTER HARD SIGN" }, { "char": "&#x42B", desc: "CYRILLIC CAPITAL LETTER YERU" }, { "char": "&#x42C", desc: "CYRILLIC CAPITAL LETTER SOFT SIGN" }, { "char": "&#x42D", desc: "CYRILLIC CAPITAL LETTER E" }, { "char": "&#x42E", desc: "CYRILLIC CAPITAL LETTER YU" }, { "char": "&#x42F", desc: "CYRILLIC CAPITAL LETTER YA" }, { "char": "&#x430", desc: "CYRILLIC SMALL LETTER A" }, { "char": "&#x431", desc: "CYRILLIC SMALL LETTER BE" }, { "char": "&#x432", desc: "CYRILLIC SMALL LETTER VE" }, { "char": "&#x433", desc: "CYRILLIC SMALL LETTER GHE" }, { "char": "&#x434", desc: "CYRILLIC SMALL LETTER DE" }, { "char": "&#x435", desc: "CYRILLIC SMALL LETTER IE" }, { "char": "&#x436", desc: "CYRILLIC SMALL LETTER ZHE" }, { "char": "&#x437", desc: "CYRILLIC SMALL LETTER ZE" }, { "char": "&#x438", desc: "CYRILLIC SMALL LETTER I" }, { "char": "&#x439", desc: "CYRILLIC SMALL LETTER SHORT I" }, { "char": "&#x43A", desc: "CYRILLIC SMALL LETTER KA" }, { "char": "&#x43B", desc: "CYRILLIC SMALL LETTER EL" }, { "char": "&#x43C", desc: "CYRILLIC SMALL LETTER EM" }, { "char": "&#x43D", desc: "CYRILLIC SMALL LETTER EN" }, { "char": "&#x43E", desc: "CYRILLIC SMALL LETTER O" }, { "char": "&#x43F", desc: "CYRILLIC SMALL LETTER PE" }, { "char": "&#x440", desc: "CYRILLIC SMALL LETTER ER" }, { "char": "&#x441", desc: "CYRILLIC SMALL LETTER ES" }, { "char": "&#x442", desc: "CYRILLIC SMALL LETTER TE" }, { "char": "&#x443", desc: "CYRILLIC SMALL LETTER U" }, { "char": "&#x444", desc: "CYRILLIC SMALL LETTER EF" }, { "char": "&#x445", desc: "CYRILLIC SMALL LETTER HA" }, { "char": "&#x446", desc: "CYRILLIC SMALL LETTER TSE" }, { "char": "&#x447", desc: "CYRILLIC SMALL LETTER CHE" }, { "char": "&#x448", desc: "CYRILLIC SMALL LETTER SHA" }, { "char": "&#x449", desc: "CYRILLIC SMALL LETTER SHCHA" }, { "char": "&#x44A", desc: "CYRILLIC SMALL LETTER HARD SIGN" }, { "char": "&#x44B", desc: "CYRILLIC SMALL LETTER YERU" }, { "char": "&#x44C", desc: "CYRILLIC SMALL LETTER SOFT SIGN" }, { "char": "&#x44D", desc: "CYRILLIC SMALL LETTER E" }, { "char": "&#x44E", desc: "CYRILLIC SMALL LETTER YU" }, { "char": "&#x44F", desc: "CYRILLIC SMALL LETTER YA" }, { "char": "&#x450", desc: "CYRILLIC SMALL LETTER IE WITH GRAVE" }, { "char": "&#x451", desc: "CYRILLIC SMALL LETTER IO" }, { "char": "&#x452", desc: "CYRILLIC SMALL LETTER DJE" }, { "char": "&#x453", desc: "CYRILLIC SMALL LETTER GJE" }, { "char": "&#x454", desc: "CYRILLIC SMALL LETTER UKRAINIAN IE" }, { "char": "&#x455", desc: "CYRILLIC SMALL LETTER DZE" }, { "char": "&#x456", desc: "CYRILLIC SMALL LETTER BYELORUSSIAN-UKRAINIAN I" }, { "char": "&#x457", desc: "CYRILLIC SMALL LETTER YI" }, { "char": "&#x458", desc: "CYRILLIC SMALL LETTER JE" }, { "char": "&#x459", desc: "CYRILLIC SMALL LETTER LJE" }, { "char": "&#x45A", desc: "CYRILLIC SMALL LETTER NJE" }, { "char": "&#x45B", desc: "CYRILLIC SMALL LETTER TSHE" }, { "char": "&#x45C", desc: "CYRILLIC SMALL LETTER KJE" }, { "char": "&#x45D", desc: "CYRILLIC SMALL LETTER I WITH GRAVE" }, { "char": "&#x45E", desc: "CYRILLIC SMALL LETTER SHORT U" }, { "char": "&#x45F", desc: "CYRILLIC SMALL LETTER DZHE" }] }, { title: "Punctuation", "char": "&ndash;", list: [{ "char": "&ndash;", desc: "EN DASH" }, { "char": "&mdash;", desc: "EM DASH" }, { "char": "&lsquo;", desc: "LEFT SINGLE QUOTATION MARK" }, { "char": "&rsquo;", desc: "RIGHT SINGLE QUOTATION MARK" }, { "char": "&sbquo;", desc: "SINGLE LOW-9 QUOTATION MARK" }, { "char": "&ldquo;", desc: "LEFT DOUBLE QUOTATION MARK" }, { "char": "&rdquo;", desc: "RIGHT DOUBLE QUOTATION MARK" }, { "char": "&bdquo;", desc: "DOUBLE LOW-9 QUOTATION MARK" }, { "char": "&dagger;", desc: "DAGGER" }, { "char": "&Dagger;", desc: "DOUBLE DAGGER" }, { "char": "&bull;", desc: "BULLET" }, { "char": "&hellip;", desc: "HORIZONTAL ELLIPSIS" }, { "char": "&permil;", desc: "PER MILLE SIGN" }, { "char": "&prime;", desc: "PRIME" }, { "char": "&Prime;", desc: "DOUBLE PRIME" }, { "char": "&lsaquo;", desc: "SINGLE LEFT-POINTING ANGLE QUOTATION MARK" }, { "char": "&rsaquo;", desc: "SINGLE RIGHT-POINTING ANGLE QUOTATION MARK" }, { "char": "&oline;", desc: "OVERLINE" }, { "char": "&frasl;", desc: "FRACTION SLASH" }] }, { title: "Currency", "char": "&#x20A0", list: [{ "char": "&#x20A0", desc: "EURO-CURRENCY SIGN" }, { "char": "&#x20A1", desc: "COLON SIGN" }, { "char": "&#x20A2", desc: "CRUZEIRO SIGN" }, { "char": "&#x20A3", desc: "FRENCH FRANC SIGN" }, { "char": "&#x20A4", desc: "LIRA SIGN" }, { "char": "&#x20A5", desc: "MILL SIGN" }, { "char": "&#x20A6", desc: "NAIRA SIGN" }, { "char": "&#x20A7", desc: "PESETA SIGN" }, { "char": "&#x20A8", desc: "RUPEE SIGN" }, { "char": "&#x20A9", desc: "WON SIGN" }, { "char": "&#x20AA", desc: "NEW SHEQEL SIGN" }, { "char": "&#x20AB", desc: "DONG SIGN" }, { "char": "&#x20AC", desc: "EURO SIGN" }, { "char": "&#x20AD", desc: "KIP SIGN" }, { "char": "&#x20AE", desc: "TUGRIK SIGN" }, { "char": "&#x20AF", desc: "DRACHMA SIGN" }, { "char": "&#x20B0", desc: "GERMAN PENNY SYMBOL" }, { "char": "&#x20B1", desc: "PESO SIGN" }, { "char": "&#x20B2", desc: "GUARANI SIGN" }, { "char": "&#x20B3", desc: "AUSTRAL SIGN" }, { "char": "&#x20B4", desc: "HRYVNIA SIGN" }, { "char": "&#x20B5", desc: "CEDI SIGN" }, { "char": "&#x20B6", desc: "LIVRE TOURNOIS SIGN" }, { "char": "&#x20B7", desc: "SPESMILO SIGN" }, { "char": "&#x20B8", desc: "TENGE SIGN" }, { "char": "&#x20B9", desc: "INDIAN RUPEE SIGN" }] }, { title: "Arrows", "char": "&#x2190", list: [{ "char": "&#x2190", desc: "LEFTWARDS ARROW" }, { "char": "&#x2191", desc: "UPWARDS ARROW" }, { "char": "&#x2192", desc: "RIGHTWARDS ARROW" }, { "char": "&#x2193", desc: "DOWNWARDS ARROW" }, { "char": "&#x2194", desc: "LEFT RIGHT ARROW" }, { "char": "&#x2195", desc: "UP DOWN ARROW" }, { "char": "&#x2196", desc: "NORTH WEST ARROW" }, { "char": "&#x2197", desc: "NORTH EAST ARROW" }, { "char": "&#x2198", desc: "SOUTH EAST ARROW" }, { "char": "&#x2199", desc: "SOUTH WEST ARROW" }, { "char": "&#x219A", desc: "LEFTWARDS ARROW WITH STROKE" }, { "char": "&#x219B", desc: "RIGHTWARDS ARROW WITH STROKE" }, { "char": "&#x219C", desc: "LEFTWARDS WAVE ARROW" }, { "char": "&#x219D", desc: "RIGHTWARDS WAVE ARROW" }, { "char": "&#x219E", desc: "LEFTWARDS TWO HEADED ARROW" }, { "char": "&#x219F", desc: "UPWARDS TWO HEADED ARROW" }, { "char": "&#x21A0", desc: "RIGHTWARDS TWO HEADED ARROW" }, { "char": "&#x21A1", desc: "DOWNWARDS TWO HEADED ARROW" }, { "char": "&#x21A2", desc: "LEFTWARDS ARROW WITH TAIL" }, { "char": "&#x21A3", desc: "RIGHTWARDS ARROW WITH TAIL" }, { "char": "&#x21A4", desc: "LEFTWARDS ARROW FROM BAR" }, { "char": "&#x21A5", desc: "UPWARDS ARROW FROM BAR" }, { "char": "&#x21A6", desc: "RIGHTWARDS ARROW FROM BAR" }, { "char": "&#x21A7", desc: "DOWNWARDS ARROW FROM BAR" }, { "char": "&#x21A8", desc: "UP DOWN ARROW WITH BASE" }, { "char": "&#x21A9", desc: "LEFTWARDS ARROW WITH HOOK" }, { "char": "&#x21AA", desc: "RIGHTWARDS ARROW WITH HOOK" }, { "char": "&#x21AB", desc: "LEFTWARDS ARROW WITH LOOP" }, { "char": "&#x21AC", desc: "RIGHTWARDS ARROW WITH LOOP" }, { "char": "&#x21AD", desc: "LEFT RIGHT WAVE ARROW" }, { "char": "&#x21AE", desc: "LEFT RIGHT ARROW WITH STROKE" }, { "char": "&#x21AF", desc: "DOWNWARDS ZIGZAG ARROW" }, { "char": "&#x21B0", desc: "UPWARDS ARROW WITH TIP LEFTWARDS" }, { "char": "&#x21B1", desc: "UPWARDS ARROW WITH TIP RIGHTWARDS" }, { "char": "&#x21B2", desc: "DOWNWARDS ARROW WITH TIP LEFTWARDS" }, { "char": "&#x21B3", desc: "DOWNWARDS ARROW WITH TIP RIGHTWARDS" }, { "char": "&#x21B4", desc: "RIGHTWARDS ARROW WITH CORNER DOWNWARDS" }, { "char": "&#x21B5", desc: "DOWNWARDS ARROW WITH CORNER LEFTWARDS" }, { "char": "&#x21B6", desc: "ANTICLOCKWISE TOP SEMICIRCLE ARROW" }, { "char": "&#x21B7", desc: "CLOCKWISE TOP SEMICIRCLE ARROW" }, { "char": "&#x21B8", desc: "NORTH WEST ARROW TO LONG BAR" }, { "char": "&#x21B9", desc: "LEFTWARDS ARROW TO BAR OVER RIGHTWARDS ARROW TO BAR" }, { "char": "&#x21BA", desc: "ANTICLOCKWISE OPEN CIRCLE ARROW" }, { "char": "&#x21BB", desc: "CLOCKWISE OPEN CIRCLE ARROW" }, { "char": "&#x21BC", desc: "LEFTWARDS HARPOON WITH BARB UPWARDS" }, { "char": "&#x21BD", desc: "LEFTWARDS HARPOON WITH BARB DOWNWARDS" }, { "char": "&#x21BE", desc: "UPWARDS HARPOON WITH BARB RIGHTWARDS" }, { "char": "&#x21BF", desc: "UPWARDS HARPOON WITH BARB LEFTWARDS" }, { "char": "&#x21C0", desc: "RIGHTWARDS HARPOON WITH BARB UPWARDS" }, { "char": "&#x21C1", desc: "RIGHTWARDS HARPOON WITH BARB DOWNWARDS" }, { "char": "&#x21C2", desc: "DOWNWARDS HARPOON WITH BARB RIGHTWARDS" }, { "char": "&#x21C3", desc: "DOWNWARDS HARPOON WITH BARB LEFTWARDS" }, { "char": "&#x21C4", desc: "RIGHTWARDS ARROW OVER LEFTWARDS ARROW" }, { "char": "&#x21C5", desc: "UPWARDS ARROW LEFTWARDS OF DOWNWARDS ARROW" }, { "char": "&#x21C6", desc: "LEFTWARDS ARROW OVER RIGHTWARDS ARROW" }, { "char": "&#x21C7", desc: "LEFTWARDS PAIRED ARROWS" }, { "char": "&#x21C8", desc: "UPWARDS PAIRED ARROWS" }, { "char": "&#x21C9", desc: "RIGHTWARDS PAIRED ARROWS" }, { "char": "&#x21CA", desc: "DOWNWARDS PAIRED ARROWS" }, { "char": "&#x21CB", desc: "LEFTWARDS HARPOON OVER RIGHTWARDS HARPOON" }, { "char": "&#x21CC", desc: "RIGHTWARDS HARPOON OVER LEFTWARDS HARPOON" }, { "char": "&#x21CD", desc: "LEFTWARDS DOUBLE ARROW WITH STROKE" }, { "char": "&#x21CE", desc: "LEFT RIGHT DOUBLE ARROW WITH STROKE" }, { "char": "&#x21CF", desc: "RIGHTWARDS DOUBLE ARROW WITH STROKE" }, { "char": "&#x21D0", desc: "LEFTWARDS DOUBLE ARROW" }, { "char": "&#x21D1", desc: "UPWARDS DOUBLE ARROW" }, { "char": "&#x21D2", desc: "RIGHTWARDS DOUBLE ARROW" }, { "char": "&#x21D3", desc: "DOWNWARDS DOUBLE ARROW" }, { "char": "&#x21D4", desc: "LEFT RIGHT DOUBLE ARROW" }, { "char": "&#x21D5", desc: "UP DOWN DOUBLE ARROW" }, { "char": "&#x21D6", desc: "NORTH WEST DOUBLE ARROW" }, { "char": "&#x21D7", desc: "NORTH EAST DOUBLE ARROW" }, { "char": "&#x21D8", desc: "SOUTH EAST DOUBLE ARROW" }, { "char": "&#x21D9", desc: "SOUTH WEST DOUBLE ARROW" }, { "char": "&#x21DA", desc: "LEFTWARDS TRIPLE ARROW" }, { "char": "&#x21DB", desc: "RIGHTWARDS TRIPLE ARROW" }, { "char": "&#x21DC", desc: "LEFTWARDS SQUIGGLE ARROW" }, { "char": "&#x21DD", desc: "RIGHTWARDS SQUIGGLE ARROW" }, { "char": "&#x21DE", desc: "UPWARDS ARROW WITH DOUBLE STROKE" }, { "char": "&#x21DF", desc: "DOWNWARDS ARROW WITH DOUBLE STROKE" }, { "char": "&#x21E0", desc: "LEFTWARDS DASHED ARROW" }, { "char": "&#x21E1", desc: "UPWARDS DASHED ARROW" }, { "char": "&#x21E2", desc: "RIGHTWARDS DASHED ARROW" }, { "char": "&#x21E3", desc: "DOWNWARDS DASHED ARROW" }, { "char": "&#x21E4", desc: "LEFTWARDS ARROW TO BAR" }, { "char": "&#x21E5", desc: "RIGHTWARDS ARROW TO BAR" }, { "char": "&#x21E6", desc: "LEFTWARDS WHITE ARROW" }, { "char": "&#x21E7", desc: "UPWARDS WHITE ARROW" }, { "char": "&#x21E8", desc: "RIGHTWARDS WHITE ARROW" }, { "char": "&#x21E9", desc: "DOWNWARDS WHITE ARROW" }, { "char": "&#x21EA", desc: "UPWARDS WHITE ARROW FROM BAR" }, { "char": "&#x21EB", desc: "UPWARDS WHITE ARROW ON PEDESTAL" }, { "char": "&#x21EC", desc: "UPWARDS WHITE ARROW ON PEDESTAL WITH HORIZONTAL BAR" }, { "char": "&#x21ED", desc: "UPWARDS WHITE ARROW ON PEDESTAL WITH VERTICAL BAR" }, { "char": "&#x21EE", desc: "UPWARDS WHITE DOUBLE ARROW" }, { "char": "&#x21EF", desc: "UPWARDS WHITE DOUBLE ARROW ON PEDESTAL" }, { "char": "&#x21F0", desc: "RIGHTWARDS WHITE ARROW FROM WALL" }, { "char": "&#x21F1", desc: "NORTH WEST ARROW TO CORNER" }, { "char": "&#x21F2", desc: "SOUTH EAST ARROW TO CORNER" }, { "char": "&#x21F3", desc: "UP DOWN WHITE ARROW" }, { "char": "&#x21F4", desc: "RIGHT ARROW WITH SMALL CIRCLE" }, { "char": "&#x21F5", desc: "DOWNWARDS ARROW LEFTWARDS OF UPWARDS ARROW" }, { "char": "&#x21F6", desc: "THREE RIGHTWARDS ARROWS" }, { "char": "&#x21F7", desc: "LEFTWARDS ARROW WITH VERTICAL STROKE" }, { "char": "&#x21F8", desc: "RIGHTWARDS ARROW WITH VERTICAL STROKE" }, { "char": "&#x21F9", desc: "LEFT RIGHT ARROW WITH VERTICAL STROKE" }, { "char": "&#x21FA", desc: "LEFTWARDS ARROW WITH DOUBLE VERTICAL STROKE" }, { "char": "&#x21FB", desc: "RIGHTWARDS ARROW WITH DOUBLE VERTICAL STROKE" }, { "char": "&#x21FC", desc: "LEFT RIGHT ARROW WITH DOUBLE VERTICAL STROKE" }, { "char": "&#x21FD", desc: "LEFTWARDS OPEN-HEADED ARROW" }, { "char": "&#x21FE", desc: "RIGHTWARDS OPEN-HEADED ARROW" }, { "char": "&#x21FF", desc: "LEFT RIGHT OPEN-HEADED ARROW" }] }, { title: "Math", "char": "&forall;", list: [{ "char": "&forall;", desc: "FOR ALL" }, { "char": "&part;", desc: "PARTIAL DIFFERENTIAL" }, { "char": "&exist;", desc: "THERE EXISTS" }, { "char": "&empty;", desc: "EMPTY SET" }, { "char": "&nabla;", desc: "NABLA" }, { "char": "&isin;", desc: "ELEMENT OF" }, { "char": "&notin;", desc: "NOT AN ELEMENT OF" }, { "char": "&ni;", desc: "CONTAINS AS MEMBER" }, { "char": "&prod;", desc: "N-ARY PRODUCT" }, { "char": "&sum;", desc: "N-ARY SUMMATION" }, { "char": "&minus;", desc: "MINUS SIGN" }, { "char": "&lowast;", desc: "ASTERISK OPERATOR" }, { "char": "&radic;", desc: "SQUARE ROOT" }, { "char": "&prop;", desc: "PROPORTIONAL TO" }, { "char": "&infin;", desc: "INFINITY" }, { "char": "&ang;", desc: "ANGLE" }, { "char": "&and;", desc: "LOGICAL AND" }, { "char": "&or;", desc: "LOGICAL OR" }, { "char": "&cap;", desc: "INTERSECTION" }, { "char": "&cup;", desc: "UNION" }, { "char": "&int;", desc: "INTEGRAL" }, { "char": "&there4;", desc: "THEREFORE" }, { "char": "&sim;", desc: "TILDE OPERATOR" }, { "char": "&cong;", desc: "APPROXIMATELY EQUAL TO" }, { "char": "&asymp;", desc: "ALMOST EQUAL TO" }, { "char": "&ne;", desc: "NOT EQUAL TO" }, { "char": "&equiv;", desc: "IDENTICAL TO" }, { "char": "&le;", desc: "LESS-THAN OR EQUAL TO" }, { "char": "&ge;", desc: "GREATER-THAN OR EQUAL TO" }, { "char": "&sub;", desc: "SUBSET OF" }, { "char": "&sup;", desc: "SUPERSET OF" }, { "char": "&nsub;", desc: "NOT A SUBSET OF" }, { "char": "&sube;", desc: "SUBSET OF OR EQUAL TO" }, { "char": "&supe;", desc: "SUPERSET OF OR EQUAL TO" }, { "char": "&oplus;", desc: "CIRCLED PLUS" }, { "char": "&otimes;", desc: "CIRCLED TIMES" }, { "char": "&perp;", desc: "UP TACK" }] }, { title: "Misc", "char": "&spades;", list: [{ "char": "&spades;", desc: "BLACK SPADE SUIT" }, { "char": "&clubs;", desc: "BLACK CLUB SUIT" }, { "char": "&hearts;", desc: "BLACK HEART SUIT" }, { "char": "&diams;", desc: "BLACK DIAMOND SUIT" }, { "char": "&#x2669", desc: "QUARTER NOTE" }, { "char": "&#x266A", desc: "EIGHTH NOTE" }, { "char": "&#x266B", desc: "BEAMED EIGHTH NOTES" }, { "char": "&#x266C", desc: "BEAMED SIXTEENTH NOTES" }, { "char": "&#x266D", desc: "MUSIC FLAT SIGN" }, { "char": "&#x266E", desc: "MUSIC NATURAL SIGN" }, { "char": "&#x2600", desc: "BLACK SUN WITH RAYS" }, { "char": "&#x2601", desc: "CLOUD" }, { "char": "&#x2602", desc: "UMBRELLA" }, { "char": "&#x2603", desc: "SNOWMAN" }, { "char": "&#x2615", desc: "HOT BEVERAGE" }, { "char": "&#x2618", desc: "SHAMROCK" }, { "char": "&#x262F", desc: "YIN YANG" }, { "char": "&#x2714", desc: "HEAVY CHECK MARK" }, { "char": "&#x2716", desc: "HEAVY MULTIPLICATION X" }, { "char": "&#x2744", desc: "SNOWFLAKE" }, { "char": "&#x275B", desc: "HEAVY SINGLE TURNED COMMA QUOTATION MARK ORNAMENT" }, { "char": "&#x275C", desc: "HEAVY SINGLE COMMA QUOTATION MARK ORNAMENT" }, { "char": "&#x275D", desc: "HEAVY DOUBLE TURNED COMMA QUOTATION MARK ORNAMENT" }, { "char": "&#x275E", desc: "HEAVY DOUBLE COMMA QUOTATION MARK ORNAMENT" }, { "char": "&#x2764", desc: "HEAVY BLACK HEART" }] }], specialCharButtons: ["specialCharBack", "|"] }), Object.assign(St.POPUP_TEMPLATES, { specialCharacters: "[_BUTTONS_][_CUSTOM_LAYER_]" }), St.PLUGINS.specialCharacters = function(E2) {
        var _ = E2.$, e = E2.opts.specialCharactersSets, r2 = E2.opts.specialCharactersSets[0], o2 = "";
        function s2() {
          return '\n        <div class="fr-buttons fr-tabs fr-tabs-scroll">\n          '.concat(function t(e2, a2) {
            var n2 = "";
            return e2.forEach(function(e3) {
              var t2 = { elementClass: e3.title === a2.title ? "fr-active fr-active-tab" : "", title: e3.title, dataParam1: e3.title, desc: e3["char"] };
              n2 += '<button class="fr-command fr-btn fr-special-character-category '.concat(t2.elementClass, '" title="').concat(t2.title, '" data-cmd="setSpecialCharacterCategory" data-param1="').concat(t2.dataParam1, '"><span>').concat(t2.desc, "</span></button>");
            }), n2;
          }(e, r2), '\n        </div>\n        <div class="fr-icon-container fr-sc-container" style="outline: none;">\n          ').concat(function n2(e2) {
            var a2 = "";
            return e2.list.forEach(function(e3) {
              var t = { dataParam1: e3["char"], title: e3.desc, splCharValue: e3["char"] };
              a2 += '<span class="fr-command fr-special-character fr-icon" role="button" \n      data-cmd="insertSpecialCharacter" data-param1="'.concat(t.dataParam1, '" tabindex="0"\n      title="').concat(t.title, '">').concat(t.splCharValue, "</span>");
            }), a2;
          }(r2), "\n        </div>");
        }
        return { setSpecialCharacterCategory: function n2(t) {
          r2 = e.filter(function(e2) {
            return e2.title === t;
          })[0], function a2() {
            E2.popups.get("specialCharacters").html(o2 + s2());
            var e2 = E2.popups.get("specialCharacters").children().not(".fr-buttons");
            E2.accessibility.registerPopup("specialCharacters"), E2.accessibility.focusContent(e2);
          }();
        }, showSpecialCharsPopup: function l2() {
          var e2 = E2.popups.get("specialCharacters");
          if (e2 || (e2 = function i2() {
            E2.opts.toolbarInline && 0 < E2.opts.specialCharButtons.length && (o2 = '<div class="fr-buttons fr-tabs">'.concat(E2.button.buildList(E2.opts.specialCharButtons), "</div>"));
            var e3 = { buttons: o2, custom_layer: s2() }, t2 = E2.popups.create("specialCharacters", e3);
            return function a3(b2) {
              E2.events.on("popup.tab", function(e4) {
                var t3 = _(e4.currentTarget);
                if (!E2.popups.isVisible("specialCharacters") || !t3.is("span, a")) return true;
                var a4, n3, r4, i3 = e4.which, o3 = window.getComputedStyle(b2.find(".fr-icon-container")[0]), s3 = o3.getPropertyValue("grid-template-columns").split(" ").length;
                if (St.KEYCODE.TAB == i3) {
                  var l3 = b2.find("span.fr-special-character");
                  if (t3.is(l3.first()) && e4.shiftKey || t3.is(l3.last()) && !e4.shiftKey) {
                    var c2 = b2.find(".fr-buttons");
                    a4 = !E2.accessibility.focusToolbar(c2, !!e4.shiftKey);
                  }
                  if (false !== a4) {
                    var d2 = b2.find("span.fr-special-character");
                    d2.add(b2.find("button.fr-btn")), n3 = d2.index(t3), n3 = e4.shiftKey ? ((n3 - 1) % d2.length + d2.length) % d2.length : (n3 + 1) % d2.length, r4 = d2.get(n3), E2.events.disableBlur(), r4.focus(), a4 = false;
                  }
                } else if (St.KEYCODE.ARROW_UP == i3 || St.KEYCODE.ARROW_DOWN == i3 || St.KEYCODE.ARROW_LEFT == i3 || St.KEYCODE.ARROW_RIGHT == i3) {
                  if (t3.is("span.fr-icon")) {
                    var f2 = t3.parent().find("span.fr-icon");
                    n3 = f2.index(t3);
                    var p2 = s3, u2 = Math.ceil(f2.length / p2), g2 = n3 % p2, h2 = Math.floor(n3 / p2), m2 = h2 * p2 + g2, v2 = u2 * p2;
                    St.KEYCODE.ARROW_UP == i3 ? m2 = ((m2 - p2) % v2 + v2) % v2 : St.KEYCODE.ARROW_DOWN == i3 ? m2 = (m2 + p2) % v2 : St.KEYCODE.ARROW_LEFT == i3 ? m2 = ((m2 - 1) % v2 + v2) % v2 : St.KEYCODE.ARROW_RIGHT == i3 && (m2 = (m2 + 1) % v2), r4 = _(f2.get(m2)), E2.events.disableBlur(), r4.focus(), a4 = false;
                  }
                } else St.KEYCODE.ENTER == i3 && (t3.is("a") ? t3[0].click() : E2.button.exec(t3), a4 = false);
                return false === a4 && (e4.preventDefault(), e4.stopPropagation()), a4;
              }, true);
            }(t2), t2;
          }()), !e2.hasClass("fr-active")) {
            E2.popups.refresh("specialCharacters"), E2.popups.setContainer("specialCharacters", E2.$tb);
            var t = E2.$tb.find('.fr-command[data-cmd="specialCharacters"]'), a2 = E2.button.getPosition(t), n2 = a2.left, r3 = a2.top;
            E2.popups.show("specialCharacters", n2, r3, outerHeight);
          }
        }, back: function t() {
          E2.popups.hide("specialCharacters"), E2.toolbar.showInline();
        } };
      }, St.DefineIcon("specialCharacters", { NAME: "dollar-sign", SVG_KEY: "symbols" }), St.RegisterCommand("specialCharacters", { title: "Special Characters", icon: "specialCharacters", undo: false, focus: false, popup: true, refreshAfterCallback: false, plugin: "specialCharacters", showOnMobile: true, callback: function() {
        this.popups.isVisible("specialCharacters") ? (this.$el.find(".fr-marker") && (this.events.disableBlur(), this.selection.restore()), this.popups.hide("specialCharacters")) : this.specialCharacters.showSpecialCharsPopup();
      } }), St.RegisterCommand("insertSpecialCharacter", { callback: function(e, t) {
        this.undo.saveStep(), this.html.insert(t), this.undo.saveStep(), this.popups.hide("specialCharacters");
      } }), St.RegisterCommand("setSpecialCharacterCategory", { undo: false, focus: false, callback: function(e, t) {
        this.specialCharacters.setSpecialCharacterCategory(t);
      } }), St.DefineIcon("specialCharBack", { NAME: "arrow-left", SVG_KEY: "back" }), St.RegisterCommand("specialCharBack", { title: "Back", undo: false, focus: false, back: true, refreshAfterCallback: false, callback: function() {
        this.specialCharacters.back();
      } }), Object.assign(St.POPUP_TEMPLATES, { "table.insert": "[_BUTTONS_][_ROWS_COLUMNS_]", "table.edit": "[_BUTTONS_]", "table.colors": "[_BUTTONS_][_COLORS_][_CUSTOM_COLOR_]" }), Object.assign(St.DEFAULTS, { tableInsertMaxSize: 10, tableEditButtons: ["tableHeader", "tableFooter", "tableRemove", "tableRows", "tableColumns", "tableStyle", "-", "tableCells", "tableCellBackground", "tableCellVerticalAlign", "tableCellHorizontalAlign", "tableCellStyle"], tableInsertButtons: ["tableBack", "|"], tableResizer: true, tableDefaultWidth: "100%", tableResizerOffset: 5, tableResizingLimit: 30, tableColorsButtons: ["tableBack", "|"], tableColors: ["#61BD6D", "#1ABC9C", "#54ACD2", "#2C82C9", "#9365B8", "#475577", "#CCCCCC", "#41A85F", "#00A885", "#3D8EB9", "#2969B0", "#553982", "#28324E", "#000000", "#F7DA64", "#FBA026", "#EB6B56", "#E25041", "#A38F84", "#EFEFEF", "#FFFFFF", "#FAC51C", "#F37934", "#D14841", "#B8312F", "#7C706B", "#D1D5D8", "REMOVE"], tableColorsStep: 7, tableCellStyles: { "fr-highlighted": "Highlighted", "fr-thick": "Thick" }, tableStyles: { "fr-dashed-borders": "Dashed Borders", "fr-alternate-rows": "Alternate Rows" }, tableCellMultipleStyles: true, tableMultipleStyles: true, tableInsertHelper: true, keepTextFormatOnTable: false, tableInsertHelperOffset: 15 }), St.PLUGINS.table = function(C) {
        var T, c2, r2, i2, n2, o2, y2, k = C.$;
        function h2() {
          var e2 = S();
          if (e2) {
            var t2 = C.popups.get("table.edit");
            if (t2 || (t2 = p2()), t2) {
              C.popups.setContainer("table.edit", C.$sc);
              var a3 = M(e2), n3 = a3.left + (a3.right - a3.left) / 2, r3 = a3.bottom;
              C.popups.show("table.edit", n3, r3, a3.bottom - a3.top, true), C.edit.isDisabled() && (C.$el.removeClass("fr-no-selection"), C.edit.on(), C.button.bulkRefresh(), C.selection.setAtEnd(C.$el.find(".fr-selected-cell").last().get(0)), C.selection.restore());
            }
          }
        }
        function s2() {
          var e2 = S();
          if (e2) {
            var t2 = C.popups.get("table.colors");
            t2 || (t2 = function o3() {
              var e3 = "";
              0 < C.opts.tableColorsButtons.length && (e3 = '<div class="fr-buttons fr-tabs">'.concat(C.button.buildList(C.opts.tableColorsButtons), "</div>"));
              var t3 = "";
              C.opts.colorsHEXInput && (t3 = '<div class="fr-color-hex-layer fr-table-colors-hex-layer fr-active fr-layer" id="fr-table-colors-hex-layer-'.concat(C.id, '"><div class="fr-input-line"><input maxlength="7" id="fr-table-colors-hex-layer-text-').concat(C.id, '" type="text" placeholder="').concat(C.language.translate("HEX Color"), '" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="tableCellBackgroundCustomColor" tabIndex="2" role="button">').concat(C.language.translate("OK"), "</button></div></div>"));
              var a4 = { buttons: e3, colors: function r4() {
                for (var e4 = '<div class="fr-color-set fr-table-colors">', t4 = 0; t4 < C.opts.tableColors.length; t4++) 0 !== t4 && t4 % C.opts.tableColorsStep == 0 && (e4 += "<br>"), "REMOVE" != C.opts.tableColors[t4] ? e4 += '<span class="fr-command" style="background: '.concat(C.opts.tableColors[t4], ';" tabIndex="-1" role="button" data-cmd="tableCellBackgroundColor" data-param1="').concat(C.opts.tableColors[t4], '"><span class="fr-sr-only">').concat(C.language.translate("Color"), " ").concat(C.opts.tableColors[t4], "&nbsp;&nbsp;&nbsp;</span></span>") : e4 += '<span class="fr-command" data-cmd="tableCellBackgroundColor" tabIndex="-1" role="button" data-param1="REMOVE" title="'.concat(C.language.translate("Clear Formatting"), '">').concat(C.icon.create("tableColorRemove"), '<span class="fr-sr-only">').concat(C.language.translate("Clear Formatting"), "</span></span>");
                return e4 += "</div>";
              }(), custom_color: t3 }, n4 = C.popups.create("table.colors", a4);
              return C.events.$on(C.$wp, "scroll.table-colors", function() {
                C.popups.isVisible("table.colors") && s2();
              }), function i3(g3) {
                C.events.on("popup.tab", function(e4) {
                  var t4 = k(e4.currentTarget);
                  if (!C.popups.isVisible("table.colors") || !t4.is("span")) return true;
                  var a5 = e4.which, n5 = true;
                  if (St.KEYCODE.TAB == a5) {
                    var r4 = g3.find(".fr-buttons");
                    n5 = !C.accessibility.focusToolbar(r4, !!e4.shiftKey);
                  } else if (St.KEYCODE.ARROW_UP == a5 || St.KEYCODE.ARROW_DOWN == a5 || St.KEYCODE.ARROW_LEFT == a5 || St.KEYCODE.ARROW_RIGHT == a5) {
                    var i4 = t4.parent().find("span.fr-command"), o4 = i4.index(t4), s3 = C.opts.colorsStep, l3 = Math.floor(i4.length / s3), c3 = o4 % s3, d3 = Math.floor(o4 / s3), f3 = d3 * s3 + c3, p3 = l3 * s3;
                    St.KEYCODE.ARROW_UP == a5 ? f3 = ((f3 - s3) % p3 + p3) % p3 : St.KEYCODE.ARROW_DOWN == a5 ? f3 = (f3 + s3) % p3 : St.KEYCODE.ARROW_LEFT == a5 ? f3 = ((f3 - 1) % p3 + p3) % p3 : St.KEYCODE.ARROW_RIGHT == a5 && (f3 = (f3 + 1) % p3);
                    var u3 = k(i4.get(f3));
                    C.events.disableBlur(), u3.focus(), n5 = false;
                  } else St.KEYCODE.ENTER == a5 && (C.button.exec(t4), n5 = false);
                  return false === n5 && (e4.preventDefault(), e4.stopPropagation()), n5;
                }, true);
              }(n4), n4;
            }()), C.popups.setContainer("table.colors", C.$sc);
            var a3 = M(e2), n3 = (a3.left + a3.right) / 2, r3 = a3.bottom;
            !function i3() {
              var e3 = C.popups.get("table.colors"), t3 = C.$el.find(".fr-selected-cell").first(), a4 = C.helpers.RGBToHex(t3.css("background-color")), n4 = e3.find(".fr-table-colors-hex-layer input");
              e3.find(".fr-selected-color").removeClass("fr-selected-color fr-active-item"), e3.find('span[data-param1="'.concat(a4, '"]')).addClass("fr-selected-color fr-active-item"), n4.val(a4).trigger("change");
            }(), C.popups.show("table.colors", n3, r3, a3.bottom - a3.top, true);
          }
        }
        function l2() {
          0 === te().length && C.toolbar.enable();
        }
        function d2(e2) {
          if (e2) return C.popups.onHide("table.insert", function() {
            C.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseover");
          }), true;
          var t2 = "";
          0 < C.opts.tableInsertButtons.length && (t2 = '<div class="fr-buttons fr-tabs">'.concat(C.button.buildList(C.opts.tableInsertButtons), "</div>"));
          var a3 = { buttons: t2, rows_columns: function i3() {
            for (var e3 = '<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">', t3 = 1; t3 <= C.opts.tableInsertMaxSize; t3++) {
              for (var a4 = 1; a4 <= C.opts.tableInsertMaxSize; a4++) {
                var n4 = "inline-block";
                2 < t3 && !C.helpers.isMobile() && (n4 = "none");
                var r3 = "fr-table-cell ";
                1 == t3 && 1 == a4 && (r3 += " hover"), e3 += '<span class="fr-command '.concat(r3, '" tabIndex="-1" data-cmd="tableInsert" data-row="').concat(t3, '" data-col="').concat(a4, '" data-param1="').concat(t3, '" data-param2="').concat(a4, '" style="display: ').concat(n4, ';" role="button"><span></span><span class="fr-sr-only">').concat(t3, " &times; ").concat(a4, "&nbsp;&nbsp;&nbsp;</span></span>");
              }
              e3 += '<div class="new-line"></div>';
            }
            return e3 += "</div></div>";
          }() }, n3 = C.popups.create("table.insert", a3);
          return C.events.$on(n3, "mouseover", ".fr-table-size .fr-select-table-size .fr-table-cell", function(e3) {
            f2(k(e3.currentTarget));
          }, true), function r3(e3) {
            C.events.$on(e3, "focus", "[tabIndex]", function(e4) {
              var t3 = k(e4.currentTarget);
              f2(t3);
            }), C.events.on("popup.tab", function(e4) {
              var t3 = k(e4.currentTarget);
              if (!C.popups.isVisible("table.insert") || !t3.is("span, a")) return true;
              var a4, n4 = e4.which;
              if (St.KEYCODE.ARROW_UP == n4 || St.KEYCODE.ARROW_DOWN == n4 || St.KEYCODE.ARROW_LEFT == n4 || St.KEYCODE.ARROW_RIGHT == n4) {
                if (t3.is("span.fr-table-cell")) {
                  var r4 = t3.parent().find("span.fr-table-cell"), i3 = r4.index(t3), o3 = C.opts.tableInsertMaxSize, s3 = i3 % o3, l3 = Math.floor(i3 / o3);
                  St.KEYCODE.ARROW_UP == n4 ? l3 = Math.max(0, l3 - 1) : St.KEYCODE.ARROW_DOWN == n4 ? l3 = Math.min(C.opts.tableInsertMaxSize - 1, l3 + 1) : St.KEYCODE.ARROW_LEFT == n4 ? s3 = Math.max(0, s3 - 1) : St.KEYCODE.ARROW_RIGHT == n4 && (s3 = Math.min(C.opts.tableInsertMaxSize - 1, s3 + 1));
                  var c3 = l3 * o3 + s3, d3 = k(r4.get(c3));
                  f2(d3), C.events.disableBlur(), d3.focus(), a4 = false;
                }
              } else St.KEYCODE.ENTER == n4 && (C.button.exec(t3), a4 = false);
              return false === a4 && (e4.preventDefault(), e4.stopPropagation()), a4;
            }, true);
          }(n3), n3;
        }
        function f2(e2) {
          var t2 = e2.data("row");
          null !== t2 && (t2 = parseInt(t2));
          var a3 = e2.data("col");
          null !== a3 && (a3 = parseInt(a3));
          var n3 = e2.parent();
          n3.siblings(".fr-table-size-info").html("".concat(t2, " &times; ").concat(a3)), n3.find("> span").removeClass("hover fr-active-item");
          for (var r3 = 1; r3 <= C.opts.tableInsertMaxSize; r3++) for (var i3 = 0; i3 <= C.opts.tableInsertMaxSize; i3++) {
            var o3 = n3.find('> span[data-row="'.concat(r3, '"][data-col="').concat(i3, '"]'));
            r3 <= t2 && i3 <= a3 ? o3.addClass("hover") : r3 <= t2 + 1 || r3 <= 2 && !C.helpers.isMobile() ? o3.css("display", "inline-block") : 2 < r3 && !C.helpers.isMobile() && o3.css("display", "none");
          }
          e2.addClass("fr-active-item");
        }
        function p2(e2) {
          if (e2) return C.popups.onHide("table.edit", l2), true;
          if (0 < C.opts.tableEditButtons.length) {
            var t2 = { buttons: '<div class="fr-buttons">'.concat(C.button.buildList(C.opts.tableEditButtons), "</div>") }, a3 = C.popups.create("table.edit", t2);
            return C.events.$on(C.$wp, "scroll.table-edit", function() {
              C.popups.isVisible("table.edit") && h2();
            }), a3;
          }
          return false;
        }
        function m2(e2) {
          var t2 = { startTag: "", closeTag: "" };
          return C.opts.keepTextFormatOnTable && (t2 = u2(function s3(e3) {
            var t3 = /* @__PURE__ */ new Set(), a3 = e3.textContent, n3 = 0, r3 = [e3.firstChild];
            for (; 0 < r3.length; ) {
              var i3 = r3.pop();
              if (i3 && (t3.has(i3) || (0 === n3 && a3 !== i3.textContent && (a3 = i3.textContent, n3++), t3.add(i3)), i3.hasChildNodes())) for (var o3 = 0; o3 < i3.childNodes.length; ) {
                if (3 === i3.childNodes[o3].nodeType) return ye(t3);
                if (i3.childNodes[o3].textContent) {
                  if (0 === n3 && i3.childNodes[o3].textContent !== a3) {
                    a3 = i3.childNodes[o3].textContent, r3.push(i3.childNodes[o3]), n3++;
                    break;
                  }
                  i3.childNodes[o3].textContent === a3 && r3.push(i3.childNodes[o3]);
                }
                o3++;
              }
            }
            return ye(t3);
          }(e2).reverse())), { startTag: t2.startTag, closeTag: t2.closeTag };
        }
        function u2(e2) {
          var t2 = "", a3 = "", n3 = ["br", "#text", "#comment", "font"];
          if (0 < e2.length) for (var r3 = e2.length - 1; 0 <= r3; r3--) {
            var i3 = e2[r3], o3 = C.node.isBlock(i3), s3 = n3.indexOf(i3.nodeName.toLowerCase());
            if (!o3 && s3 < 0) {
              var l3 = i3.style, c3 = "";
              if (l3 && l3.length) {
                for (var d3 = 0; d3 < l3.length; d3++) c3 += l3[d3] + ": " + l3[l3[d3]].replace(/"/gi, "") + "; ";
                c3 = c3.trim();
              }
              t2 += c3 ? "<" + i3.nodeName.toLowerCase() + ' style="' + c3 + '">' : "<" + i3.nodeName.toLowerCase() + ">", a3 = "</" + i3.nodeName.toLowerCase() + ">" + a3;
            }
          }
          return { startTag: t2, closeTag: a3 };
        }
        function g2() {
          if (0 < te().length) {
            var e2 = ae();
            C.selection.setBefore(e2.get(0)) || C.selection.setAfter(e2.get(0)), C.selection.restore(), C.popups.hide("table.edit"), C.opts.trackChangesEnabled ? (C.track_changes.removedTable(e2), I2()) : e2.remove(), C.toolbar.enable();
          }
        }
        function v2(e2) {
          var t2 = ae();
          if (0 < t2.length) {
            if (0 < C.$el.find("thead .fr-selected-cell").length && "above" == e2 || 0 < C.$el.find("tfoot td.fr-selected-cell").length && "below" == e2) return;
            var a3, n3, r3, i3 = S(), o3 = F(i3);
            if (null == o3) return;
            n3 = "above" == e2 ? o3.min_i : o3.max_i;
            var s3 = "<tr>";
            for (a3 = 0; a3 < i3[n3].length; a3++) if ("below" == e2 && n3 < i3.length - 1 && i3[n3][a3] == i3[n3 + 1][a3] || "above" == e2 && 0 < n3 && i3[n3][a3] == i3[n3 - 1][a3]) {
              if (0 === a3 || 0 < a3 && i3[n3][a3] != i3[n3][a3 - 1]) {
                var l3 = k(i3[n3][a3]);
                l3.attr("rowspan", parseInt(l3.attr("rowspan"), 10) + 1);
              }
            } else {
              var c3 = k(i3[n3][a3]);
              if ("TH" == c3.attr("tagName").toUpperCase()) s3 += '<th style="' + c3.attr("style") + '" ><br></th>';
              else {
                var d3 = m2(i3[n3][a3]);
                s3 += '<td style="' + c3.attr("style") + '" >' + d3.startTag + "<br>" + d3.closeTag + "</td>";
              }
            }
            s3 += "</tr>", r3 = 0 < C.$el.find("thead .fr-selected-cell").length && "below" == e2 || 0 < C.$el.find("tfoot td.fr-selected-cell").length && "above" == e2 ? k(t2.find("tbody").not(t2.find("> table tbody"))) : k(t2.find("tr").not(t2.find("> table tr")).get(n3)), "below" == e2 ? "TBODY" == r3.attr("tagName") ? r3.prepend(s3) : r3[0].parentNode && r3[0].insertAdjacentHTML("afterend", s3) : "above" == e2 && ("TBODY" == r3.attr("tagName") ? r3.append(s3) : r3.before(s3), C.popups.isVisible("table.edit") && h2());
          }
        }
        function b2(e2, t2, a3) {
          var n3, r3, i3, o3, s3, l3 = 0, c3 = S(a3);
          if (e2 < (t2 = Math.min(t2, c3[0].length - 1))) {
            for (r3 = e2; r3 <= t2; r3++) if (!(e2 < r3 && c3[0][r3] == c3[0][r3 - 1]) && 1 < (o3 = Math.min(parseInt(c3[0][r3].getAttribute("colspan"), 10) || 1, t2 - e2 + 1)) && c3[0][r3] == c3[0][r3 + 1]) {
              for (l3 = o3 - 1, n3 = 1; n3 < c3.length; n3++) if (c3[n3][r3] != c3[n3 - 1][r3]) {
                for (i3 = r3; i3 < r3 + o3; i3++) if (c3[n3][i3] !== void 0) {
                  if (1 < (s3 = parseInt(c3[n3][i3].getAttribute("colspan"), 10) || 1) && c3[n3][i3] == c3[n3][i3 + 1]) i3 += l3 = Math.min(l3, s3 - 1);
                  else if (!(l3 = Math.max(0, l3 - 1))) break;
                }
                if (!l3) break;
              }
            }
          }
          l3 && _(c3, l3, "colspan", 0, c3.length - 1, e2, t2);
        }
        function E2(e2, t2, a3) {
          var n3, r3, i3, o3, s3, l3 = 0, c3 = S(a3);
          if (e2 < (t2 = Math.min(t2, c3.length - 1))) {
            for (n3 = e2; n3 <= t2; n3++) if (!(e2 < n3 && c3[n3][0] == c3[n3 - 1][0]) && c3[n3][0] !== void 0 && 1 < (o3 = Math.min(parseInt(c3[n3][0].getAttribute("rowspan"), 10) || 1, t2 - e2 + 1)) && c3[n3][0] == c3[n3 + 1][0]) {
              for (l3 = o3 - 1, r3 = 1; r3 < c3[0].length; r3++) if (c3[n3][r3] != c3[n3][r3 - 1]) {
                for (i3 = n3; i3 < n3 + o3; i3++) if (c3[i3][r3] !== void 0) {
                  if (1 < (s3 = parseInt(c3[i3][r3].getAttribute("rowspan"), 10) || 1) && c3[i3][r3] == c3[i3 + 1][r3]) i3 += l3 = Math.min(l3, s3 - 1);
                  else if (!(l3 = Math.max(0, l3 - 1))) break;
                }
                if (!l3) break;
              }
            }
          }
          l3 && _(c3, l3, "rowspan", e2, t2, 0, c3[0].length - 1);
        }
        function _(e2, t2, a3, n3, r3, i3, o3) {
          var s3, l3, c3;
          for (s3 = n3; s3 <= r3; s3++) for (l3 = i3; l3 <= o3; l3++) n3 < s3 && e2[s3][l3] == e2[s3 - 1][l3] || i3 < l3 && e2[s3][l3] == e2[s3][l3 - 1] || e2[s3][l3] !== void 0 && 1 < (c3 = parseInt(e2[s3][l3].getAttribute(a3), 10) || 1) && (1 < c3 - t2 ? e2[s3][l3].setAttribute(a3, c3 - t2) : e2[s3][l3].removeAttribute(a3));
        }
        function w(e2, t2, a3, n3, r3) {
          E2(e2, t2, r3), b2(a3, n3, r3);
        }
        function t(e2) {
          var t2 = C.$el.find(".fr-selected-cell");
          "REMOVE" != e2 ? t2.css("background-color", C.helpers.HEXtoRGB(e2)) : t2.css("background-color", ""), h2();
        }
        function A(e2) {
          e2.style.removeProperty("border"), e2.style.removeProperty("border-top"), e2.style.removeProperty("border-bottom"), e2.style.removeProperty("border-left"), e2.style.removeProperty("border-right");
        }
        function S(e2) {
          var c3 = [];
          if (null == (e2 = e2 || null) && 0 < te().length && (e2 = ae()), e2) {
            if (!e2.find("tr").html().match(/xl[0-9]+/gi)) for (var t2 = e2.find("tr:empty"), a3 = t2.length - 1; 0 <= a3; a3--) k(t2[a3]).remove();
            e2.find("tr").not(e2.find("> table tr")).each(function(s3, e3) {
              var t3 = k(e3), l3 = 0;
              t3.find("> th, > td").each(function(e4, t4) {
                for (var a4 = k(t4), n3 = parseInt(a4.attr("colspan"), 10) || 1, r3 = parseInt(a4.attr("rowspan"), 10) || 1, i3 = s3; i3 < s3 + r3; i3++) for (var o3 = l3; o3 < l3 + n3; o3++) c3[i3] || (c3[i3] = []), c3[i3][o3] ? l3++ : c3[i3][o3] = t4;
                l3 += n3;
              });
            });
          }
          return c3;
        }
        function R(e2, t2) {
          for (var a3 = 0; a3 < t2.length; a3++) for (var n3 = 0; n3 < t2[a3].length; n3++) if (t2[a3][n3] == e2) return { row: a3, col: n3 };
        }
        function L(e2, t2, a3) {
          for (var n3 = e2 + 1, r3 = t2 + 1; n3 < a3.length; ) {
            if (a3[n3][t2] != a3[e2][t2]) {
              n3--;
              break;
            }
            n3++;
          }
          for (n3 == a3.length && n3--; r3 < a3[e2].length; ) {
            if (a3[e2][r3] != a3[e2][t2]) {
              r3--;
              break;
            }
            r3++;
          }
          return r3 == a3[e2].length && r3--, { row: n3, col: r3 };
        }
        function x() {
          C.el.querySelector(".fr-cell-fixed") && C.el.querySelector(".fr-cell-fixed").classList.remove("fr-cell-fixed"), C.el.querySelector(".fr-cell-handler") && C.el.querySelector(".fr-cell-handler").classList.remove("fr-cell-handler");
        }
        function I2() {
          var e2 = C.$el.find(".fr-selected-cell");
          0 < e2.length && e2.each(function() {
            var e3 = k(this);
            e3.removeClass("fr-selected-cell"), "" === e3.attr("class") && e3.removeAttr("class");
          }), x();
        }
        function O2() {
          C.events.disableBlur(), C.selection.clear(), C.$el.addClass("fr-no-selection"), C.$el.blur(), C.events.enableBlur();
        }
        function F(e2) {
          var t2 = C.$el.find(".fr-selected-cell");
          if (0 < t2.length) {
            var a3, n3 = e2.length, r3 = 0, i3 = e2[0].length, o3 = 0;
            for (a3 = 0; a3 < t2.length; a3++) {
              var s3 = R(t2[a3], e2), l3 = L(s3.row, s3.col, e2);
              n3 = Math.min(s3.row, n3), r3 = Math.max(l3.row, r3), i3 = Math.min(s3.col, i3), o3 = Math.max(l3.col, o3);
            }
            return { min_i: n3, max_i: r3, min_j: i3, max_j: o3 };
          }
          return null;
        }
        function M(e2) {
          var t2 = F(e2);
          if (null != t2) {
            var a3 = k(e2[t2.min_i][t2.min_j]), n3 = k(e2[t2.min_i][t2.max_j]), r3 = k(e2[t2.max_i][t2.min_j]);
            return { left: a3.length && a3.offset().left, right: n3.length && n3.offset().left + n3.outerWidth(), top: a3.length && a3.offset().top, bottom: r3.length && r3.offset().top + r3.outerHeight() };
          }
        }
        function N(e2, t2) {
          if (k(e2).is(t2)) I2(), k(e2).addClass("fr-selected-cell");
          else {
            O2(), C.edit.off();
            var a3 = S(), n3 = R(e2, a3), r3 = R(t2, a3);
            if (!n3 || !r3) return;
            var i3 = function u3(e3, t3, a4, n4, r4) {
              var i4, o4, s4, l3, c3 = e3, d3 = t3, f3 = a4, p3 = n4;
              for (i4 = c3; i4 <= d3; i4++) (1 < (parseInt(k(r4[i4][f3]).attr("rowspan"), 10) || 1) || 1 < (parseInt(k(r4[i4][f3]).attr("colspan"), 10) || 1)) && (l3 = L((s4 = R(r4[i4][f3], r4)).row, s4.col, r4), c3 = Math.min(s4.row, c3), d3 = Math.max(l3.row, d3), f3 = Math.min(s4.col, f3), p3 = Math.max(l3.col, p3)), (1 < (parseInt(k(r4[i4][p3]).attr("rowspan"), 10) || 1) || 1 < (parseInt(k(r4[i4][p3]).attr("colspan"), 10) || 1)) && (l3 = L((s4 = R(r4[i4][p3], r4)).row, s4.col, r4), c3 = Math.min(s4.row, c3), d3 = Math.max(l3.row, d3), f3 = Math.min(s4.col, f3), p3 = Math.max(l3.col, p3));
              for (o4 = f3; o4 <= p3; o4++) (1 < (parseInt(k(r4[c3][o4]).attr("rowspan"), 10) || 1) || 1 < (parseInt(k(r4[c3][o4]).attr("colspan"), 10) || 1)) && (l3 = L((s4 = R(r4[c3][o4], r4)).row, s4.col, r4), c3 = Math.min(s4.row, c3), d3 = Math.max(l3.row, d3), f3 = Math.min(s4.col, f3), p3 = Math.max(l3.col, p3)), (1 < (parseInt(k(r4[d3][o4]).attr("rowspan"), 10) || 1) || 1 < (parseInt(k(r4[d3][o4]).attr("colspan"), 10) || 1)) && (l3 = L((s4 = R(r4[d3][o4], r4)).row, s4.col, r4), c3 = Math.min(s4.row, c3), d3 = Math.max(l3.row, d3), f3 = Math.min(s4.col, f3), p3 = Math.max(l3.col, p3));
              return c3 == e3 && d3 == t3 && f3 == a4 && p3 == n4 ? { min_i: e3, max_i: t3, min_j: a4, max_j: n4 } : u3(c3, d3, f3, p3, r4);
            }(Math.min(n3.row, r3.row), Math.max(n3.row, r3.row), Math.min(n3.col, r3.col), Math.max(n3.col, r3.col), a3);
            I2(), e2.classList.add("fr-cell-fixed"), t2.classList.add("fr-cell-handler");
            for (var o3 = i3.min_i; o3 <= i3.max_i; o3++) for (var s3 = i3.min_j; s3 <= i3.max_j; s3++) k(e2).closest("table").is(k(a3[o3][s3]).closest("table")) && k(a3[o3][s3]).addClass("fr-selected-cell");
          }
        }
        function D(e2) {
          var t2 = null, a3 = k(e2.target);
          return "TD" == e2.target.tagName || "TH" == e2.target.tagName ? t2 = e2.target : 0 < a3.closest("th", a3.closest("thead")[0]).length ? t2 = a3.closest("th", a3.closest("thead")[0]).get(0) : 0 < a3.closest("td", a3.closest("tr")[0]).length && (t2 = a3.closest("td", a3.closest("tr")[0]).get(0)), -1 === C.$el.html.toString().search(t2) ? null : t2;
        }
        function P() {
          I2(), C.popups.hide("table.edit");
        }
        function e(e2) {
          var t2 = D(e2);
          if ("false" == k(t2).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")) return true;
          if (0 < te().length && !t2 && P(), !C.edit.isDisabled() || C.popups.isVisible("table.edit")) {
            if (1 != e2.which || 1 == e2.which && C.helpers.isMac() && e2.ctrlKey) (3 == e2.which || 1 == e2.which && C.helpers.isMac() && e2.ctrlKey) && t2 && P();
            else if (i2 = true, t2) {
              0 < te().length && !e2.shiftKey && P(), e2.stopPropagation(), C.events.trigger("image.hideResizer"), C.events.trigger("video.hideResizer"), r2 = true;
              var a3 = t2.tagName.toLowerCase();
              e2.shiftKey && 0 < C.$el.find("".concat(a3, ".fr-selected-cell")).length ? k(C.$el.find("".concat(a3, ".fr-selected-cell")).closest("table")).is(k(t2).closest("table")) ? N(n2, t2) : O2() : ((C.keys.ctrlKey(e2) || e2.shiftKey) && "TD" === e2.currentTarget.tagName && (1 < te().length || 0 === k(t2).find(C.selection.element()).length && !k(t2).is(C.selection.element())) && O2(), n2 = t2, 0 < C.opts.tableEditButtons.length && N(n2, n2));
            }
          }
        }
        function a2(e2) {
          if (!C.edit.isDisabled() && C.popups.areVisible()) return true;
          var t2 = D(e2);
          if (1 === te().length && null === t2 && (C.toolbar.enable(), I2()), (1 === te().length && t2 && "TD" !== t2.tagName && "TH" !== t2.tagName || !r2 && !C.$tb.is(e2.target) && !C.$tb.is(k(e2.target).closest(".fr-toolbar"))) && (C.toolbar.enable(), I2()), ("BODY" === e2.target.tagName || "HTML" === e2.target.tagName) && !t2 && 0 < te().length && C.toolbar.enable(), !(1 != e2.which || 1 == e2.which && C.helpers.isMac() && e2.ctrlKey)) {
            if (i2 = false, r2) r2 = false, D(e2) || 1 != te().length ? 0 < te().length ? C.selection.isCollapsed() ? (h2(), C.toolbar.enable()) : (I2(), C.edit.on()) : te().length || (C.$el.removeClass("fr-no-selection"), C.edit.on()) : I2();
            if (y2) {
              y2 = false, T.removeClass("fr-moving"), C.$el.removeClass("fr-no-selection"), C.edit.on();
              var a3 = parseFloat(T.css("left")) + C.opts.tableResizerOffset + C.$wp.offset().left;
              C.opts.iframe && (a3 -= C.$iframe.offset().left), T.data("release-position", a3), T.removeData("max-left"), T.removeData("max-right"), function A2() {
                var e3 = T.data("origin"), t3 = T.data("release-position");
                if (e3 !== t3) {
                  var a4 = T.data("first"), n3 = T.data("second"), r3 = T.data("table"), i3 = r3.outerWidth();
                  if (C.undo.canDo() || C.undo.saveStep(), null != a4 && null != n3) {
                    var o3, s3, l3, c3 = S(r3), d3 = [], f3 = [], p3 = [], u3 = [];
                    for (o3 = 0; o3 < c3.length; o3++) s3 = k(c3[o3][a4]), l3 = k(c3[o3][n3]), d3[o3] = s3.outerWidth(), p3[o3] = l3.outerWidth(), f3[o3] = d3[o3] / i3 * 100, u3[o3] = p3[o3] / i3 * 100;
                    for (o3 = 0; o3 < c3.length; o3++) if (s3 = k(c3[o3][a4]), l3 = k(c3[o3][n3]), c3[o3][a4] != c3[o3][n3]) {
                      var g3 = (f3[o3] * (d3[o3] + t3 - e3) / d3[o3]).toFixed(4);
                      s3.css("width", g3 + "%"), l3.css("width", (f3[o3] + u3[o3] - g3).toFixed(4) + "%");
                    }
                  } else {
                    var h3, m3 = r3.parent(), v3 = parseFloat(m3.css("padding-left")), b3 = parseFloat(m3.css("padding-right")), E3 = v3 + b3, _2 = i3 / (m3.width() - E3) * 100, w2 = (parseInt(r3.css("margin-left"), 10) || 0) / m3.width() * 100, y3 = (parseInt(r3.css("margin-right"), 10) || 0) / m3.width() * 100;
                    "rtl" == C.opts.direction && 0 === n3 || "rtl" != C.opts.direction && 0 !== n3 ? (h3 = (i3 + t3 - e3) / i3 * _2, r3.css("margin-right", "calc(100% - ".concat(Math.round(h3).toFixed(4), "% - ").concat(Math.round(w2).toFixed(4), "%)"))) : ("rtl" == C.opts.direction && 0 !== n3 || "rtl" != C.opts.direction && 0 === n3) && (h3 = (i3 - t3 + e3) / i3 * _2, r3.css("margin-left", "calc(100% - ".concat(Math.round(h3).toFixed(4), "% - ").concat(Math.round(y3).toFixed(4), "%)"))), r3.css("width", "".concat(Math.round(h3).toFixed(4), "%"));
                  }
                  C.selection.restore(), C.undo.saveStep(), C.events.trigger("table.resized", [r3.get(0)]);
                }
                T.removeData("origin"), T.removeData("release-position"), T.removeData("first"), T.removeData("second"), T.removeData("table");
              }(), z();
            }
          }
        }
        function B(e2) {
          if ((!(k(e2.currentTarget).is(k(e2.originalEvent.relatedTarget)) || e2.currentTarget.contains(e2.originalEvent.relatedTarget) || e2.originalEvent.relatedTarget && e2.originalEvent.relatedTarget.contains(e2.currentTarget)) || e2.currentTarget.querySelector("input, textarea")) && (C.events.$on(k("input, textarea"), "click", ne), true === r2 && 0 < C.opts.tableEditButtons.length)) {
            if (k(e2.currentTarget).closest("table").is(ae())) {
              if ("TBODY" === e2.currentTarget.parentElement.parentElement.tagName && "TD" == e2.currentTarget.tagName && 0 === C.$el.find("th.fr-selected-cell").length && 0 === C.$el.find("tfoot td.fr-selected-cell").length) return void N(n2, e2.currentTarget);
              if ("TFOOT" === e2.currentTarget.parentElement.parentElement.tagName && "TD" == e2.currentTarget.tagName && 0 === C.$el.find("tbody td.fr-selected-cell").length) return void N(n2, e2.currentTarget);
              if ("TH" == e2.currentTarget.tagName && 0 === C.$el.find("td.fr-selected-cell").length) return void N(n2, e2.currentTarget);
            }
            "TD" !== e2.currentTarget.tagName && "TH" !== e2.currentTarget.tagName && O2();
          }
        }
        function U(e2, t2, a3, n3) {
          for (var r3, i3 = t2; i3 != C.el && "TD" != i3.tagName && "TH" != i3.tagName && ("up" == n3 ? r3 = i3.previousElementSibling : "down" == n3 && (r3 = i3.nextElementSibling), !r3); ) i3 = i3.parentNode;
          "TD" == i3.tagName || "TH" == i3.tagName ? function o3(e3, t3) {
            for (var a4 = e3; a4 && "TABLE" != a4.tagName && a4.parentNode != C.el; ) a4 = a4.parentNode;
            if (a4 && "TABLE" == a4.tagName) {
              var n4 = S(k(a4));
              "up" == t3 ? H(R(e3, n4), a4, n4) : "down" == t3 && $(R(e3, n4), a4, n4);
            }
          }(i3, n3) : r3 && ("up" == n3 && C.selection.setAtEnd(r3), "down" == n3 && C.selection.setAtStart(r3));
        }
        function H(e2, t2, a3) {
          0 < k(".tribute-container").length && "none" != k(".tribute-container").css("display") || (0 < e2.row ? C.selection.setAtEnd(a3[e2.row - 1][e2.col]) : U(0, t2, 0, "up"));
        }
        function $(e2, t2, a3) {
          if (!(0 < k(".tribute-container").length && "none" != k(".tribute-container").css("display"))) {
            var n3 = parseInt(a3[e2.row][e2.col].getAttribute("rowspan"), 10) || 1;
            e2.row < a3.length - n3 ? C.selection.setAtStart(a3[e2.row + n3][e2.col]) : U(0, t2, 0, "down");
          }
        }
        function z() {
          T && (T.find("div").css("opacity", 0), T.css("top", 0), T.css("left", 0), T.css("height", 0), T.find("div").css("height", 0), T.hide());
        }
        function W() {
          c2 && c2.removeClass("fr-visible").css("left", "-9999px");
        }
        function K(e2, t2) {
          var a3, n3 = k(t2);
          n3 && (a3 = n3.closest("table"));
          var r3 = a3.parent();
          if (t2 && "TD" != t2.tagName && "TH" != t2.tagName && (0 < n3.closest("td").length ? t2 = n3.closest("td") : 0 < n3.closest("th").length && (t2 = n3.closest("th"))), !t2 || "TD" != t2.tagName && "TH" != t2.tagName) T && n3.get(0) != T.get(0) && n3.parent().get(0) != T.get(0) && C.core.sameInstance(T) && z();
          else {
            if (n3 = k(t2), 0 === C.$el.find(n3).length) return false;
            var i3 = n3.offset().left - 1, o3 = i3 + n3.outerWidth();
            if (Math.abs(e2.pageX - i3) <= C.opts.tableResizerOffset || Math.abs(o3 - e2.pageX) <= C.opts.tableResizerOffset) {
              var s3, l3, c3, d3, f3, p3 = S(a3), u3 = R(t2, p3), g3 = L(u3.row, u3.col, p3), h3 = a3.offset().top, m3 = a3.outerHeight() - 1;
              "rtl" != C.opts.direction ? e2.pageX - i3 <= C.opts.tableResizerOffset ? (c3 = i3, 0 < u3.col ? (d3 = i3 - q(u3.col - 1, p3) + C.opts.tableResizingLimit, f3 = i3 + q(u3.col, p3) - C.opts.tableResizingLimit, s3 = u3.col - 1, l3 = u3.col) : (s3 = null, l3 = 0, d3 = a3.offset().left - 1 - parseInt(a3.css("margin-left"), 10), f3 = a3.offset().left - 1 + a3.width() - p3[0].length * C.opts.tableResizingLimit)) : o3 - e2.pageX <= C.opts.tableResizerOffset && (c3 = o3, g3.col < p3[g3.row].length && p3[g3.row][g3.col + 1] ? (d3 = o3 - q(g3.col, p3) + C.opts.tableResizingLimit, f3 = o3 + q(g3.col + 1, p3) - C.opts.tableResizingLimit, s3 = g3.col, l3 = g3.col + 1) : (s3 = g3.col, l3 = null, d3 = a3.offset().left - 1 + p3[0].length * C.opts.tableResizingLimit, f3 = r3.offset().left - 1 + r3.width() + parseFloat(r3.css("padding-left")))) : o3 - e2.pageX <= C.opts.tableResizerOffset ? (c3 = o3, 0 < u3.col ? (d3 = o3 - q(u3.col, p3) + C.opts.tableResizingLimit, f3 = o3 + q(u3.col - 1, p3) - C.opts.tableResizingLimit, s3 = u3.col, l3 = u3.col - 1) : (s3 = null, l3 = 0, d3 = a3.offset().left + p3[0].length * C.opts.tableResizingLimit, f3 = r3.offset().left - 1 + r3.width() + parseFloat(r3.css("padding-left")))) : e2.pageX - i3 <= C.opts.tableResizerOffset && (c3 = i3, g3.col < p3[g3.row].length && p3[g3.row][g3.col + 1] ? (d3 = i3 - q(g3.col + 1, p3) + C.opts.tableResizingLimit, f3 = i3 + q(g3.col, p3) - C.opts.tableResizingLimit, s3 = g3.col + 1, l3 = g3.col) : (s3 = g3.col, l3 = null, d3 = r3.offset().left + parseFloat(r3.css("padding-left")), f3 = a3.offset().left - 1 + a3.width() - p3[0].length * C.opts.tableResizingLimit)), T || function w2() {
                C.shared.$table_resizer || (C.shared.$table_resizer = k(document.createElement("div")).attr("class", "fr-table-resizer").html("<div></div>")), T = C.shared.$table_resizer, C.events.$on(T, "mousedown", function(e3) {
                  return !C.core.sameInstance(T) || (0 < te().length && P(), 1 == e3.which ? (C.selection.save(), y2 = true, T.addClass("fr-moving"), O2(), C.edit.off(), T.find("div").css("opacity", 1), false) : void 0);
                }), C.events.$on(T, "mousemove", function(e3) {
                  if (!C.core.sameInstance(T)) return true;
                  y2 && (C.opts.iframe && (e3.pageX -= C.$iframe.offset().left), Z(e3));
                }), C.events.on("shared.destroy", function() {
                  T.html("").removeData().remove(), T = null;
                }, true), C.events.on("destroy", function() {
                  C.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"), k("body").first().append(T.hide());
                }, true);
              }(), T.data("table", a3), T.data("first", s3), T.data("second", l3), T.data("instance", C), C.$wp.append(T);
              var v3 = c3 - C.win.pageXOffset - C.opts.tableResizerOffset - C.$wp.offset().left, b3 = h3 - C.$wp.offset().top + C.$wp.scrollTop();
              if (C.opts.iframe) {
                var E3 = C.helpers.getPX(C.$wp.find(".fr-iframe").css("padding-top")), _2 = C.helpers.getPX(C.$wp.find(".fr-iframe").css("padding-left"));
                v3 += C.$iframe.offset().left + _2, b3 += C.$iframe.offset().top + E3, d3 += C.$iframe.offset().left, f3 += C.$iframe.offset().left;
              }
              T.data("max-left", d3), T.data("max-right", f3), T.data("origin", c3 - C.win.pageXOffset), T.css("top", b3), T.css("left", v3), T.css("height", m3), T.find("div").css("height", m3), T.css("padding-left", C.opts.tableResizerOffset), T.css("padding-right", C.opts.tableResizerOffset), T.show();
            } else C.core.sameInstance(T) && z();
          }
        }
        function G(e2, t2) {
          if (C.$box.find(".fr-line-breaker").isVisible()) return false;
          c2 || J(), C.$box.append(c2), c2.data("instance", C);
          var a3, n3 = k(t2).find("tr").first(), r3 = e2.pageX, i3 = 0, o3 = 0;
          if (C.opts.iframe) {
            var s3 = C.helpers.getPX(C.$wp.find(".fr-iframe").css("padding-top")), l3 = C.helpers.getPX(C.$wp.find(".fr-iframe").css("padding-left"));
            i3 += C.$iframe.offset().left - C.helpers.scrollLeft() + l3, o3 += C.$iframe.offset().top - C.helpers.scrollTop() + s3;
          }
          n3.find("th, td").each(function() {
            var e3 = k(this);
            return e3.offset().left <= r3 && r3 < e3.offset().left + e3.outerWidth() / 2 ? (a3 = parseInt(c2.find("a").css("width"), 10), c2.css("top", o3 + e3.offset().top - C.$box.offset().top - a3 - 5), c2.css("left", i3 + e3.offset().left - C.$box.offset().left - a3 / 2), c2.data("selected-cell", e3), c2.data("position", "before"), c2.addClass("fr-visible"), false) : e3.offset().left + e3.outerWidth() / 2 <= r3 && r3 < e3.offset().left + e3.outerWidth() ? (a3 = parseInt(c2.find("a").css("width"), 10), c2.css("top", o3 + e3.offset().top - C.$box.offset().top - a3 - 5), c2.css("left", i3 + e3.offset().left - C.$box.offset().left + e3.outerWidth() - a3 / 2), c2.data("selected-cell", e3), c2.data("position", "after"), c2.addClass("fr-visible"), false) : void 0;
          });
        }
        function V(e2, t2) {
          if (C.$box.find(".fr-line-breaker").isVisible()) return false;
          c2 || J(), C.$box.append(c2), c2.data("instance", C);
          var a3, n3 = k(t2), r3 = e2.pageY, i3 = 0, o3 = 0;
          if (C.opts.iframe) {
            var s3 = C.helpers.getPX(C.$wp.find(".fr-iframe").css("padding-top")), l3 = C.helpers.getPX(C.$wp.find(".fr-iframe").css("padding-left"));
            i3 += C.$iframe.offset().left - C.helpers.scrollLeft() + l3, o3 += C.$iframe.offset().top - C.helpers.scrollTop() + s3;
          }
          n3.find("tr").each(function() {
            var e3 = k(this);
            a3 = parseInt(c2.find("a").css("width"), 10);
            var t3 = i3 + e3.offset().left - C.$box.offset().left;
            return t3 = 0 !== C.$box.offset().left ? t3 - a3 - 5 : t3 + a3 - 5, e3.offset().top <= r3 && r3 < e3.offset().top + e3.outerHeight() / 2 ? (c2.css("top", o3 + e3.offset().top - C.$box.offset().top - a3 / 2), c2.css("left", t3), c2.data("selected-cell", e3.find("td").first()), c2.data("position", "above"), c2.addClass("fr-visible"), false) : e3.offset().top + e3.outerHeight() / 2 <= r3 && r3 < e3.offset().top + e3.outerHeight() ? (c2.css("top", o3 + e3.offset().top - C.$box.offset().top + e3.outerHeight() - a3 / 2), c2.css("left", t3), c2.data("selected-cell", e3.find("td").first()), c2.data("position", "below"), c2.addClass("fr-visible"), false) : void 0;
          });
        }
        function Y(e2) {
          o2 = null;
          var t2 = C.doc.elementFromPoint(e2.pageX - C.win.pageXOffset, e2.pageY - C.win.pageYOffset);
          C.opts.tableResizer && (!C.popups.areVisible() || C.popups.areVisible() && C.popups.isVisible("table.edit")) && K(e2, t2), !C.opts.tableInsertHelper || C.popups.areVisible() || C.$tb.hasClass("fr-inline") && C.$tb.isVisible() || function i3(e3, t3) {
            if (0 === te().length) {
              var a3, n3, r3;
              if (t3 && ("HTML" == t3.tagName || "BODY" == t3.tagName || C.node.isElement(t3))) for (a3 = 1; a3 <= C.opts.tableInsertHelperOffset; a3++) {
                if (n3 = C.doc.elementFromPoint(e3.pageX - C.win.pageXOffset, e3.pageY - C.win.pageYOffset + a3), k(n3).hasClass("fr-tooltip")) return true;
                if (n3 && ("TH" == n3.tagName || "TD" == n3.tagName || "TABLE" == n3.tagName) && (k(n3).parents(".fr-wrapper").length || C.opts.iframe) && "false" != k(n3).closest("table").attr("contenteditable")) return G(e3, k(n3).closest("table")), true;
                if (r3 = C.doc.elementFromPoint(e3.pageX - C.win.pageXOffset + a3, e3.pageY - C.win.pageYOffset), k(r3).hasClass("fr-tooltip")) return true;
                if (r3 && ("TH" == r3.tagName || "TD" == r3.tagName || "TABLE" == r3.tagName) && (k(r3).parents(".fr-wrapper").length || C.opts.iframe) && "false" != k(r3).closest("table").attr("contenteditable")) return V(e3, k(r3).closest("table")), true;
              }
              C.core.sameInstance(c2) && W();
            }
          }(e2, t2);
        }
        function j() {
          if (y2) {
            var e2 = T.data("table").offset().top - C.win.pageYOffset;
            if (C.opts.iframe) {
              var t2 = C.helpers.getPX(C.$wp.find(".fr-iframe").css("padding-top"));
              e2 += C.$iframe.offset().top - C.helpers.scrollTop() + t2;
            }
            T.css("top", e2);
          }
        }
        function q(e2, t2) {
          var a3, n3 = k(t2[0][e2]).outerWidth();
          for (a3 = 1; a3 < t2.length; a3++) n3 = Math.min(n3, k(t2[a3][e2]).outerWidth());
          return n3;
        }
        function X(e2, t2, a3) {
          var n3, r3 = 0;
          for (n3 = e2; n3 <= t2; n3++) r3 += q(n3, a3);
          return r3;
        }
        function Z(e2) {
          if (1 < te().length && i2 && O2(), false === i2 && false === r2 && false === y2) o2 && clearTimeout(o2), C.edit.isDisabled() && !C.popups.isVisible("table.edit") || (o2 = setTimeout(Y, 30, e2));
          else if (y2) {
            var t2 = e2.pageX - C.win.pageXOffset;
            C.opts.iframe && (t2 += C.$iframe.offset().left);
            var a3 = T.data("max-left"), n3 = T.data("max-right");
            a3 <= t2 && t2 <= n3 ? T.css("left", t2 - C.opts.tableResizerOffset - C.$wp.offset().left) : t2 < a3 && parseFloat(T.css("left"), 10) > a3 - C.opts.tableResizerOffset ? T.css("left", a3 - C.opts.tableResizerOffset - C.$wp.offset().left) : n3 < t2 && parseFloat(T.css("left"), 10) < n3 - C.opts.tableResizerOffset && T.css("left", n3 - C.opts.tableResizerOffset - C.$wp.offset().left);
          } else i2 && W();
        }
        function Q(e2) {
          C.node.isEmpty(e2.get(0)) ? C.opts.keepTextFormatOnTable && C.browser.mozilla ? e2.append(St.MARKERS) : e2.prepend(St.MARKERS) : e2.prepend(St.START_MARKER).append(St.END_MARKER);
        }
        function J() {
          C.shared.$ti_helper || (C.shared.$ti_helper = k(document.createElement("div")).attr("class", "fr-insert-helper").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(C.language.translate("Insert"), '"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a>')), C.events.bindClick(C.shared.$ti_helper, "a", function() {
            var e2 = c2.data("selected-cell"), t2 = c2.data("position"), a3 = c2.data("instance") || C;
            "before" == t2 ? (C.undo.saveStep(), e2.addClass("fr-selected-cell"), a3.table.insertColumn(t2), e2.removeClass("fr-selected-cell"), C.undo.saveStep()) : "after" == t2 ? (C.undo.saveStep(), e2.addClass("fr-selected-cell"), a3.table.insertColumn(t2), e2.removeClass("fr-selected-cell"), C.undo.saveStep()) : "above" == t2 ? (C.undo.saveStep(), e2.addClass("fr-selected-cell"), a3.table.insertRow(t2), e2.removeClass("fr-selected-cell"), C.undo.saveStep()) : "below" == t2 && (C.undo.saveStep(), e2.addClass("fr-selected-cell"), a3.table.insertRow(t2), e2.removeClass("fr-selected-cell"), C.undo.saveStep()), W();
          }), C.events.on("shared.destroy", function() {
            C.shared.$ti_helper.html("").removeData().remove(), C.shared.$ti_helper = null;
          }, true), C.events.$on(C.shared.$ti_helper, "mousemove", function(e2) {
            e2.stopPropagation();
          }, true), C.events.$on(k(C.o_win), "scroll", function() {
            W();
          }, true), C.events.$on(C.$wp, "scroll", function() {
            W();
          }, true)), c2 = C.shared.$ti_helper, C.events.on("destroy", function() {
            c2 = null;
          }), C.tooltip.bind(C.$box, ".fr-insert-helper > a.fr-floating-btn");
        }
        function ee() {
          n2 = null, clearTimeout(o2);
        }
        function te() {
          return C.el.querySelectorAll(".fr-selected-cell");
        }
        function ae() {
          var e2 = te();
          if (e2.length) {
            for (var t2 = e2[0]; t2 && "TABLE" != t2.tagName && t2.parentNode != C.el; ) t2 = t2.parentNode;
            return t2 && "TABLE" == t2.tagName ? k(t2) : k([]);
          }
          return k([]);
        }
        function ne() {
          r2 = false;
        }
        return { _init: function re() {
          if (!C.$wp) return false;
          if (C.helpers.isMobile() && (C.events.$on(C.$el, "mousedown", e), C.events.$on(C.$win, "mouseup", a2)), !C.helpers.isMobile()) {
            y2 = r2 = i2 = false, C.events.$on(C.$el, "mousedown", e), C.popups.onShow("image.edit", function() {
              I2(), r2 = i2 = false;
            }), C.popups.onShow("link.edit", function() {
              I2(), r2 = i2 = false;
            }), C.events.on("commands.mousedown", function(e2) {
              0 < e2.parents(".fr-toolbar").length && I2();
            }), C.events.$on(C.$el, "mouseover", "th, td", B), C.events.$on(C.$win, "mouseup", a2), C.opts.iframe && C.events.$on(k(C.o_win), "mouseup", a2), C.events.$on(C.$win, "mousemove", Z), C.events.$on(k(C.o_win), "scroll", j), C.events.on("contentChanged", function() {
              0 < te().length && (h2(), C.$el.find("img").on("load.selected-cells", function() {
                k(this).off("load.selected-cells"), 0 < te().length && h2();
              }));
            }), C.events.$on(k(C.o_win), "resize", function() {
              I2();
            }), C.events.on("toolbar.esc", function() {
              if (0 < te().length) return C.events.disableBlur(), C.events.focus(), false;
            }, true), C.events.$on(k(C.o_win), "keydown", function() {
              i2 && r2 && (r2 = i2 = false, C.$el.removeClass("fr-no-selection"), C.edit.on(), C.selection.setAtEnd(C.$el.find(".fr-selected-cell").last().get(0)), C.selection.restore(), I2());
            }), C.events.$on(C.$el, "keydown", function(e2) {
              e2.shiftKey ? false === function o3(e3) {
                var t3 = te();
                if (null != t3 && 0 < t3.length) {
                  var a3, n3 = S(), r3 = e3.which, i3 = R(1 == t3.length ? a3 = t3[0] : (a3 = C.el.querySelector(".fr-cell-fixed"), C.el.querySelector(".fr-cell-handler")), n3);
                  if (St.KEYCODE.ARROW_RIGHT == r3) {
                    if (i3.col < n3[0].length - 1) return N(a3, n3[i3.row][i3.col + 1]), false;
                  } else if (St.KEYCODE.ARROW_DOWN == r3) {
                    if (i3.row < n3.length - 1) return N(a3, n3[i3.row + 1][i3.col]), false;
                  } else if (St.KEYCODE.ARROW_LEFT == r3) {
                    if (0 < i3.col) return N(a3, n3[i3.row][i3.col - 1]), false;
                  } else if (St.KEYCODE.ARROW_UP == r3 && 0 < i3.row) return N(a3, n3[i3.row - 1][i3.col]), false;
                }
              }(e2) && setTimeout(function() {
                h2();
              }, 0) : function s3(e3) {
                var t3 = e3.which, a3 = C.selection.blocks();
                if (a3.length && ("P" !== (a3 = a3[0]).tagName && "DIV" !== a3.tagName || (a3 = a3.parentNode), "TD" == a3.tagName || "TH" == a3.tagName)) {
                  for (var n3 = a3; n3 && "TABLE" != n3.tagName && n3.parentNode != C.el; ) n3 = n3.parentNode;
                  if (n3 && "TABLE" == n3.tagName && (St.KEYCODE.ARROW_LEFT == t3 || St.KEYCODE.ARROW_UP == t3 || St.KEYCODE.ARROW_RIGHT == t3 || St.KEYCODE.ARROW_DOWN == t3) && (0 < te().length && P(), C.browser.webkit && (St.KEYCODE.ARROW_UP == t3 || St.KEYCODE.ARROW_DOWN == t3))) {
                    var r3 = C.selection.ranges(0).startContainer;
                    if (r3.nodeType == Node.TEXT_NODE && (St.KEYCODE.ARROW_UP == t3 && (r3.previousSibling && "BR" !== r3.previousSibling.tagName || r3.previousSibling && "BR" === r3.previousSibling.tagName && r3.previousSibling.previousSibling) || St.KEYCODE.ARROW_DOWN == t3 && (r3.nextSibling && "BR" !== r3.nextSibling.tagName || r3.nextSibling && "BR" === r3.nextSibling.tagName && r3.nextSibling.nextSibling))) return;
                    e3.preventDefault(), e3.stopPropagation();
                    var i3 = S(k(n3)), o3 = R(a3, i3);
                    return St.KEYCODE.ARROW_UP == t3 ? H(o3, n3, i3) : St.KEYCODE.ARROW_DOWN == t3 && $(o3, n3, i3), C.selection.restore(), false;
                  }
                }
              }(e2);
            }), C.events.on("keydown", function(e2) {
              if (false === function n3(e3) {
                if (e3.which == St.KEYCODE.TAB) {
                  var t4;
                  if (0 < te().length) t4 = C.$el.find(".fr-selected-cell").last();
                  else {
                    var a4 = C.selection.element();
                    "TD" == a4.tagName || "TH" == a4.tagName ? t4 = k(a4) : a4 != C.el && (0 < k(a4).parentsUntil(C.$el, "td").length ? t4 = k(a4).parents("td").first() : 0 < k(a4).parentsUntil(C.$el, "th").length && (t4 = k(a4).parents("th").first()));
                  }
                  if (t4) return e3.preventDefault(), !!(0 === C.selection.get().focusOffset && 0 < k(C.selection.element()).parentsUntil(C.$el, "ol, ul").length && (0 < k(C.selection.element()).closest("li").prev().length || k(C.selection.element()).is("li") && 0 < k(C.selection.element()).prev().length)) || (P(), e3.shiftKey ? 0 < t4.prev().length ? Q(t4.prev()) : 0 < t4.closest("tr").length && 0 < t4.closest("tr").prev().length ? Q(t4.closest("tr").prev().find("td").last()) : 0 < t4.closest("tbody").length && 0 < t4.closest("table").find("thead tr").length && Q(t4.closest("table").find("thead tr th").last()) : 0 < t4.next().length ? Q(t4.next()) : 0 < t4.closest("tr").length && 0 < t4.closest("tr").next().length ? Q(t4.closest("tr").next().find("td").first()) : 0 < t4.closest("thead").length && 0 < t4.closest("table").find("tbody tr").length ? Q(t4.closest("table").find("tbody tr td").first()) : (t4.addClass("fr-selected-cell"), v2("below"), I2(), Q(t4.closest("tr").next().find("td").first())), C.selection.restore(), false);
                }
              }(e2)) return false;
              var t3 = te();
              if (0 < t3.length) {
                if (0 < t3.length && C.keys.ctrlKey(e2) && e2.which == St.KEYCODE.A) return I2(), C.popups.isVisible("table.edit") && C.popups.hide("table.edit"), t3 = [], true;
                if (e2.which == St.KEYCODE.ESC && C.popups.isVisible("table.edit")) return I2(), C.popups.hide("table.edit"), e2.preventDefault(), e2.stopPropagation(), e2.stopImmediatePropagation(), !(t3 = []);
                if (1 < t3.length && (e2.which == St.KEYCODE.BACKSPACE || e2.which == St.KEYCODE.DELETE)) {
                  C.undo.saveStep();
                  for (var a3 = 0; a3 < t3.length; a3++) k(t3[a3]).html("<br>"), a3 == t3.length - 1 && k(t3[a3]).prepend(St.MARKERS);
                  return C.selection.restore(), C.undo.saveStep(), !(t3 = []);
                }
                if (1 < t3.length && e2.which != St.KEYCODE.F10 && !C.keys.isBrowserAction(e2)) return e2.preventDefault(), !(t3 = []);
              } else if (!(t3 = []) === function r3(e3) {
                if (e3.altKey && e3.which == St.KEYCODE.SPACE) {
                  var t4, a4 = C.selection.element();
                  if ("TD" == a4.tagName || "TH" == a4.tagName ? t4 = a4 : 0 < k(a4).closest("td").length ? t4 = k(a4).closest("td").get(0) : 0 < k(a4).closest("th").length && (t4 = k(a4).closest("th").get(0)), t4) return e3.preventDefault(), N(t4, t4), h2(), false;
                }
              }(e2)) return false;
            }, true);
            var t2 = [];
            C.events.on("html.beforeGet", function() {
              t2 = te();
              for (var e2 = 0; e2 < t2.length; e2++) t2[e2].className = (t2[e2].className || "").replace(/fr-selected-cell/g, "");
            }), C.events.on("html.afterGet", function() {
              for (var e2 = 0; e2 < t2.length; e2++) t2[e2].className = (t2[e2].className ? t2[e2].className.trim() + " " : "") + "fr-selected-cell";
              t2 = [];
            }), d2(true), p2(true);
          }
          C.events.on("destroy", ee);
        }, insert: function ie(e2, t2) {
          var a3, n3, r3 = function c3() {
            var e3 = { startTag: "", closeTag: "" };
            if (C.opts.keepTextFormatOnTable) {
              var t3 = k(C.selection.element().firstChild).parentsUntil(C.$el);
              e3 = u2(t3);
            }
            return { startTag: e3.startTag, closeTag: e3.closeTag };
          }(), i3 = "<table " + (C.opts.tableDefaultWidth ? 'style="width: ' + C.opts.tableDefaultWidth + ';" ' : "") + 'class="fr-inserted-table"><tbody>', o3 = 100 / t2;
          for (a3 = 0; a3 < e2; a3++) {
            for (i3 += "<tr>", n3 = 0; n3 < t2; n3++) i3 += "<td" + (C.opts.tableDefaultWidth ? ' style="width: ' + o3.toFixed(4) + '%;"' : "") + ">" + r3.startTag, 0 === a3 && 0 === n3 && (i3 += St.MARKERS), i3 += "<br>" + r3.closeTag + "</td>";
            i3 += "</tr>";
          }
          if (i3 += "</tbody></table>", C.opts.trackChangesEnabled) {
            C.edit.on(), C.events.focus(true), C.selection.restore(), C.undo.saveStep(), C.markers.insert(), C.html.wrap();
            var s3 = C.$el.find(".fr-marker");
            C.node.isLastSibling(s3) && s3.parent().hasClass("fr-deletable") && s3.insertAfter(s3.parent()), s3.replaceWith(i3), C.selection.clear();
          } else C.html.insert(i3);
          C.selection.restore();
          var l3 = C.$el.find(".fr-inserted-table");
          l3.removeClass("fr-inserted-table"), C.events.trigger("table.inserted", [l3.get(0)]);
        }, remove: g2, insertRow: v2, deleteRow: function oe() {
          var e2 = ae();
          if (0 < e2.length) {
            var t2, a3, n3, r3 = S(), i3 = F(r3);
            if (null == i3) return;
            if (0 === i3.min_i && i3.max_i == r3.length - 1) g2();
            else {
              for (t2 = i3.max_i; t2 >= i3.min_i; t2--) {
                for (n3 = k(e2.find("tr").not(e2.find("> table tr")).get(t2)), a3 = 0; a3 < r3[t2].length; a3++) if (0 === a3 || r3[t2][a3] != r3[t2][a3 - 1]) {
                  var o3 = k(r3[t2][a3]);
                  if (1 < parseInt(o3.attr("rowspan"), 10)) {
                    var s3 = parseInt(o3.attr("rowspan"), 10) - 1;
                    1 == s3 ? o3.removeAttr("rowspan") : o3.attr("rowspan", s3);
                  }
                  if (t2 < r3.length - 1 && r3[t2][a3] == r3[t2 + 1][a3] && (0 === t2 || r3[t2][a3] != r3[t2 - 1][a3])) {
                    for (var l3 = r3[t2][a3], c3 = a3; 0 < c3 && r3[t2][c3] == r3[t2][c3 - 1]; ) c3--;
                    0 === c3 ? k(e2.find("tr").not(e2.find("> table tr")).get(t2 + 1)).prepend(l3) : k(r3[t2 + 1][c3 - 1])[0].parentNode && k(r3[t2 + 1][c3 - 1])[0].insertAdjacentElement("afterend", l3);
                  }
                }
                var d3 = n3.parent();
                n3.remove(), 0 === d3.find("tr").length && d3.remove(), r3 = S(e2);
              }
              w(0, r3.length - 1, 0, r3[0].length - 1, e2), 0 < i3.min_i ? C.selection.setAtEnd(r3[i3.min_i - 1][0]) : C.selection.setAtEnd(r3[0][0]), C.selection.restore(), C.popups.hide("table.edit");
            }
          }
        }, insertColumn: function se(d3) {
          var e2 = ae();
          if (0 < e2.length) {
            var f3, p3 = S(), t2 = F(p3);
            f3 = "before" == d3 ? t2.min_j : t2.max_j;
            var a3, u3 = 100 / p3[0].length, g3 = 100 / (p3[0].length + 1);
            e2.find("th, td").each(function() {
              (a3 = k(this)).data("old-width", a3.outerWidth() / e2.outerWidth() * 100);
            }), e2.find("tr").not(e2.find("> table tr")).each(function(e3) {
              for (var t3, a4 = k(this), n3 = 0, r3 = 0; n3 - 1 < f3; ) {
                if (!(t3 = a4.find("> th, > td").get(r3))) {
                  t3 = null;
                  break;
                }
                t3 == p3[e3][n3] ? (n3 += parseInt(k(t3).attr("colspan"), 10) || 1, r3++) : (n3 += parseInt(k(p3[e3][n3]).attr("colspan"), 10) || 1, "after" == d3 && (t3 = 0 === r3 ? -1 : a4.find("> th, > td").get(r3 - 1)));
              }
              var i3 = k(t3);
              if ("after" == d3 && f3 < n3 - 1 || "before" == d3 && 0 < f3 && p3[e3][f3] == p3[e3][f3 - 1]) {
                if (0 === e3 || 0 < e3 && p3[e3][f3] != p3[e3 - 1][f3]) {
                  var o3 = parseInt(i3.attr("colspan"), 10) + 1;
                  i3.attr("colspan", o3), i3.css("width", (i3.data("old-width") * g3 / u3 + g3).toFixed(4) + "%"), i3.removeData("old-width");
                }
              } else {
                var s3, l3 = (i3.get(0) || "").tagName;
                if (0 < a4.find("th").length && "TH" === l3) s3 = '<th style="width: '.concat(g3.toFixed(4), '%;"><br></th>');
                else {
                  var c3 = m2(p3[e3][f3]);
                  s3 = '<td style="'.concat(i3.attr("style"), "; width: ").concat(g3.toFixed(4), '%;">') + c3.startTag + "<br>" + c3.closeTag + "</td>";
                }
                k(s3).append("<br>"), k(s3).css("width", "".concat(g3.toFixed(4), "%")), -1 == t3 ? a4.prepend(s3) : null == t3 ? a4.append(s3) : "before" == d3 ? i3.before(s3) : "after" == d3 && i3.after(s3);
              }
            }), e2.find("th, td").each(function() {
              (a3 = k(this)).data("old-width") && (a3.css("width", (a3.data("old-width") * g3 / u3).toFixed(4) + "%"), a3.removeData("old-width"));
            }), C.popups.isVisible("table.edit") && h2();
          }
        }, deleteColumn: function le() {
          var e2 = ae();
          if (0 < e2.length) {
            var t2, a3, n3, r3 = S(), i3 = F(r3);
            if (null == i3) return;
            if (0 === i3.min_j && i3.max_j == r3[0].length - 1) g2();
            else {
              var o3 = 0;
              for (t2 = 0; t2 < r3.length; t2++) for (a3 = 0; a3 < r3[0].length; a3++) (n3 = k(r3[t2][a3])).hasClass("fr-selected-cell") || (n3.data("old-width", n3.outerWidth() / e2.outerWidth() * 100), (a3 < i3.min_j || a3 > i3.max_j) && (o3 += n3.outerWidth() / e2.outerWidth() * 100));
              for (o3 /= r3.length, a3 = i3.max_j; a3 >= i3.min_j; a3--) for (t2 = 0; t2 < r3.length; t2++) if (0 === t2 || r3[t2][a3] != r3[t2 - 1][a3]) if (n3 = k(r3[t2][a3]), 1 < (parseInt(n3.attr("colspan"), 10) || 1)) {
                var s3 = parseInt(n3.attr("colspan"), 10) - 1;
                1 == s3 ? n3.removeAttr("colspan") : n3.attr("colspan", s3), n3.css("width", (100 * (n3.data("old-width") - q(a3, r3)) / o3).toFixed(4) + "%"), n3.removeData("old-width");
              } else {
                var l3 = k(n3.parent().get(0));
                n3.remove(), 0 === l3.find("> th, > td").length && (0 === l3.prev().length || 0 === l3.next().length || l3.prev().find("> th[rowspan], > td[rowspan]").length < l3.prev().find("> th, > td").length) && l3.remove();
              }
              w(0, r3.length - 1, 0, r3[0].length - 1, e2), 0 < i3.min_j ? C.selection.setAtEnd(r3[i3.min_i][i3.min_j - 1]) : C.selection.setAtEnd(r3[i3.min_i][0]), C.selection.restore(), C.popups.hide("table.edit"), e2.find("th, td").each(function() {
                (n3 = k(this)).data("old-width") && (n3.css("width", (100 * n3.data("old-width") / o3).toFixed(4) + "%"), n3.removeData("old-width"));
              });
            }
          }
        }, mergeCells: function ce() {
          if (1 < te().length && (0 === C.$el.find("th.fr-selected-cell").length || 0 === C.$el.find("td.fr-selected-cell").length)) {
            x();
            var e2, t2, a3 = F(S());
            if (null == a3) return;
            var n3 = C.$el.find(".fr-selected-cell"), r3 = k(n3[0]), i3 = r3.parent().find(".fr-selected-cell"), o3 = r3.closest("table"), s3 = r3.html(), l3 = 0;
            for (e2 = 0; e2 < i3.length; e2++) l3 += k(i3[e2]).outerWidth();
            for (r3.css("width", Math.min(100, l3 / o3.outerWidth() * 100).toFixed(4) + "%"), a3.min_j < a3.max_j && r3.attr("colspan", a3.max_j - a3.min_j + 1), a3.min_i < a3.max_i && r3.attr("rowspan", a3.max_i - a3.min_i + 1), e2 = 1; e2 < n3.length; e2++) "<br>" != (t2 = k(n3[e2])).html() && "" !== t2.html() && (s3 += "<br>".concat(t2.html())), t2.remove();
            r3.html(s3), C.selection.setAtEnd(r3.get(0)), C.selection.restore(), C.toolbar.enable(), E2(a3.min_i, a3.max_i, o3);
            var c3 = o3.find("tr:empty");
            for (e2 = c3.length - 1; 0 <= e2; e2--) k(c3[e2]).remove();
            b2(a3.min_j, a3.max_j, o3), h2();
          }
        }, splitCellVertically: function de() {
          if (1 == te().length) {
            var e2 = C.$el.find(".fr-selected-cell"), t2 = parseInt(e2.attr("colspan"), 10) || 1, a3 = e2.parent().outerWidth(), n3 = e2.outerWidth(), r3 = e2.clone().html("<br>"), i3 = S(), o3 = R(e2.get(0), i3);
            if (1 < t2) {
              var s3 = Math.ceil(t2 / 2);
              n3 = X(o3.col, o3.col + s3 - 1, i3) / a3 * 100;
              var l3 = X(o3.col + s3, o3.col + t2 - 1, i3) / a3 * 100;
              1 < s3 ? e2.attr("colspan", s3) : e2.removeAttr("colspan"), 1 < t2 - s3 ? r3.attr("colspan", t2 - s3) : r3.removeAttr("colspan"), e2.css("width", n3.toFixed(4) + "%"), r3.css("width", l3.toFixed(4) + "%");
            } else {
              var c3;
              for (c3 = 0; c3 < i3.length; c3++) if (0 === c3 || i3[c3][o3.col] != i3[c3 - 1][o3.col]) {
                var d3 = k(i3[c3][o3.col]);
                if (!d3.is(e2)) {
                  var f3 = (parseInt(d3.attr("colspan"), 10) || 1) + 1;
                  d3.attr("colspan", f3);
                }
              }
              n3 = n3 / a3 * 100 / 2, e2.css("width", "".concat(n3.toFixed(4), "%")), r3.css("width", "".concat(n3.toFixed(4), "%"));
            }
            e2[0].parentNode && e2[0].insertAdjacentElement("afterend", r3[0]), I2(), C.popups.hide("table.edit");
          }
        }, splitCellHorizontally: function fe() {
          if (1 == te().length) {
            var e2 = C.$el.find(".fr-selected-cell"), t2 = e2.parent(), a3 = e2.closest("table"), n3 = parseInt(e2.attr("rowspan"), 10), r3 = S(), i3 = R(e2.get(0), r3), o3 = e2.clone().html("<br>");
            if (1 < n3) {
              var s3 = Math.ceil(n3 / 2);
              1 < s3 ? e2.attr("rowspan", s3) : e2.removeAttr("rowspan"), 1 < n3 - s3 ? o3.attr("rowspan", n3 - s3) : o3.removeAttr("rowspan");
              for (var l3 = i3.row + s3, c3 = 0 === i3.col ? i3.col : i3.col - 1; 0 <= c3 && (r3[l3][c3] == r3[l3][c3 - 1] || 0 < l3 && r3[l3][c3] == r3[l3 - 1][c3]); ) c3--;
              -1 == c3 ? k(a3.find("tr").not(a3.find("> table tr")).get(l3)).prepend(o3) : k(r3[l3][c3])[0].parentNode && k(r3[l3][c3])[0].insertAdjacentElement("afterend", o3[0]);
            } else {
              var d3, f3 = k(document.createElement("tr")).append(o3);
              for (d3 = 0; d3 < r3[0].length; d3++) if (0 === d3 || r3[i3.row][d3] != r3[i3.row][d3 - 1]) {
                var p3 = k(r3[i3.row][d3]);
                p3.is(e2) || p3.attr("rowspan", (parseInt(p3.attr("rowspan"), 10) || 1) + 1);
              }
              t2[0].parentNode && t2[0].insertAdjacentElement("afterend", f3[0]);
            }
            I2(), C.popups.hide("table.edit");
          }
        }, addHeader: function pe() {
          var e2 = ae();
          if (0 < e2.length && 0 === e2.find("> th").length) {
            var t2, a3 = "<thead><tr>", n3 = 0;
            for (n3 = e2.find("tr").first().find("> th").length, e2.find("tr").first().find("> td").each(function() {
              var e3 = k(this);
              n3 += parseInt(e3.attr("colspan"), 10) || 1;
            }), t2 = 0; t2 < n3; t2++) a3 += "<th><br></th>";
            a3 += "</tr></thead>", e2.prepend(a3), h2();
          }
        }, addFooter: function ue() {
          var e2 = ae();
          if (0 < e2.length && 0 === e2.find("tfoot").length) {
            var t2, a3 = "<tfoot><tr>", n3 = 0, r3 = "> td";
            for (0 < e2.find("thead").length && (r3 = "> th"), e2.find("tr").first().find(r3).each(function() {
              var e3 = k(this);
              n3 += parseInt(e3.attr("colspan"), 10) || 1;
            }), t2 = 0; t2 < n3; t2++) a3 += "<td><br></td>";
            a3 += "</tr></tfoot>", e2.append(a3), h2();
          }
        }, removeHeader: function ge() {
          var e2 = ae(), t2 = e2.find("> thead");
          if (0 < (t2 = k(t2)).length) if (0 === e2.find("tbody tr").length) g2();
          else if (t2.remove(), 0 < te().length) h2();
          else {
            C.popups.hide("table.edit");
            var a3 = e2.find("tbody tr").first().find("td").first().get(0);
            a3 && (C.selection.setAtEnd(a3), C.selection.restore());
          }
        }, removeFooter: function he() {
          var e2 = ae(), t2 = e2.find("tfoot");
          if (0 < t2.length) if (0 === e2.find("tbody tr").length) g2();
          else if (t2.remove(), 0 < te().length) h2();
          else {
            C.popups.hide("table.edit");
            var a3 = e2.find("tbody tr").first().find("td").first().get(0);
            a3 && (C.selection.setAtEnd(a3), C.selection.restore());
          }
        }, setBackground: t, showInsertPopup: function me() {
          var e2 = C.$tb.find('.fr-command[data-cmd="insertTable"]'), t2 = C.popups.get("table.insert");
          if (t2 || (t2 = d2()), !t2.hasClass("fr-active")) {
            C.popups.refresh("table.insert"), C.popups.setContainer("table.insert", C.$tb);
            var a3 = C.button.getPosition(e2), n3 = a3.left, r3 = a3.top;
            C.popups.show("table.insert", n3, r3, e2.outerHeight());
          }
        }, showEditPopup: h2, showColorsPopup: s2, back: function ve() {
          0 < te().length ? h2() : (C.popups.hide("table.insert"), C.toolbar.showInline());
        }, verticalAlign: function be(e2) {
          C.$el.find(".fr-selected-cell").css("vertical-align", e2);
        }, horizontalAlign: function Ee(e2) {
          C.$el.find(".fr-selected-cell").css("text-align", e2);
        }, applyStyle: function _e(e2, t2, a3, n3) {
          if (0 < t2.length) {
            if (C.opts.useClasses || ("TABLE" === t2.get(0).tagName ? function i3(e3, t3) {
              var a4 = e3.childNodes;
              if (0 < a4.length) for (var n4 = 0; n4 < a4.length; n4++) "TD" === a4[n4].tagName ? "fr-dashed-borders" === t3 || "fr-highlighted" === t3 || "fr-thick" === t3 ? A(a4[n4]) : "fr-alternate-rows" === t3 && a4[n4].style.removeProperty("background-color") : i3(a4[n4], t3);
            }(t2.get(0), e2) : A(t2.get(0))), !a3) {
              var r3 = Object.keys(n3);
              r3.splice(r3.indexOf(e2), 1), t2.removeClass(r3.join(" "));
            }
            t2.toggleClass(e2);
          }
        }, selectedTable: ae, selectedCells: te, customColor: function we() {
          var e2 = C.popups.get("table.colors").find(".fr-table-colors-hex-layer input");
          e2.length && t(e2.val());
        }, selectCells: N };
      }, St.DefineIcon("insertTable", { NAME: "table", SVG_KEY: "insertTable" }), St.RegisterCommand("insertTable", { title: "Insert Table", undo: false, focus: true, refreshOnCallback: false, popup: true, callback: function() {
        this.popups.isVisible("table.insert") ? (this.$el.find(".fr-marker").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide("table.insert")) : this.table.showInsertPopup();
      }, plugin: "table" }), St.RegisterCommand("tableInsert", { callback: function(e, t, a2) {
        this.table.insert(t, a2), this.popups.hide("table.insert");
      } }), St.DefineIcon("tableHeader", { NAME: "header", FA5NAME: "heading", SVG_KEY: "tableHeader" }), St.RegisterCommand("tableHeader", { title: "Table Header", focus: false, toggle: true, callback: function() {
        this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]').hasClass("fr-active") ? this.table.removeHeader() : this.table.addHeader();
      }, refresh: function(e) {
        var t = this.table.selectedTable();
        0 < t.length && (0 === t.find("> thead").length ? e.removeClass("fr-active").attr("aria-pressed", false) : e.addClass("fr-active").attr("aria-pressed", true));
      } }), St.DefineIcon("tableFooter", { NAME: "table", FA5NAME: "table", SVG_KEY: "tableFooter" }), St.RegisterCommand("tableFooter", { title: "Table Footer", focus: false, toggle: true, callback: function() {
        this.popups.get("table.edit").find('.fr-command[data-cmd="tableFooter"]').hasClass("fr-active") ? this.table.removeFooter() : this.table.addFooter();
      }, refresh: function(e) {
        var t = this.table.selectedTable();
        0 < t.length && (0 === t.find("tfoot").length ? e.removeClass("fr-active").attr("aria-pressed", false) : e.addClass("fr-active").attr("aria-pressed", true));
      } }), St.DefineIcon("tableRows", { NAME: "bars", SVG_KEY: "row" }), St.RegisterCommand("tableRows", { type: "dropdown", focus: false, title: "Row", options: { above: "Insert row above", below: "Insert row below", "delete": "Delete row" }, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = St.COMMANDS.tableRows.options;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableRows" data-param1="' + a2 + '" title="' + this.language.translate(t[a2]) + '">' + this.language.translate(t[a2]) + "</a></li>");
        return e += "</ul>";
      }, callback: function(e, t) {
        "above" == t || "below" == t ? this.table.insertRow(t) : this.table.deleteRow();
      } }), St.DefineIcon("tableColumns", { NAME: "bars fa-rotate-90", SVG_KEY: "columns" }), St.RegisterCommand("tableColumns", { type: "dropdown", focus: false, title: "Column", options: { before: "Insert column before", after: "Insert column after", "delete": "Delete column" }, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = St.COMMANDS.tableColumns.options;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableColumns" data-param1="'.concat(a2, '" title="').concat(this.language.translate(t[a2]), '">').concat(this.language.translate(t[a2]), "</a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        "before" == t || "after" == t ? this.table.insertColumn(t) : this.table.deleteColumn();
      } }), St.DefineIcon("tableCells", { NAME: "square-o", FA5NAME: "square", SVG_KEY: "cellOptions" }), St.RegisterCommand("tableCells", { type: "dropdown", focus: false, title: "Cell", options: { merge: "Merge cells", "vertical-split": "Vertical split", "horizontal-split": "Horizontal split" }, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = St.COMMANDS.tableCells.options;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCells" data-param1="'.concat(a2, '" title="').concat(this.language.translate(t[a2]), '">').concat(this.language.translate(t[a2]), "</a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        "merge" == t ? this.table.mergeCells() : "vertical-split" == t ? this.table.splitCellVertically() : this.table.splitCellHorizontally();
      }, refreshOnShow: function(e, t) {
        1 < this.$el.find(".fr-selected-cell").length ? (t.find('a[data-param1="vertical-split"]').addClass("fr-disabled").attr("aria-disabled", true), t.find('a[data-param1="horizontal-split"]').addClass("fr-disabled").attr("aria-disabled", true), t.find('a[data-param1="merge"]').removeClass("fr-disabled").attr("aria-disabled", false)) : (t.find('a[data-param1="merge"]').addClass("fr-disabled").attr("aria-disabled", true), t.find('a[data-param1="vertical-split"]').removeClass("fr-disabled").attr("aria-disabled", false), t.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled").attr("aria-disabled", false));
      } }), St.DefineIcon("tableRemove", { NAME: "trash", SVG_KEY: "removeTable" }), St.RegisterCommand("tableRemove", { title: "Remove Table", focus: false, callback: function() {
        this.table.remove();
      } }), St.DefineIcon("tableStyle", { NAME: "paint-brush", SVG_KEY: "tableStyle" }), St.RegisterCommand("tableStyle", { title: "Table Style", type: "dropdown", focus: false, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.tableStyles;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableStyle" data-param1="'.concat(a2, '" title="').concat(this.language.translate(t[a2]), '">').concat(this.language.translate(t[a2]), "</a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        this.table.applyStyle(t, this.$el.find(".fr-selected-cell").closest("table"), this.opts.tableMultipleStyles, this.opts.tableStyles);
      }, refreshOnShow: function(e, t) {
        var a2 = this.$, n2 = this.$el.find(".fr-selected-cell").closest("table");
        n2 && t.find(".fr-command").each(function() {
          var e2 = a2(this).data("param1"), t2 = n2.hasClass(e2);
          a2(this).toggleClass("fr-active", t2).attr("aria-selected", t2);
        });
      } }), St.DefineIcon("tableCellBackground", { NAME: "tint", SVG_KEY: "cellBackground" }), St.RegisterCommand("tableCellBackground", { title: "Cell Background", focus: false, popup: true, callback: function() {
        this.table.showColorsPopup();
      } }), St.RegisterCommand("tableCellBackgroundColor", { undo: true, focus: false, callback: function(e, t) {
        this.table.setBackground(t);
      } }), St.DefineIcon("tableBack", { NAME: "arrow-left", SVG_KEY: "back" }), St.RegisterCommand("tableBack", { title: "Back", undo: false, focus: false, back: true, callback: function() {
        this.table.back();
      }, refresh: function(e) {
        0 !== this.table.selectedCells().length || this.opts.toolbarInline ? (e.removeClass("fr-hidden"), e.next(".fr-separator").removeClass("fr-hidden")) : (e.addClass("fr-hidden"), e.next(".fr-separator").addClass("fr-hidden"));
      } }), St.DefineIcon("tableCellVerticalAlign", { NAME: "arrows-v", FA5NAME: "arrows-alt-v", SVG_KEY: "verticalAlignMiddle" }), St.RegisterCommand("tableCellVerticalAlign", { type: "dropdown", focus: false, title: "Vertical Align", options: { Top: "Align Top", Middle: "Align Middle", Bottom: "Align Bottom" }, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = St.COMMANDS.tableCellVerticalAlign.options;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellVerticalAlign" data-param1="'.concat(a2.toLowerCase(), '" title="').concat(this.language.translate(t[a2]), '">').concat(this.language.translate(a2), "</a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        this.table.verticalAlign(t);
      }, refreshOnShow: function(e, t) {
        t.find('.fr-command[data-param1="' + this.$el.find(".fr-selected-cell").css("vertical-align") + '"]').addClass("fr-active").attr("aria-selected", true);
      } }), St.DefineIcon("tableCellHorizontalAlign", { NAME: "align-left", SVG_KEY: "alignLeft" }), St.DefineIcon("align-left", { NAME: "align-left", SVG_KEY: "alignLeft" }), St.DefineIcon("align-right", { NAME: "align-right", SVG_KEY: "alignRight" }), St.DefineIcon("align-center", { NAME: "align-center", SVG_KEY: "alignCenter" }), St.DefineIcon("align-justify", { NAME: "align-justify", SVG_KEY: "alignJustify" }), St.RegisterCommand("tableCellHorizontalAlign", { type: "dropdown", focus: false, title: "Horizontal Align", options: { left: "Align Left", center: "Align Center", right: "Align Right", justify: "Align Justify" }, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = St.COMMANDS.tableCellHorizontalAlign.options;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="tableCellHorizontalAlign" data-param1="'.concat(a2, '" title="').concat(this.language.translate(t[a2]), '">').concat(this.icon.create("align-".concat(a2)), '<span class="fr-sr-only">').concat(this.language.translate(t[a2]), "</span></a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        this.table.horizontalAlign(t);
      }, refresh: function(e) {
        var t = this.table.selectedCells(), a2 = this.$;
        t.length && e.find("> *").first().replaceWith(this.icon.create("align-".concat(this.helpers.getAlignment(a2(t[0])))));
      }, refreshOnShow: function(e, t) {
        t.find('.fr-command[data-param1="' + this.helpers.getAlignment(this.$el.find(".fr-selected-cell").first()) + '"]').addClass("fr-active").attr("aria-selected", true);
      } }), St.DefineIcon("tableCellStyle", { NAME: "magic", SVG_KEY: "cellStyle" }), St.RegisterCommand("tableCellStyle", { title: "Cell Style", type: "dropdown", focus: false, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = this.opts.tableCellStyles;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellStyle" data-param1="'.concat(a2, '" title="').concat(this.language.translate(t[a2]), '">').concat(this.language.translate(t[a2]), "</a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        this.table.applyStyle(t, this.$el.find(".fr-selected-cell"), this.opts.tableCellMultipleStyles, this.opts.tableCellStyles);
      }, refreshOnShow: function(e, t) {
        var a2 = this.$, n2 = this.$el.find(".fr-selected-cell").first();
        n2 && t.find(".fr-command").each(function() {
          var e2 = a2(this).data("param1"), t2 = n2.hasClass(e2);
          a2(this).toggleClass("fr-active", t2).attr("aria-selected", t2);
        });
      } }), St.RegisterCommand("tableCellBackgroundCustomColor", { title: "OK", undo: true, callback: function() {
        this.table.customColor();
      } }), St.DefineIcon("tableColorRemove", { NAME: "eraser", SVG_KEY: "remove" }), St.URLRegEx = "(^| |\\u00A0)(".concat(St.LinkRegEx, "|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\\.[a-z0-9+-_]{1,}))$"), St.PLUGINS.url = function(f2) {
        var p2 = f2.$, i2 = null;
        function t(e, t2, a3) {
          for (var n2 = ""; a3.length && "." == a3[a3.length - 1]; ) n2 += ".", a3 = a3.substring(0, a3.length - 1);
          var r2 = a3;
          if (f2.opts.linkConvertEmailAddress) f2.helpers.isEmail(r2) && !/^mailto:.*/i.test(r2) && (r2 = "mailto:".concat(r2));
          else if (f2.helpers.isEmail(r2)) return t2 + a3;
          return /^((http|https|ftp|ftps|mailto|tel|sms|notes|data)\:)/i.test(r2) || (r2 = "//".concat(r2)), (t2 || "") + "<a".concat(f2.opts.linkAlwaysBlank ? ' target="_blank"' : "").concat(i2 ? ' rel="'.concat(i2, '"') : "", ' data-fr-linked="true" href="').concat(r2, '">').concat(a3.replace(/&amp;/g, "&").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;"), "</a>").concat(n2);
        }
        var u2 = function u3() {
          return new RegExp(St.URLRegEx, "gi");
        };
        function g2(e) {
          return f2.opts.linkAlwaysNoFollow && (i2 = "nofollow"), f2.opts.linkAlwaysBlank && (f2.opts.linkNoOpener && (i2 ? i2 += " noopener" : i2 = "noopener"), f2.opts.linkNoReferrer && (i2 ? i2 += " noreferrer" : i2 = "noreferrer")), e.replace(u2(), t);
        }
        function h2(e) {
          var t2 = e.split(" ");
          return t2[t2.length - 1];
        }
        function a2() {
          var e = f2.selection.ranges(0), t2 = e.startContainer;
          if (t2.nodeType !== Node.TEXT_NODE) return false;
          if (!t2 || e.startOffset !== (t2.textContent || "").length) {
            f2.markers.insert();
            var a3 = f2.$el.find(".fr-marker"), n2 = t2.textContent.match(/(^| |\u00A0)(((([a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,})(\.(com|net|org|edu|mil|gov|co|biz|info|me|dev)))|((ftp|http|https):\/\/[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,})|(www\.[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,}\.[a-z0-9-]{2,24})|((ftp|http|https):\/\/[\u0021-\uffff]{1,}@[a-z\u0080-\u009f\u00a1-\uffff0-9-_\.]{1,}))((:[0-9]{1,5})|)(((\/|\?|#)[a-z\u00a1-\uffff0-9@?\|!^=%&amp;\/~+#-\'*-_{}]*)|())|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\.[a-z0-9+-_]{1,}))$/gi);
            if (a3.remove(), !n2) return false;
          }
          if (function d2(e2) {
            return !!e2 && ("A" === e2.tagName || !(!e2.parentNode || e2.parentNode == f2.el) && d2(e2.parentNode));
          }(t2)) return false;
          if (u2().test(h2(t2.textContent))) {
            var r2, i3 = t2.textContent.length;
            if (0 < i3 && "," === t2.textContent.charAt(i3 - 1)) {
              p2(t2).before(g2(t2.textContent.substring(0, i3 - 1))), (r2 = p2(t2.parentNode).find("a[data-fr-linked]")).removeAttr("data-fr-linked"), t2.textContent = ",";
              var o2 = f2.win.getSelection().getRangeAt(0);
              o2.setStart(t2, 1), o2.setEnd(t2, 1);
            } else p2(t2).before(g2(t2.textContent)), (r2 = p2(t2.parentNode).find("a[data-fr-linked]")).removeAttr("data-fr-linked"), t2.parentNode.removeChild(t2);
            f2.events.trigger("url.linked", [r2.get(0)]);
          } else if (t2.textContent.split(" ").length <= 2 && t2.previousSibling && "A" === t2.previousSibling.tagName) {
            var s2 = t2.previousSibling.innerText + t2.textContent, l2 = t2.textContent.length;
            if (u2().test(h2(s2)) && "," !== t2.textContent.charAt(l2 - 1)) {
              var c2 = new DOMParser().parseFromString(g2(s2), "text/html").body.childNodes;
              t2.parentNode.replaceChild(c2[0], t2.previousSibling), c2.length && p2(t2).before(c2[0]), t2.parentNode.removeChild(t2);
            }
          }
        }
        return { _init: function e() {
          f2.events.on("keypress", function(e2) {
            !f2.selection.isCollapsed() || ")" != e2.key && "(" != e2.key || a2();
          }, true), f2.events.on("keydown", function(e2) {
            var t2 = e2.which;
            !f2.selection.isCollapsed() || t2 != St.KEYCODE.ENTER && t2 != St.KEYCODE.SPACE || a2();
          }, true), f2.events.on("paste.beforeCleanup", function(e2) {
            if (f2.helpers.isURL(e2) && !f2.$el[0].getAttribute("plainpaste")) {
              var t2 = null;
              return f2.opts.linkAlwaysBlank && (f2.opts.linkNoOpener && (t2 ? t2 += " noopener" : t2 = "noopener"), f2.opts.linkNoReferrer && (t2 ? t2 += " noreferrer" : t2 = "noreferrer")), "<a".concat(f2.opts.linkAlwaysBlank ? ' target="_blank"' : "").concat(t2 ? ' rel="'.concat(t2, '"') : "", ' href="').concat(e2, '" >').concat(e2, "</a>");
            }
            if (f2.$el[0].getAttribute("plainpaste")) return function a3(e3) {
              if ("string" == typeof e3) return (e3 = e3.replace(/&amp;/g, "&")).replace(/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/gim, g2).replace(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gim, g2);
            }(e2);
          });
        } };
      }, Object.assign(St.POPUP_TEMPLATES, { "video.insert": "[_BUTTONS_][_BY_URL_LAYER_][_EMBED_LAYER_][_UPLOAD_LAYER_][_PROGRESS_BAR_]", "video.edit": "[_BUTTONS_]", "video.size": "[_BUTTONS_][_SIZE_LAYER_]" }), Object.assign(St.DEFAULTS, { videoAllowedTypes: ["mp4", "webm", "ogg", "mp3", "mpeg", "url"], videoAllowedProviders: [".*"], videoDefaultAlign: "center", videoDefaultDisplay: "block", videoDefaultWidth: 600, videoEditButtons: ["videoReplace", "videoRemove", "videoDisplay", "videoAlign", "videoSize", "autoplay"], videoInsertButtons: ["videoBack", "|", "videoByURL", "videoEmbed", "videoUpload"], videoMaxSize: 52428800, videoMove: true, videoResize: true, videoResponsive: false, videoSizeButtons: ["videoBack", "|"], videoSplitHTML: false, videoTextNear: true, videoUpload: true, videoUploadMethod: "POST", videoUploadParam: "file", videoUploadParams: {}, videoUploadToS3: false, videoUploadToAzure: false, videoUploadURL: null }), St.VIDEO_PROVIDERS = [{ test_regex: /^.*((youtu.be)|(youtube.com))\/((v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))?\/?((shorts\/)|(v=))?([^#\&\?]*).*/, url_regex: /(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/|shorts\/)?([0-9a-zA-Z_\-]+)(.*)?/g, url_text: "https://www.youtube.com/embed/$1?$2", html: '<iframe width="640" height="360" src="{url}&wmode=opaque&rel=0" frameborder="0" allowfullscreen></iframe>', provider: "youtube" }, { test_regex: /^.*(?:vimeo.com)\/(?:channels(\/\w+\/)?|groups\/*\/videos\/\u200b\d+\/|video\/|)(\d+)(?:$|\/|\?)/, url_regex: /(?:https?:\/\/)?(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?(\/[a-zA-Z0-9_\-]+)?/i, url_text: "https://player.vimeo.com/video/$1", html: '<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>', provider: "vimeo" }, { test_regex: /^.+(dailymotion.com|dai.ly)\/(video|hub)?\/?([^_]+)[^#]*(#video=([^_&]+))?/, url_regex: /(?:https?:\/\/)?(?:www\.)?(?:dailymotion\.com|dai\.ly)\/(?:video|hub)?\/?(.+)/g, url_text: "https://www.dailymotion.com/embed/video/$1", html: '<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>', provider: "dailymotion" }, { test_regex: /^.+(screen.yahoo.com)\/[^_&]+/, url_regex: "", url_text: "", html: '<iframe width="640" height="360" src="{url}?format=embed" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>', provider: "yahoo" }, { test_regex: /^.+(rutube.ru)\/[^_&]+/, url_regex: /(?:https?:\/\/)?(?:www\.)?(?:rutube\.ru)\/(?:video)?\/?(.+)/g, url_text: "https://rutube.ru/play/embed/$1", html: '<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowtransparency="true"></iframe>', provider: "rutube" }, { test_regex: /^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/, url_regex: /^(?:.+)vidyard.com\/(?:watch)?\/?([^.&/]+)\/?(?:[^_.&]+)?/g, url_text: "https://play.vidyard.com/$1", html: '<iframe width="640" height="360" src="{url}" frameborder="0" allowfullscreen></iframe>', provider: "vidyard" }], St.VIDEO_EMBED_REGEX = /^\W*(<div[^>]*>\s*<iframe[^>]*>.*?<\/iframe>\s*<\/div>(\s*<script[^>]*>.*?<\/script>)?|<iframe[^>]*>.*?<\/iframe>|<embed(.|\n)*>)\W*$/i, St.PLUGINS.video = function(_) {
        var s2, d2, f2, w, n2, a2, y2 = _.$, A = "https://i.froala.com/upload", p2 = 2, u2 = 3, g2 = 4, C = 5, T = 6, r2 = {};
        function h2() {
          var e = _.popups.get("video.insert");
          e.find(".fr-video-by-url-layer input").val("").trigger("change");
          var t2 = e.find(".fr-video-embed-layer textarea");
          t2.val("").trigger("change"), (t2 = e.find(".fr-video-upload-layer input")).val("").trigger("change");
        }
        function i2() {
          var e = _.popups.get("video.edit");
          if (e || (e = function o3() {
            var e2 = "";
            if (0 < _.opts.videoEditButtons.length) {
              _.opts.videoResponsive && (-1 < _.opts.videoEditButtons.indexOf("videoSize") && _.opts.videoEditButtons.splice(_.opts.videoEditButtons.indexOf("videoSize"), 1), -1 < _.opts.videoEditButtons.indexOf("videoDisplay") && _.opts.videoEditButtons.splice(_.opts.videoEditButtons.indexOf("videoDisplay"), 1), -1 < _.opts.videoEditButtons.indexOf("videoAlign") && _.opts.videoEditButtons.splice(_.opts.videoEditButtons.indexOf("videoAlign"), 1));
              var t3 = { buttons: e2 += '<div class="fr-buttons"> \n      '.concat(_.button.buildList(_.opts.videoEditButtons), " \n      </div>") }, a4 = _.popups.create("video.edit", t3);
              return _.events.$on(_.$wp, "scroll.video-edit", function() {
                w && _.popups.isVisible("video.edit") && (_.events.disableBlur(), c2(w));
              }), a4;
            }
            return false;
          }()), e) {
            _.popups.setContainer("video.edit", _.$sc), _.popups.refresh("video.edit");
            var t2 = w.find("iframe, embed, ".concat(w.find("iframe, embed, audio").get(0) ? "audio" : "video")), a3 = t2.offset().left + t2.outerWidth() / 2, n3 = t2.offset().top + t2.outerHeight(), r3 = t2.get(0).src ? t2.get(0).src : t2.get(0).currentSrc, i3 = !(!(r3 = (r3 = r3.split("."))[r3.length - 1]).includes("pdf") && !r3.includes("txt"));
            t2.hasClass("fr-file") || i3 || w.find("audio").get(0) ? (document.getElementById("autoplay-".concat(_.id)) && (document.getElementById("autoplay-".concat(_.id)).style.display = "none"), document.getElementById("videoReplace-".concat(_.id)) && (document.getElementById("videoReplace-".concat(_.id)).style.display = "none")) : (document.getElementById("autoplay-".concat(_.id)) && (document.getElementById("autoplay-".concat(_.id)).style.display = ""), document.getElementById("videoReplace-".concat(_.id)) && (document.getElementById("videoReplace-".concat(_.id)).style.display = "")), _.popups.show("video.edit", a3, n3, t2.outerHeight(), true);
          }
        }
        function o2(e) {
          if (e) return _.popups.onRefresh("video.insert", h2), _.popups.onHide("video.insert", Z), true;
          var t2 = "";
          _.opts.videoUpload || -1 === _.opts.videoInsertButtons.indexOf("videoUpload") || _.opts.videoInsertButtons.splice(_.opts.videoInsertButtons.indexOf("videoUpload"), 1);
          var a3 = _.button.buildList(_.opts.videoInsertButtons);
          "" !== a3 && (t2 = '<div class="fr-buttons">' + a3 + "</div>");
          var n3, r3 = "", i3 = _.opts.videoInsertButtons.indexOf("videoUpload"), o3 = _.opts.videoInsertButtons.indexOf("videoByURL"), s3 = _.opts.videoInsertButtons.indexOf("videoEmbed");
          if (0 <= o3) {
            n3 = " fr-active", (i3 < o3 && 0 <= i3 || s3 < o3 && 0 <= s3) && (n3 = "");
            r3 = '<div class="fr-video-by-url-layer fr-layer'.concat(n3, '" id="fr-video-by-url-layer-').concat(_.id, '"><div class="fr-input-line"><input id="fr-video-by-url-layer-text-').concat(_.id, '" type="text" placeholder="').concat(_.language.translate("Paste in a video URL"), `" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><span style='float:left'><div class="fr-checkbox-line fr-autoplay-margin"><span class="fr-checkbox"> <input id='videoPluginAutoplay' data-checked="_blank" type="checkbox"> <span>`).concat('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg>', '</span></span> <label id="fr-label-target-').concat(_.id, '">Autoplay</label></div> </span><button type="button" class="fr-command fr-submit" data-cmd="videoInsertByURL" tabIndex="2" role="button">').concat(_.language.translate("Insert"), "</button></div></div>");
          }
          var l3 = "";
          0 <= s3 && (n3 = " fr-active", (i3 < s3 && 0 <= i3 || o3 < s3 && 0 <= o3) && (n3 = ""), l3 = '<div class="fr-video-embed-layer fr-layer'.concat(n3, '" id="fr-video-embed-layer-').concat(_.id, '"><div class="fr-input-line"><textarea id="fr-video-embed-layer-text').concat(_.id, '" type="text" placeholder="').concat(_.language.translate("Embedded Code"), '" tabIndex="1" aria-required="true" rows="5"></textarea></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoInsertEmbed" tabIndex="2" role="button">').concat(_.language.translate("Insert"), "</button></div></div>"));
          var c3 = "";
          0 <= i3 && (n3 = " fr-active", (s3 < i3 && 0 <= s3 || o3 < i3 && 0 <= o3) && (n3 = ""), c3 = '<div class="fr-video-upload-layer fr-layer'.concat(n3, '" id="fr-video-upload-layer-').concat(_.id, '"><strong>').concat(_.language.translate("Drop video"), "</strong><br>(").concat(_.language.translate("or click"), ')<div class="fr-form"><input type="file" accept="video/').concat(_.opts.videoAllowedTypes.join(", video/").toLowerCase(), '" tabIndex="-1" aria-labelledby="fr-video-upload-layer-').concat(_.id, '" role="button"></div></div>'));
          var d3 = { buttons: t2, by_url_layer: r3, embed_layer: l3, upload_layer: c3, progress_bar: '<div class="fr-video-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="videoDismissError" tabIndex="2" role="button">OK</button></div></div>' }, f3 = _.popups.create("video.insert", d3);
          return function p3(n4) {
            _.events.$on(n4, "dragover dragenter", ".fr-video-upload-layer", function() {
              return y2(this).addClass("fr-drop"), false;
            }, true), _.events.$on(n4, "dragleave dragend", ".fr-video-upload-layer", function() {
              return y2(this).removeClass("fr-drop"), false;
            }, true), _.events.$on(n4, "drop", ".fr-video-upload-layer", function(e2) {
              e2.preventDefault(), e2.stopPropagation(), y2(this).removeClass("fr-drop");
              var t3 = e2.originalEvent.dataTransfer;
              if (t3 && t3.files) {
                var a4 = n4.data("instance") || _;
                a4.events.disableBlur(), a4.video.upload(t3.files), a4.events.enableBlur();
              }
            }, true), _.helpers.isIOS() && _.events.$on(n4, "touchstart", '.fr-video-upload-layer input[type="file"]', function() {
              y2(this).trigger("click");
            }, true);
            _.events.$on(n4, "change", '.fr-video-upload-layer input[type="file"]', function() {
              if (this.files) {
                var e2 = n4.data("instance") || _;
                e2.events.disableBlur(), n4.find("input:focus").blur(), e2.events.enableBlur(), e2.video.upload(this.files);
              }
              y2(this).val("");
            }, true);
          }(f3), f3;
        }
        function m2(e) {
          _.events.focus(true), _.selection.restore();
          var t2 = false;
          if (w && (X(), t2 = true), _.opts.trackChangesEnabled) {
            _.edit.on(), _.events.focus(true), _.selection.restore(), _.undo.saveStep(), _.markers.insert(), _.html.wrap();
            var a3 = _.$el.find(".fr-marker");
            _.node.isLastSibling(a3) && a3.parent().hasClass("fr-deletable") && a3.insertAfter(a3.parent()), a3.replaceWith('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(e, "</span>")), _.selection.clear();
          } else _.html.insert('<span contenteditable="false" draggable="true" class="fr-jiv fr-video fr-deletable">'.concat(e, "</span>"), false, _.opts.videoSplitHTML);
          _.popups.hide("video.insert");
          var n3 = _.$el.find(".fr-jiv");
          n3.removeClass("fr-jiv"), n3.toggleClass("fr-rv", _.opts.videoResponsive), Q(n3, _.opts.videoDefaultDisplay, _.opts.videoDefaultAlign), n3.toggleClass("fr-draggable", _.opts.videoMove), _.events.trigger(t2 ? "video.replaced" : "video.inserted", [n3]);
        }
        function v2() {
          var e = y2(this);
          _.popups.hide("video.insert"), e.removeClass("fr-uploading"), e.parent().next().is("br") && e.parent().next().remove(), c2(e.parent()), _.events.trigger("video.loaded", [e.parent()]);
        }
        function k(s3, e, l3, c3, d3, f3) {
          _.edit.off(), b2("Loading video"), e && (s3 = _.helpers.sanitizeURL(s3));
          var p3 = function p4() {
            var e2, t2;
            if (c3) {
              _.undo.canDo() || c3.find("video").hasClass("fr-uploading") || _.undo.saveStep();
              var a3 = c3.find("video").data("fr-old-src"), n3 = c3.data("fr-replaced");
              if (c3.data("fr-replaced", false), 0 < c3.find("iframe").length) c3.remove(), e2 = O2(s3, l3, v2);
              else {
                _.$wp ? ((e2 = c3.clone(true)).find("video").removeData("fr-old-src").removeClass("fr-uploading"), e2.find("video").off("canplay"), a3 && c3.find("video").attr("src", a3), c3.replaceWith(e2)) : e2 = c3;
                for (var r3 = e2.find("video").get(0).attributes, i3 = 0; i3 < r3.length; i3++) {
                  var o3 = r3[i3];
                  0 === o3.nodeName.indexOf("data-") && e2.find("video").removeAttr(o3.nodeName);
                }
                if (void 0 !== l3) for (t2 in l3) l3.hasOwnProperty(t2) && "link" != t2 && e2.find("video").attr("data-".concat(t2), l3[t2]);
                e2.find("video").on("canplay", v2), e2.find("video").attr("src", s3);
              }
              _.edit.on(), B(), _.undo.saveStep(), _.$el.blur(), _.events.trigger(n3 ? "video.replaced" : "video.inserted", [e2, d3]);
            } else e2 = O2(s3, l3, v2, f3), B(), _.undo.saveStep(), _.events.trigger("video.inserted", [e2, d3]);
          };
          S("Loading video"), p3();
        }
        function S(e) {
          var t2 = _.popups.get("video.insert");
          if (t2 || (t2 = o2()), t2.find(".fr-layer.fr-active").removeClass("fr-active").addClass("fr-pactive"), t2.find(".fr-video-progress-bar-layer").addClass("fr-active"), t2.find(".fr-buttons").hide(), w) {
            var a3 = w.find("iframe, embed, ".concat(w.find("iframe, embed, audio").get(0) ? "audio" : "video"));
            _.popups.setContainer("video.insert", _.$sc);
            var n3 = a3.offset().left, r3 = a3.offset().top + a3.height();
            _.popups.show("video.insert", n3, r3, a3.outerHeight());
          }
          void 0 === e && b2(_.language.translate("Uploading"), 0);
        }
        function l2(e) {
          var t2 = _.popups.get("video.insert");
          if (t2 && (t2.find(".fr-layer.fr-pactive").addClass("fr-active").removeClass("fr-pactive"), t2.find(".fr-video-progress-bar-layer").removeClass("fr-active"), t2.find(".fr-buttons").show(), e || _.$el.find("video.fr-error").length)) {
            if (_.events.focus(), _.$el.find("video.fr-error").length && (_.$el.find("video.fr-error").parent().remove(), _.undo.saveStep(), _.undo.run(), _.undo.dropRedo()), !_.$wp && w) {
              var a3 = w;
              H(true), _.selection.setAfter(a3.find("video").get(0)), _.selection.restore();
            }
            _.popups.hide("video.insert");
          }
        }
        function b2(e, t2) {
          var a3 = _.popups.get("video.insert");
          if (a3) {
            var n3 = a3.find(".fr-video-progress-bar-layer");
            n3.find("h3").text(e + (t2 ? " ".concat(t2, "%") : "")), n3.removeClass("fr-error"), t2 ? (n3.find("div").removeClass("fr-indeterminate"), n3.find("div > span").css("width", "".concat(t2, "%"))) : n3.find("div").addClass("fr-indeterminate");
          }
        }
        function E2(e) {
          S();
          var t2 = _.popups.get("video.insert").find(".fr-video-progress-bar-layer");
          t2.addClass("fr-error");
          var a3 = t2.find("h3");
          a3.text(e), _.events.disableBlur(), a3.focus();
        }
        function c2(e) {
          t.call(e.get(0));
        }
        function R(e, t2, a3) {
          b2("Loading video");
          var n3 = this.status, r3 = this.response, i3 = this.responseXML, o3 = this.responseText;
          try {
            if (_.opts.videoUploadToS3 || _.opts.videoUploadToAzure) if (201 == n3) {
              var s3;
              if (_.opts.videoUploadToAzure) {
                if (false === _.events.trigger("video.uploadedToAzure", [this.responseURL, a3, r3], true)) return _.edit.on(), false;
                s3 = t2;
              } else s3 = function c3(e2) {
                try {
                  var t3 = y2(e2).find("Location").text(), a4 = y2(e2).find("Key").text();
                  return false === _.events.trigger("video.uploadedToS3", [t3, a4, e2], true) ? (_.edit.on(), false) : t3;
                } catch (n4) {
                  return G(g2, e2), false;
                }
              }(i3);
              s3 && k(s3, false, [], e, r3 || i3);
            } else G(g2, r3 || i3);
            else if (200 <= n3 && n3 < 300) {
              var l3 = function d3(e2) {
                try {
                  if (false === _.events.trigger("video.uploaded", [e2], true)) return _.edit.on(), false;
                  var t3 = JSON.parse(e2);
                  return t3.link ? t3 : (G(p2, e2), false);
                } catch (a4) {
                  return G(g2, e2), false;
                }
              }(o3);
              l3 && k(l3.link, false, l3, e, r3 || o3);
            } else G(u2, r3 || o3);
          } catch (f3) {
            G(g2, r3 || o3);
          }
        }
        function L() {
          G(g2, this.response || this.responseText || this.responseXML);
        }
        function x(e) {
          if (e.lengthComputable) {
            var t2 = e.loaded / e.total * 100 | 0;
            b2(_.language.translate("Uploading"), t2);
          }
        }
        function I2() {
          _.edit.on(), l2(true);
        }
        function O2(e, t2, a3, n3) {
          var r3, i3, o3 = "";
          if (t2 && void 0 !== t2) for (r3 in t2) t2.hasOwnProperty(r3) && "link" != r3 && (o3 += " ".concat(r3, '="').concat(t2[r3], '"'));
          var s3 = _.opts.videoDefaultWidth;
          s3 && "auto" != s3 && (s3 = "".concat(s3, "px")), _.helpers.isMobile() && _.browser.safari && (o3 += " autoplay playsinline"), (i3 = "audio" == n3 ? y2(document.createElement("span")).attr("contenteditable", "false").attr("draggable", "true").attr("class", "fr-video fr-dv" + _.opts.videoDefaultDisplay[0] + ("center" != _.opts.videoDefaultAlign ? " fr-fv" + _.opts.videoDefaultAlign[0] : "")).html('<audio src="' + e + '" ' + o3 + " controls>" + _.language.translate("Your browser does not support HTML5 video.") + "</audio>") : y2(document.createElement("span")).attr("contenteditable", "false").attr("draggable", "true").attr("class", "fr-video fr-dv" + _.opts.videoDefaultDisplay[0] + ("center" != _.opts.videoDefaultAlign ? " fr-fv" + _.opts.videoDefaultAlign[0] : "")).html('<video src="' + e + '" ' + o3 + (s3 ? ' style="width: ' + s3 + ';" ' : "") + " controls>" + _.language.translate("Your browser does not support HTML5 video.") + "</video>")).toggleClass("fr-draggable", _.opts.videoMove), _.edit.on(), _.events.focus(true), _.selection.restore(), _.undo.saveStep(), _.opts.videoSplitHTML ? _.markers.split() : (_.cursor.enter(), _.markers.insert()), _.html.wrap();
          var l3 = _.$el.find(".fr-marker");
          return _.node.isLastSibling(l3) && l3.parent().hasClass("fr-deletable") && l3.insertAfter(l3.parent()), l3.replaceWith(i3), _.selection.clear(), "audio" !== n3 && (i3.find("video").get(0).readyState > i3.find("video").get(0).HAVE_FUTURE_DATA || _.helpers.isIOS() ? a3.call(i3.find("video").get(0)) : i3.find("video").on("canplaythrough load", a3)), i3;
        }
        function F(e) {
          if (!_.core.sameInstance(f2)) return true;
          e.preventDefault(), e.stopPropagation();
          var t2 = e.pageX || (e.originalEvent.touches ? e.originalEvent.touches[0].pageX : null), a3 = e.pageY || (e.originalEvent.touches ? e.originalEvent.touches[0].pageY : null);
          if (!t2 || !a3) return false;
          if ("mousedown" == e.type) {
            var n3 = _.$oel.get(0).ownerDocument, r3 = n3.defaultView || n3.parentWindow, i3 = false;
            try {
              i3 = r3.location != r3.parent.location && !(r3.$ && r3.$.FE);
            } catch (o3) {
            }
            i3 && r3.frameElement && (t2 += _.helpers.getPX(y2(r3.frameElement).offset().left) + r3.frameElement.clientLeft, a3 = e.clientY + _.helpers.getPX(y2(r3.frameElement).offset().top) + r3.frameElement.clientTop);
          }
          _.undo.canDo() || _.undo.saveStep(), (d2 = y2(this)).data("start-x", t2), d2.data("start-y", a3), s2.show(), _.popups.hideAll(), z();
        }
        function M(e) {
          if (!_.core.sameInstance(f2)) return true;
          if (d2) {
            e.preventDefault();
            var t2 = e.pageX || (e.originalEvent.touches ? e.originalEvent.touches[0].pageX : null), a3 = e.pageY || (e.originalEvent.touches ? e.originalEvent.touches[0].pageY : null);
            if (!t2 || !a3) return false;
            var n3 = d2.data("start-x"), r3 = d2.data("start-y");
            d2.data("start-x", t2), d2.data("start-y", a3);
            var i3 = t2 - n3, o3 = a3 - r3, s3 = w.find("iframe, embed, ".concat(w.find("iframe, embed, audio").get(0) ? "audio" : "video")), l3 = s3.width(), c3 = s3.height();
            (d2.hasClass("fr-hnw") || d2.hasClass("fr-hsw")) && (i3 = 0 - i3), (d2.hasClass("fr-hnw") || d2.hasClass("fr-hne")) && (o3 = 0 - o3), s3.css("width", l3 + i3), s3.css("height", c3 + o3), s3.removeAttr("width"), s3.removeAttr("height"), U();
          }
        }
        function N(e) {
          if (!_.core.sameInstance(f2)) return true;
          d2 && w && (e && e.stopPropagation(), d2 = null, s2.hide(), U(), i2(), _.undo.saveStep());
        }
        function D(e) {
          return '<div class="fr-handler fr-h'.concat(e, '"></div>');
        }
        function P(e, t2, a3, n3) {
          return e.pageX = t2, e.pageY = t2, F.call(this, e), e.pageX = e.pageX + a3 * Math.floor(Math.pow(1.1, n3)), e.pageY = e.pageY + a3 * Math.floor(Math.pow(1.1, n3)), M.call(this, e), N.call(this, e), ++n3;
        }
        function B() {
          var e, t2 = Array.prototype.slice.call(_.el.querySelectorAll("video, .fr-video > *")), a3 = [];
          for (e = 0; e < t2.length; e++) a3.push(t2[e].getAttribute("src")), y2(t2[e]).toggleClass("fr-draggable", _.opts.videoMove), "" === t2[e].getAttribute("class") && t2[e].removeAttribute("class"), "" === t2[e].getAttribute("style") && t2[e].removeAttribute("style");
          if (n2) for (e = 0; e < n2.length; e++) a3.indexOf(n2[e].getAttribute("src")) < 0 && _.events.trigger("video.removed", [y2(n2[e])]);
          n2 = t2;
        }
        function U() {
          f2 || function o3() {
            var e2;
            if (_.shared.$video_resizer ? (f2 = _.shared.$video_resizer, s2 = _.shared.$vid_overlay, _.events.on("destroy", function() {
              y2("body").first().append(f2.removeClass("fr-active"));
            }, true)) : (_.shared.$video_resizer = y2(document.createElement("div")).attr("class", "fr-video-resizer"), f2 = _.shared.$video_resizer, _.events.$on(f2, "mousedown", function(e3) {
              e3.stopPropagation();
            }, true), _.opts.videoResize && (f2.append(D("nw") + D("ne") + D("sw") + D("se")), _.shared.$vid_overlay = y2(document.createElement("div")).attr("class", "fr-video-overlay"), s2 = _.shared.$vid_overlay, e2 = f2.get(0).ownerDocument, y2(e2).find("body").first().append(s2))), _.events.on("shared.destroy", function() {
              f2.html("").removeData().remove(), f2 = null, _.opts.videoResize && (s2.remove(), s2 = null);
            }, true), _.helpers.isMobile() || _.events.$on(y2(_.o_win), "resize.video", function() {
              H(true);
            }), _.opts.videoResize) {
              e2 = f2.get(0).ownerDocument, _.events.$on(f2, _._mousedown, ".fr-handler", F), _.events.$on(y2(e2), _._mousemove, M), _.events.$on(y2(e2.defaultView || e2.parentWindow), _._mouseup, N), _.events.$on(s2, "mouseleave", N);
              var n3 = 1, r3 = null, i3 = 0;
              _.events.on("keydown", function(e3) {
                if (w) {
                  var t3 = -1 != navigator.userAgent.indexOf("Mac OS X") ? e3.metaKey : e3.ctrlKey, a4 = e3.which;
                  (a4 !== r3 || 200 < e3.timeStamp - i3) && (n3 = 1), (a4 == St.KEYCODE.EQUALS || _.browser.mozilla && a4 == St.KEYCODE.FF_EQUALS) && t3 && !e3.altKey ? n3 = P.call(this, e3, 1, 1, n3) : (a4 == St.KEYCODE.HYPHEN || _.browser.mozilla && a4 == St.KEYCODE.FF_HYPHEN) && t3 && !e3.altKey && (n3 = P.call(this, e3, 2, -1, n3)), r3 = a4, i3 = e3.timeStamp;
                }
              }), _.events.on("keyup", function() {
                n3 = 1;
              });
            }
          }(), (_.$wp || _.$sc).append(f2), f2.data("instance", _);
          var e = w.find("iframe, embed, ".concat(w.find("iframe, embed, audio").get(0) ? "audio" : "video")), t2 = 0, a3 = 0;
          _.opts.iframe && (a3 = _.helpers.getPX(_.$wp.find(".fr-iframe").css("padding-top")), t2 = _.helpers.getPX(_.$wp.find(".fr-iframe").css("padding-left"))), f2.css("top", (_.opts.iframe ? e.offset().top + a3 - 1 : e.offset().top - _.$wp.offset().top - 1) + _.$wp.scrollTop()).css("left", (_.opts.iframe ? e.offset().left + t2 - 1 : e.offset().left - _.$wp.offset().left - 1) + _.$wp.scrollLeft()).css("width", e.get(0).getBoundingClientRect().width).css("height", e.get(0).getBoundingClientRect().height).addClass("fr-active");
        }
        function t(e) {
          if (e && "touchend" == e.type && a2) return true;
          if (e && _.edit.isDisabled()) return e.stopPropagation(), e.preventDefault(), false;
          if (_.edit.isDisabled()) return false;
          for (var t2 = 0; t2 < St.INSTANCES.length; t2++) St.INSTANCES[t2] != _ && St.INSTANCES[t2].events.trigger("video.hideResizer");
          _.toolbar.disable(), _.helpers.isMobile() && (_.events.disableBlur(), _.$el.blur(), _.events.enableBlur()), _.$el.find(".fr-video.fr-active").removeClass("fr-active"), (w = y2(this)).addClass("fr-active"), _.opts.iframe && _.size.syncIframe(), te(), U(), i2(), _.selection.clear(), _.button.bulkRefresh(), _.events.trigger("image.hideResizer");
        }
        function H(e) {
          w && (function t2() {
            return _.shared.vid_exit_flag;
          }() || true === e) && (f2.removeClass("fr-active"), _.toolbar.enable(), w.removeClass("fr-active"), w = null, z());
        }
        function $() {
          _.shared.vid_exit_flag = true;
        }
        function z() {
          _.shared.vid_exit_flag = false;
        }
        function W(e) {
          var t2 = e.originalEvent.dataTransfer;
          if (t2 && t2.files && t2.files.length) {
            var a3 = t2.files[0];
            if (a3 && a3.type && -1 !== a3.type.indexOf("video")) {
              if (!_.opts.videoUpload) return e.preventDefault(), e.stopPropagation(), false;
              _.markers.remove(), _.markers.insertAtPoint(e.originalEvent), _.$el.find(".fr-marker").replaceWith(St.MARKERS), _.popups.hideAll();
              var n3 = _.popups.get("video.insert");
              return n3 || (n3 = o2()), _.popups.setContainer("video.insert", _.$sc), _.popups.show("video.insert", e.originalEvent.pageX, e.originalEvent.pageY), S(), 0 <= _.opts.videoAllowedTypes.indexOf(a3.type.replace(/video\//g, "")) ? K(t2.files) : G(T), e.preventDefault(), e.stopPropagation(), false;
            }
          }
        }
        function K(e) {
          if (void 0 !== e && 0 < e.length) {
            if (false === _.events.trigger("video.beforeUpload", [e])) return false;
            var t2, a3 = e[0];
            if (!(null !== _.opts.videoUploadURL && _.opts.videoUploadURL != A || _.opts.videoUploadToS3 || _.opts.videoUploadToAzure)) return function E3(n4) {
              w && w.find("iframe") && w.find("iframe").length && X();
              var r4 = new FileReader();
              r4.onload = function() {
                r4.result;
                for (var e2 = atob(r4.result.split(",")[1]), t3 = [], a4 = 0; a4 < e2.length; a4++) t3.push(e2.charCodeAt(a4));
                k(window.URL.createObjectURL(new Blob([new Uint8Array(t3)], { type: n4.type })), false, null, w);
              }, S(), r4.readAsDataURL(n4);
            }(a3), false;
            if (a3.size > _.opts.videoMaxSize) return G(C), false;
            if (_.opts.videoAllowedTypes.indexOf(a3.type.replace(/video\//g, "")) < 0) return G(T), false;
            if (_.drag_support.formdata && (t2 = _.drag_support.formdata ? new FormData() : null), t2) {
              var n3;
              if (false !== _.opts.videoUploadToS3) for (n3 in t2.append("key", _.opts.videoUploadToS3.keyStart + (/* @__PURE__ */ new Date()).getTime() + "-" + (a3.name || "untitled")), t2.append("success_action_status", "201"), t2.append("X-Requested-With", "xhr"), t2.append("Content-Type", a3.type), _.opts.videoUploadToS3.params) _.opts.videoUploadToS3.params.hasOwnProperty(n3) && t2.append(n3, _.opts.videoUploadToS3.params[n3]);
              for (n3 in _.opts.videoUploadParams) _.opts.videoUploadParams.hasOwnProperty(n3) && t2.append(n3, _.opts.videoUploadParams[n3]);
              t2.append(_.opts.videoUploadParam, a3);
              var r3, i3, o3 = _.opts.videoUploadURL;
              _.opts.videoUploadToS3 && (o3 = _.opts.videoUploadToS3.uploadURL ? _.opts.videoUploadToS3.uploadURL : "https://".concat(_.opts.videoUploadToS3.region, ".amazonaws.com/").concat(_.opts.videoUploadToS3.bucket));
              var s3 = _.opts.videoUploadMethod;
              _.opts.videoUploadToAzure && (o3 = _.opts.videoUploadToAzure.uploadURL ? "".concat(_.opts.videoUploadToAzure.uploadURL, "/").concat(a3.name) : encodeURI("https://".concat(_.opts.videoUploadToAzure.account, ".blob.core.windows.net/").concat(_.opts.videoUploadToAzure.container, "/").concat(a3.name)), r3 = o3, _.opts.videoUploadToAzure.SASToken && (o3 += _.opts.videoUploadToAzure.SASToken), s3 = "PUT");
              var l3 = _.core.getXHR(o3, s3);
              if (_.opts.videoUploadToAzure) {
                var c3 = (/* @__PURE__ */ new Date()).toUTCString();
                if (!_.opts.videoUploadToAzure.SASToken && _.opts.videoUploadToAzure.accessKey) {
                  var d3 = _.opts.videoUploadToAzure.account, f3 = _.opts.videoUploadToAzure.container;
                  if (_.opts.videoUploadToAzure.uploadURL) {
                    var p3 = _.opts.videoUploadToAzure.uploadURL.split("/");
                    f3 = p3.pop(), d3 = p3.pop().split(".")[0];
                  }
                  var u3 = "x-ms-blob-type:BlockBlob\nx-ms-date:".concat(c3, "\nx-ms-version:2019-07-07"), g3 = encodeURI("/" + d3 + "/" + f3 + "/" + a3.name), h3 = s3 + "\n\n\n" + a3.size + "\n\n" + a3.type + "\n\n\n\n\n\n\n" + u3 + "\n" + g3, m3 = _.cryptoJSPlugin.cryptoJS.HmacSHA256(h3, _.cryptoJSPlugin.cryptoJS.enc.Base64.parse(_.opts.videoUploadToAzure.accessKey)).toString(_.cryptoJSPlugin.cryptoJS.enc.Base64), v3 = "SharedKey " + d3 + ":" + m3;
                  i3 = m3, l3.setRequestHeader("Authorization", v3);
                }
                for (n3 in l3.setRequestHeader("x-ms-version", "2019-07-07"), l3.setRequestHeader("x-ms-date", c3), l3.setRequestHeader("Content-Type", a3.type), l3.setRequestHeader("x-ms-blob-type", "BlockBlob"), _.opts.videoUploadParams) _.opts.videoUploadParams.hasOwnProperty(n3) && l3.setRequestHeader(n3, _.opts.videoUploadParams[n3]);
                for (n3 in _.opts.videoUploadToAzure.params) _.opts.videoUploadToAzure.params.hasOwnProperty(n3) && l3.setRequestHeader(n3, _.opts.videoUploadToAzure.params[n3]);
              }
              l3.onload = function() {
                R.call(l3, w, r3, i3);
              }, l3.onerror = L, l3.upload.onprogress = x, l3.onabort = I2, S(), _.events.disableBlur(), _.edit.off(), _.events.enableBlur();
              var b3 = _.popups.get("video.insert");
              b3 && y2(b3.off("abortUpload")).on("abortUpload", function() {
                4 != l3.readyState && l3.abort();
              }), l3.send(_.opts.videoUploadToAzure ? a3 : t2);
            }
          }
        }
        function G(e, t2) {
          _.edit.on(), w && w.find("video").addClass("fr-error"), E2(_.language.translate("Something went wrong. Please try again.")), _.events.trigger("video.error", [{ code: e, message: r2[e] }, t2]);
        }
        function V() {
          if (w) {
            var e = _.popups.get("video.size"), t2 = w.find("iframe, embed, ".concat(w.find("iframe, embed, audio").get(0) ? "audio" : "video"));
            e.find('input[name="width"]').val(t2.get(0).style.width || t2.attr("width")).trigger("change"), e.find('input[name="height"]').val(t2.get(0).style.height || t2.attr("height")).trigger("change");
          }
        }
        function Y(e) {
          if (e) return _.popups.onRefresh("video.size", V), true;
          var t2 = { buttons: '<div class="fr-buttons fr-tabs">'.concat(_.button.buildList(_.opts.videoSizeButtons), "</div>"), size_layer: '<div class="fr-video-size-layer fr-layer fr-active" id="fr-video-size-layer-'.concat(_.id, '"><div class="fr-video-group"><div class="fr-input-line"><input id="fr-video-size-layer-width-').concat(_.id, '" type="text" name="width" placeholder="').concat(_.language.translate("Width"), '" tabIndex="1"></div><div class="fr-input-line"><input id="fr-video-size-layer-height-').concat(_.id, '" type="text" name="height" placeholder="').concat(_.language.translate("Height"), '" tabIndex="1"></div></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="videoSetSize" tabIndex="2" role="button">').concat(_.language.translate("Update"), "</button></div></div>") }, a3 = _.popups.create("video.size", t2);
          return _.events.$on(_.$wp, "scroll", function() {
            w && _.popups.isVisible("video.size") && (_.events.disableBlur(), c2(w));
          }), a3;
        }
        function j(e) {
          if (void 0 === e && (e = w), e) {
            if (e.hasClass("fr-fvl")) return "left";
            if (e.hasClass("fr-fvr")) return "right";
            if (e.hasClass("fr-dvb") || e.hasClass("fr-dvi")) return "center";
            if ("block" == e.css("display")) {
              if ("left" == e.css("text-algin")) return "left";
              if ("right" == e.css("text-align")) return "right";
            } else {
              if ("left" == e.css("float")) return "left";
              if ("right" == e.css("float")) return "right";
            }
          }
          return "center";
        }
        function q(e) {
          void 0 === e && (e = w);
          var t2 = e.css("float");
          return e.css("float", "none"), "block" == e.css("display") ? (e.css("float", ""), e.css("float") != t2 && e.css("float", t2), "block") : (e.css("float", ""), e.css("float") != t2 && e.css("float", t2), "inline");
        }
        function X() {
          if (w && false !== _.events.trigger("video.beforeRemove", [w])) {
            var e = w;
            if (_.popups.hideAll(), H(true), _.opts.trackChangesEnabled && (!e[0].parentNode || "SPAN" !== e[0].parentNode.tagName || !e[0].parentNode.hasAttribute("data-tracking"))) return void _.track_changes.removeSpecialItem(e);
            _.selection.setBefore(e.get(0)) || _.selection.setAfter(e.get(0)), e.remove(), _.selection.restore(), _.html.fillEmptyBlocks();
          }
        }
        function Z() {
          l2();
        }
        function Q(e, t2, a3) {
          !_.opts.htmlUntouched && _.opts.useClasses ? (e.removeClass("fr-fvl fr-fvr fr-dvb fr-dvi"), e.addClass("fr-fv".concat(a3[0], " fr-dv").concat(t2[0]))) : "inline" == t2 ? (e.css({ display: "inline-block" }), "center" == a3 ? e.css({ "float": "none" }) : "left" == a3 ? e.css({ "float": "left" }) : e.css({ "float": "right" })) : (e.css({ display: "block", clear: "both" }), "left" == a3 ? e.css({ textAlign: "left" }) : "right" == a3 ? e.css({ textAlign: "right" }) : e.css({ textAlign: "center" }));
        }
        function J() {
          var e = _.$el.find("video").filter(function() {
            return 0 === y2(this).parents("span.fr-video").length;
          });
          if (0 != e.length) {
            e.wrap(y2(document.createElement("span")).attr("class", "fr-video fr-deletable").attr("contenteditable", "false")), _.$el.find("embed, iframe").filter(function() {
              if (_.browser.safari && this.getAttribute("src") && this.setAttribute("src", this.src), 0 < y2(this).parents("span.fr-video").length) return false;
              for (var e2 = y2(this).attr("src"), t3 = 0; t3 < St.VIDEO_PROVIDERS.length; t3++) {
                var a4 = St.VIDEO_PROVIDERS[t3];
                if (a4.test_regex.test(e2) && new RegExp(_.opts.videoAllowedProviders.join("|")).test(a4.provider)) return true;
              }
              return false;
            }).map(function() {
              return 0 === y2(this).parents("object").length ? this : y2(this).parents("object").get(0);
            }).wrap(y2(document.createElement("span")).attr("class", "fr-video").attr("contenteditable", "false"));
            for (var t2, a3, n3, r3, i3 = _.$el.find("span.fr-video, video"), o3 = 0; o3 < i3.length; o3++) {
              var s3 = y2(i3[o3]);
              !_.opts.htmlUntouched && _.opts.useClasses ? ((r3 = s3).hasClass("fr-dvi") || r3.hasClass("fr-dvb") || (r3.addClass("fr-fv".concat(j(r3)[0])), r3.addClass("fr-dv".concat(q(r3)[0]))), _.opts.videoTextNear || s3.removeClass("fr-dvi").addClass("fr-dvb")) : _.opts.htmlUntouched || _.opts.useClasses || (void 0, a3 = (t2 = s3).hasClass("fr-dvb") ? "block" : t2.hasClass("fr-dvi") ? "inline" : null, n3 = t2.hasClass("fr-fvl") ? "left" : t2.hasClass("fr-fvr") ? "right" : j(t2), Q(t2, a3, n3), t2.removeClass("fr-dvb fr-dvi fr-fvr fr-fvl"));
            }
            i3.toggleClass("fr-draggable", _.opts.videoMove);
          }
        }
        function ee(e) {
          document.getElementById("autoplay-".concat(_.id)).style.cssText = "background:".concat(e);
        }
        function te() {
          if (w) {
            _.selection.clear();
            var e = _.doc.createRange();
            e.selectNode(w.get(0)), _.selection.get().addRange(e);
          }
        }
        return r2[1] = "Video cannot be loaded from the passed link.", r2[p2] = "No link in upload response.", r2[u2] = "Error during file upload.", r2[g2] = "Parsing response failed.", r2[C] = "File is too large.", r2[T] = "Video file type is invalid.", r2[7] = "Files can be uploaded only to same domain in IE 8 and IE 9.", _.shared.vid_exit_flag = false, { _init: function ae() {
          _.opts.videoResponsive && (_.opts.videoResize = false), function e() {
            _.events.on("drop", W, true), _.events.on("mousedown window.mousedown", $), _.events.on("window.touchmove", z), _.events.on("mouseup window.mouseup", H), _.events.on("commands.mousedown", function(e2) {
              0 < e2.parents(".fr-toolbar").length && H();
            }), _.events.on("video.hideResizer commands.undo commands.redo element.dropped", function() {
              H(true);
            }), _.events.on("filestack-init-video", function() {
              o2();
            });
          }(), _.helpers.isMobile() && (_.events.$on(_.$el, "touchstart", "span.fr-video", function() {
            a2 = false;
          }), _.events.$on(_.$el, "touchmove", function() {
            a2 = true;
          })), _.events.on("html.set", J), J(), _.events.$on(_.$el, "mousedown", "span.fr-video", function(e) {
            e.stopPropagation(), (_.browser.msie || _.browser.edge) && (e.target.innerText || (e.target.dragDrop(), t.call(this, e)));
          }), _.events.$on(_.$el, "click touchend", "span.fr-video", function(e) {
            if (e.target.innerText.length || "false" == y2(this).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable")) return true;
            t.call(this, e);
          }), _.events.on("keydown", function(e) {
            var t2 = e.which;
            return !w || t2 != St.KEYCODE.BACKSPACE && t2 != St.KEYCODE.DELETE ? w && t2 == St.KEYCODE.ESC ? (H(true), e.preventDefault(), false) : w && t2 != St.KEYCODE.F10 && !_.keys.isBrowserAction(e) ? (e.preventDefault(), false) : void 0 : (e.preventDefault(), X(), _.undo.saveStep(), false);
          }, true), _.events.on("toolbar.esc", function() {
            if (w) return _.events.disableBlur(), _.events.focus(), false;
          }, true), _.events.on("toolbar.focusEditor", function() {
            if (w) return false;
          }, true), _.events.on("keydown", function() {
            _.$el.find("span.fr-video:empty").remove();
          }), _.$wp && (B(), _.events.on("contentChanged", B)), o2(true), Y(true);
        }, showInsertPopup: function ne() {
          var e = _.$tb.find('.fr-command[data-cmd="insertVideo"]'), t2 = _.popups.get("video.insert");
          if (t2 || (t2 = o2()), l2(), !t2.hasClass("fr-active")) if (_.popups.refresh("video.insert"), _.popups.setContainer("video.insert", _.$tb), e.isVisible()) {
            var a3 = _.button.getPosition(e), n3 = a3.left, r3 = a3.top;
            _.popups.show("video.insert", n3, r3, e.outerHeight());
          } else _.position.forSelection(t2), _.popups.show("video.insert");
        }, showLayer: function re(e) {
          var t2, a3, n3 = _.popups.get("video.insert");
          if (!w && !_.opts.toolbarInline) {
            var r3 = _.$tb.find('.fr-command[data-cmd="insertVideo"]');
            t2 = r3.offset().left, a3 = r3.offset().top + (_.opts.toolbarBottom ? 10 : r3.outerHeight() - 10);
          }
          _.opts.toolbarInline && (a3 = n3.offset().top - _.helpers.getPX(n3.css("margin-top")), n3.hasClass("fr-above") && (a3 += n3.outerHeight())), n3.find(".fr-layer").removeClass("fr-active"), n3.find(".fr-".concat(e, "-layer")).addClass("fr-active"), _.popups.show("video.insert", t2, a3, 0), _.accessibility.focusPopup(n3);
        }, refreshByURLButton: function ie(e) {
          var t2 = _.popups.get("video.insert");
          t2 && t2.find(".fr-video-by-url-layer").hasClass("fr-active") && e.addClass("fr-active").attr("aria-pressed", true);
        }, refreshEmbedButton: function oe(e) {
          var t2 = _.popups.get("video.insert");
          t2 && t2.find(".fr-video-embed-layer").hasClass("fr-active") && e.addClass("fr-active").attr("aria-pressed", true);
        }, refreshUploadButton: function se(e) {
          var t2 = _.popups.get("video.insert");
          t2 && t2.find(".fr-video-upload-layer").hasClass("fr-active") && e.addClass("fr-active").attr("aria-pressed", true);
        }, upload: K, insertByURL: function le(e) {
          var t2 = !!document.getElementById("videoPluginAutoplay") && document.getElementById("videoPluginAutoplay").checked;
          if (void 0 === e) {
            var a3 = (e = (_.popups.get("video.insert").find('.fr-video-by-url-layer input[type="text"]').val() || "").trim()).match(/(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/?(showcase\/)*([0-9))([a-z]*\/)*([0-9]{6,11})[?]?.*/);
            if (a3 && 7 == a3.length) {
              var n3 = a3[6], r3 = e.substring(0, e.lastIndexOf("/")), i3 = e.substring(e.lastIndexOf("/") + 1, e.length);
              e = i3.includes("?h=") || i3.includes("?v=") || n3 === i3 ? ("".concat(r3, "/").concat(i3) || "").trim() : ("".concat(r3, "?h=").concat(i3) || "").trim();
            }
          }
          var o3 = null;
          if (/^http/.test(e) || (e = "https://".concat(e)), _.helpers.isURL(e)) for (var s3 = 0; s3 < St.VIDEO_PROVIDERS.length; s3++) {
            var l3 = St.VIDEO_PROVIDERS[s3], c3 = "autoplay=1&mute=1";
            if (l3.html.includes("autoplay=1") && document.getElementById("videoPluginAutoplay").checked) l3.html = l3.html, document.getElementById("videoPluginAutoplay").checked = false;
            else if (t2) {
              var d3 = l3.html.indexOf("{url}") + 5;
              l3.html = [l3.html.slice(0, d3), c3, l3.html.slice(d3)].join(""), t2 = false, document.getElementById("videoPluginAutoplay").checked = false;
            } else (l3 = St.VIDEO_PROVIDERS[s3]).html = l3.html.replace(c3, "");
            if (l3.test_regex.test(e) && new RegExp(_.opts.videoAllowedProviders.join("|")).test(l3.provider)) {
              o3 = e.replace(l3.url_regex, l3.url_text), o3 = l3.html.replace(/\{url\}/, o3);
              break;
            }
          }
          o3 ? m2(o3) : (E2(_.language.translate("Something went wrong. Please try again.")), _.events.trigger("video.linkError", [e]));
        }, insertEmbed: function ce(e) {
          void 0 === e && (e = _.popups.get("video.insert").find(".fr-video-embed-layer textarea").val() || ""), 0 !== e.length && St.VIDEO_EMBED_REGEX.test(e) ? m2(e) : (E2(_.language.translate("Something went wrong. Please try again.")), _.events.trigger("video.codeError", [e]));
        }, insert: m2, align: function de(e) {
          w.removeClass("fr-fvr fr-fvl"), !_.opts.htmlUntouched && _.opts.useClasses ? "left" == e ? w.addClass("fr-fvl") : "right" == e && w.addClass("fr-fvr") : Q(w, q(), e), te(), U(), i2(), _.selection.clear();
        }, refreshAlign: function fe(e) {
          if (!w) return false;
          e.find(">*").first().replaceWith(_.icon.create("video-align-".concat(j())));
        }, refreshAlignOnShow: function pe(e, t2) {
          w && t2.find('.fr-command[data-param1="'.concat(j(), '"]')).addClass("fr-active").attr("aria-selected", true);
        }, display: function ue(e) {
          w.removeClass("fr-dvi fr-dvb"), !_.opts.htmlUntouched && _.opts.useClasses ? "inline" == e ? w.addClass("fr-dvi") : "block" == e && w.addClass("fr-dvb") : Q(w, e, j()), te(), U(), i2(), _.selection.clear();
        }, refreshDisplayOnShow: function ge(e, t2) {
          w && t2.find('.fr-command[data-param1="'.concat(q(), '"]')).addClass("fr-active").attr("aria-selected", true);
        }, remove: X, hideProgressBar: l2, showSizePopup: function he() {
          var e = _.popups.get("video.size");
          e || (e = Y()), l2(), _.popups.refresh("video.size"), _.popups.setContainer("video.size", _.$sc);
          var t2 = w.find("iframe, embed, ".concat(w.find("iframe, embed, audio").get(0) ? "audio" : "video")), a3 = t2.offset().left + t2.outerWidth() / 2, n3 = t2.offset().top + t2.height();
          _.popups.show("video.size", a3, n3, t2.height(), true);
        }, replace: function me() {
          var e = _.popups.get("video.insert");
          e || (e = o2()), _.popups.isVisible("video.insert") || (l2(), _.popups.refresh("video.insert"), _.popups.setContainer("video.insert", _.$sc));
          var t2 = w.offset().left + w.outerWidth() / 2, a3 = w.offset().top + w.height();
          _.popups.show("video.insert", t2, a3, w.outerHeight(), true);
        }, back: function e() {
          w ? (_.events.disableBlur(), w[0].click()) : (_.events.disableBlur(), _.selection.restore(), _.events.enableBlur(), _.popups.hide("video.insert"), _.toolbar.showInline());
        }, setSize: function ve(e, t2) {
          if (w) {
            var a3 = _.popups.get("video.size"), n3 = w.find("iframe, embed, ".concat(w.find("iframe, embed, audio").get(0) ? "audio" : "video"));
            n3.css("width", e || a3.find('input[name="width"]').val()), n3.css("height", t2 || a3.find('input[name="height"]').val()), n3.get(0).style.width && n3.removeAttr("width"), n3.get(0).style.height && n3.removeAttr("height"), a3.find("input:focus").blur(), setTimeout(function() {
              w.trigger("click");
            }, _.helpers.isAndroid() ? 50 : 0);
          }
        }, get: function be() {
          return w;
        }, showProgressBar: S, _editVideo: c2, setAutoplay: function Ee() {
          var e;
          if (w.find("iframe, embed, audio").get(0)) (e = w.find("iframe, embed, audio")).get(0).src.includes("autoplay=1") ? (ee("#FFFFFF"), e.get(0).src = e.get(0).src.replace("&autoplay=1", "")) : (ee("#D6D6D6"), e.get(0).src = e.get(0).src + "&autoplay=1");
          else if ((e = w.find("iframe, embed, video")).get(0).outerHTML.includes("autoplay")) ee("#FFFFFF"), e.get(0).outerHTML = e.get(0).outerHTML.replace("autoplay", "");
          else {
            ee("#D6D6D6");
            var t2 = e.get(0).outerHTML.indexOf("class") - 1;
            e.get(0).outerHTML = [e.get(0).outerHTML.slice(0, t2), "autoplay", e.get(0).outerHTML.slice(t2)].join("");
          }
        }, insertHtmlVideo: k };
      }, St.RegisterCommand("insertVideo", { title: "Insert Video", undo: false, focus: true, refreshAfterCallback: false, popup: true, callback: function() {
        this.popups.isVisible("video.insert") ? (this.$el.find(".fr-marker").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide("video.insert")) : this.video.showInsertPopup();
      }, plugin: "video" }), St.DefineIcon("insertVideo", { NAME: "video-camera", FA5NAME: "camera", SVG_KEY: "insertVideo" }), St.DefineIcon("videoByURL", { NAME: "link", SVG_KEY: "insertLink" }), St.RegisterCommand("videoByURL", { title: "By URL", undo: false, focus: false, toggle: true, callback: function() {
        this.video.showLayer("video-by-url");
      }, refresh: function(e) {
        this.video.refreshByURLButton(e);
      } }), St.DefineIcon("videoEmbed", { NAME: "code", SVG_KEY: "codeView" }), St.RegisterCommand("videoEmbed", { title: "Embedded Code", undo: false, focus: false, toggle: true, callback: function() {
        this.video.showLayer("video-embed");
      }, refresh: function(e) {
        this.video.refreshEmbedButton(e);
      } }), St.DefineIcon("videoUpload", { NAME: "upload", SVG_KEY: "upload" }), St.RegisterCommand("videoUpload", { title: "Upload Video", undo: false, focus: false, toggle: true, callback: function() {
        this.video.showLayer("video-upload");
      }, refresh: function(e) {
        this.video.refreshUploadButton(e);
      } }), St.RegisterCommand("videoInsertByURL", { undo: true, focus: true, callback: function() {
        this.video.insertByURL();
      } }), St.RegisterCommand("videoInsertEmbed", { undo: true, focus: true, callback: function() {
        this.video.insertEmbed();
      } }), St.DefineIcon("videoDisplay", { NAME: "star", SVG_KEY: "star" }), St.RegisterCommand("videoDisplay", { title: "Display", type: "dropdown", options: { inline: "Inline", block: "Break Text" }, callback: function(e, t) {
        this.video.display(t);
      }, refresh: function(e) {
        this.opts.videoTextNear || e.addClass("fr-hidden");
      }, refreshOnShow: function(e, t) {
        this.video.refreshDisplayOnShow(e, t);
      } }), St.DefineIcon("video-align", { NAME: "align-left", SVG_KEY: "align Left" }), St.DefineIcon("video-align-left", { NAME: "align-left", SVG_KEY: "alignLeft" }), St.DefineIcon("video-align-right", { NAME: "align-right", SVG_KEY: "alignRight" }), St.DefineIcon("video-align-center", { NAME: "align-justify", SVG_KEY: "alignJustify" }), St.DefineIcon("videoAlign", { NAME: "align-center", SVG_KEY: "alignCenter" }), St.RegisterCommand("videoAlign", { type: "dropdown", title: "Align", options: { left: "Align Left", center: "None", right: "Align Right" }, html: function() {
        var e = '<ul class="fr-dropdown-list" role="presentation">', t = St.COMMANDS.videoAlign.options;
        for (var a2 in t) t.hasOwnProperty(a2) && (e += '<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="videoAlign" data-param1="'.concat(a2, '" title="').concat(this.language.translate(t[a2]), '">').concat(this.icon.create("video-align-".concat(a2)), '<span class="fr-sr-only">').concat(this.language.translate(t[a2]), "</span></a></li>"));
        return e += "</ul>";
      }, callback: function(e, t) {
        this.video.align(t);
      }, refresh: function(e) {
        this.video.refreshAlign(e);
      }, refreshOnShow: function(e, t) {
        this.video.refreshAlignOnShow(e, t);
      } }), St.DefineIcon("videoReplace", { NAME: "exchange", FA5NAME: "exchange-alt", SVG_KEY: "replaceImage" }), St.RegisterCommand("videoReplace", { title: "Replace", undo: false, focus: false, popup: true, refreshAfterCallback: false, callback: function() {
        this.video.replace();
      } }), St.DefineIcon("videoRemove", { NAME: "trash", SVG_KEY: "remove" }), St.RegisterCommand("videoRemove", { title: "Remove", callback: function() {
        this.video.remove();
      } }), St.DefineIcon("autoplay", { NAME: "autoplay", SVG_KEY: "autoplay" }), St.RegisterCommand("autoplay", { undo: false, focus: false, popup: true, title: "Autoplay", callback: function() {
        this.video.setAutoplay();
      } }), St.DefineIcon("videoSize", { NAME: "arrows-alt", SVG_KEY: "imageSize" }), St.RegisterCommand("videoSize", { undo: false, focus: false, popup: true, title: "Change Size", callback: function() {
        this.video.showSizePopup();
      } }), St.DefineIcon("videoBack", { NAME: "arrow-left", SVG_KEY: "back" }), St.RegisterCommand("videoBack", { title: "Back", undo: false, focus: false, back: true, callback: function() {
        this.video.back();
      }, refresh: function(e) {
        this.video.get() || this.opts.toolbarInline ? (e.removeClass("fr-hidden"), e.next().hasClass("fr-separator") && e.next().removeClass("fr-hidden")) : (e.addClass("fr-hidden"), e.next().hasClass("fr-separator") && e.next().addClass("fr-hidden"));
      } }), St.RegisterCommand("videoDismissError", { title: "OK", undo: false, callback: function() {
        this.video.hideProgressBar(true);
      } }), St.RegisterCommand("videoSetSize", { undo: true, focus: false, title: "Update", refreshAfterCallback: false, callback: function() {
        this.video.setSize();
      } }), Object.assign(St.DEFAULTS, { wordDeniedTags: [], wordDeniedAttrs: [], wordAllowedStyleProps: ["font-family", "font-size", "background", "color", "width", "text-align", "vertical-align", "background-color", "padding", "margin", "height", "margin-top", "margin-left", "margin-right", "margin-bottom", "text-decoration", "font-weight", "font-style", "text-indent", "border", "border-.*", "line-height", "list-style-type"], wordPasteModal: true, wordPasteKeepFormatting: true }), St.PLUGINS.wordPaste = function(y2) {
        var o2, r2, A, M = y2.$, s2 = "word_paste", g2 = {}, C = true;
        function t(e) {
          var t2 = y2.opts.wordAllowedStyleProps;
          e || (y2.opts.wordAllowedStyleProps = []), 0 === r2.indexOf("<colgroup>") && (r2 = "<table>" + r2 + "</table>"), r2 = i2(r2 = r2.replace(/<span[\n\r ]*style='mso-spacerun:yes'>([\r\n\u00a0 ]*)<\/span>/g, function(e2, t3) {
            for (var a3 = "", n2 = 0; n2++ < t3.length; ) a3 += "&nbsp;";
            return a3;
          }), y2.paste.getRtfClipboard());
          var a2 = y2.doc.createElement("DIV");
          a2.innerHTML = r2, y2.html.cleanBlankSpaces(a2), r2 = a2.innerHTML, r2 = (r2 = y2.paste.cleanEmptyTagsAndDivs(r2)).replace(/\u200b/g, ""), function n2() {
            y2.modals.hide(s2);
          }(), y2.helpers.isMobile() && y2.events.focus(), y2.paste.clean(r2, true, true), y2.opts.wordAllowedStyleProps = t2;
        }
        function T(e) {
          e.parentNode && e.parentNode.removeChild(e);
        }
        function h2(e, t2) {
          if (t2(e)) for (var a2 = e.firstChild; a2; ) {
            var n2 = a2, r3 = a2.previousSibling;
            a2 = a2.nextSibling, h2(n2, t2), n2.previousSibling || n2.nextSibling || n2.parentNode || !a2 || r3 === a2.previousSibling || !a2.parentNode ? n2.previousSibling || n2.nextSibling || n2.parentNode || !a2 || a2.previousSibling || a2.nextSibling || a2.parentNode || (r3 ? a2 = r3.nextSibling ? r3.nextSibling.nextSibling : null : e.firstChild && (a2 = e.firstChild.nextSibling)) : a2 = r3 ? r3.nextSibling : e.firstChild;
          }
        }
        function N(e) {
          return M(e).hasClass("ListContainerWrapper") && 0 < M(e).find("ol").length;
        }
        function D(e) {
          return M(e).hasClass("ListContainerWrapper") && 0 < M(e).find("ul").length;
        }
        function P(e) {
          if (N(e) || D(e)) return true;
          if (!e.getAttribute("style") || !/mso-list:[\s]*l/gi.test(e.getAttribute("style").replace(/\n/gi, ""))) return false;
          try {
            if (!e.querySelector('[style="mso-list:Ignore"]')) return !!(e.outerHTML && 0 <= e.outerHTML.indexOf("<!--[if !supportLists]-->"));
          } catch (t2) {
            return false;
          }
          return true;
        }
        var m2 = null, v2 = {};
        function B(e) {
          var t2;
          if (N(e) || D(e)) t2 = M(e).find("li").attr("data-aria-level");
          else {
            var a2, n2, r3 = (null === (a2 = e.getAttribute("style")) || void 0 === a2 ? void 0 : a2.replace(/\n/g, "")) || "", i3 = m2 && (null === (n2 = m2.getAttribute("style")) || void 0 === n2 ? void 0 : n2.replace(/\n/g, "")) || "", o3 = r3.match(/mso-list:(\s*l([0-9]+)\s*level([0-9]+)\s*)lfo([0-9]+)/i), s3 = i3.match(/mso-list:(\s*l([0-9]+)\s*level([0-9]+)\s*)lfo([0-9]+)/i);
            if (o3) {
              if (v2[o3[1]]) return m2 = e, v2[o3[1]].toString();
              var l2 = s3 && s3[2], c3 = o3[2], d2 = i3 && v2[s3[1]] || 0;
              t2 = l2 && l2 !== c3 && parseFloat(m2.style.marginLeft) < parseFloat(e.style.marginLeft) ? (d2 + parseInt(o3[3])).toString() : o3[3], v2[o3[1]] = parseInt(t2);
            } else t2 = r3.replace(/.*level([0-9]+?).*/gi, "$1");
          }
          return m2 = e, t2;
        }
        function U(e, n2) {
          var t2 = e.cloneNode(true);
          if (-1 !== ["H1", "H2", "H3", "H4", "H5", "H6"].indexOf(e.tagName)) {
            var a2 = document.createElement(e.tagName.toLowerCase());
            a2.setAttribute("style", e.getAttribute("style")), a2.innerHTML = t2.innerHTML, t2.innerHTML = a2.outerHTML;
          }
          h2(t2, function(e2) {
            if (e2.nodeType == Node.COMMENT_NODE && (y2.browser.msie || y2.browser.safari || y2.browser.edge)) try {
              if ("[if !supportLists]" === e2.data) {
                for (e2 = e2.nextSibling; e2 && e2.nodeType !== Node.COMMENT_NODE; ) {
                  var t3 = e2.nextSibling;
                  e2.parentNode.removeChild(e2), e2 = t3;
                }
                e2 && e2.nodeType == Node.COMMENT_NODE && e2.parentNode.removeChild(e2);
              }
            } catch (a3) {
              return false;
            }
            return e2.nodeType === Node.ELEMENT_NODE && ("mso-list:\nIgnore" === e2.getAttribute("style") && e2.setAttribute("style", "mso-list:Ignore"), "mso-list:Ignore" === e2.getAttribute("style") && e2.parentNode.removeChild(e2), e2.setAttribute("style", b2(e2)), L(e2, n2)), true;
          });
          var r3 = N(e) ? M(e).find("li").get(0).innerHTML : t2.innerHTML;
          if (N(e) || D(e)) {
            r3 = "";
            for (var i3 = M(e).find("li"), o3 = 0; o3 < i3.length; o3++) {
              var s3 = M(i3.get(o3).innerHTML);
              s3.find("span").each(function() {
                "&nbsp;" === M(this).html() && (0 < M(this).prev().text().trim().length ? M(this).remove() : M(this).html("&ZeroWidthSpace;"));
              });
              var l2 = i3[o3].style.marginLeft;
              l2 ? (l2 = parseFloat(parseFloat(l2).toFixed(2)) + l2.match(/[a-zA-Z]+/g)[0], r3 += '<li style = "margin-left: '.concat(l2, ';">').concat(s3.get(0).innerHTML, "</li>")) : r3 += "<li >".concat(s3.get(0).innerHTML, "</li>");
            }
          } else {
            var c3, d2 = null === (c3 = M(e).find("p").get(0)) || void 0 === c3 ? void 0 : c3.style.marginLeft;
            r3 = d2 ? (d2 = parseFloat(parseFloat(d2).toFixed(2)) + d2.match(/[a-zA-Z]+/g)[0], '<li style = "margin-left: '.concat(d2, ';">').concat(r3, "</li>")) : "<li>".concat(r3, "</li>");
          }
          return r3 = r3.replace(/<!--[\s\S]*?-->/gi, "");
        }
        function b2(e) {
          var t2 = 1 < arguments.length && arguments[1] !== void 0 ? arguments[1] : null, a2 = "", n2 = ["line-height", "font-family", "font-size", "color", "background"].concat(ye(t2 || [])), r3 = e.getAttribute("style");
          return r3 && n2.forEach(function(t3) {
            var e2 = r3.split(";").find(function(e3) {
              return e3.trim().includes(t3 + ":");
            });
            e2 && (e2.includes("mso") && (e2 = e2.match(new RegExp(t3 + ":.*(;|)"))[0]), e2.trim().startsWith(t3) && (a2 += e2 + ";"));
          }), a2;
        }
        function E2(e, t2) {
          for (var a2 = document.createElement(t2), n2 = 0; n2 < e.attributes.length; n2++) {
            var r3 = e.attributes[n2].name;
            "FONT" === e.tagName && (y2.browser.msie && ["id", "class", "style"].indexOf(r3) < 0 || !y2.browser.msie && CSS.supports(r3, e.getAttribute(r3))) ? M(a2).css(r3, e.getAttribute(r3)) : a2.setAttribute(r3, e.getAttribute(r3));
          }
          return a2.innerHTML = e.innerHTML, e.parentNode.replaceChild(a2, e), a2;
        }
        function _(e, t2) {
          y2.node.clearAttributes(e);
          for (var a2 = e.firstElementChild, n2 = 0, r3 = false, i3 = null; a2; ) {
            if (a2.firstElementChild && -1 !== a2.firstElementChild.tagName.indexOf("W:")) for (var o3 = 0; o3 < a2.children.length; o3++) `<('[^']*'|"[^"]*"|[^"'>])*>` == a2.children[o3] && (a2.innerHTML += a2.children[o3]);
            (i3 = a2.getAttribute("width")) || (i3 = a2.style.width), i3 || r3 || (r3 = true), n2 += parseInt(i3, 10), (!a2.firstChild || a2.firstChild && a2.firstChild.data === St.UNICODE_NBSP) && (a2.firstChild && T(a2.firstChild), a2.innerHTML = "<br>");
            for (var s3 = a2.firstElementChild, l2 = 1 === a2.children.length; s3; ) "P" !== s3.tagName || P(s3) || l2 && k(s3), s3 = s3.nextElementSibling;
            if (t2) {
              var c3 = a2.getAttribute("class");
              if (c3) {
                var d2 = (c3 = S(c3)).match(/xl[0-9]+/gi);
                if (d2) {
                  var f2 = "." + d2[0];
                  t2[f2] && R(a2, t2[f2]);
                }
              }
              t2.td && R(a2, t2.td);
            }
            var p2 = a2.getAttribute("style");
            p2 && (p2 = S(p2)) && ";" !== p2.slice(-1) && (p2 += ";");
            var u3 = a2.getAttribute("valign");
            if (!u3 && p2) {
              var g3 = p2.match(/vertical-align:.+?[; "]{1,1}/gi);
              g3 && (u3 = g3[g3.length - 1].replace(/vertical-align:(.+?)[; "]{1,1}/gi, "$1"));
            }
            var h3 = null;
            if (p2) {
              var m3 = p2.match(/text-align:.+?[; "]{1,1}/gi);
              m3 && (h3 = m3[m3.length - 1].replace(/text-align:(.+?)[; "]{1,1}/gi, "$1")), "general" === h3 && (h3 = null);
            }
            var v3 = null;
            if (p2) {
              var b3 = p2.match(/background:.+?[; "]{1,1}/gi);
              b3 && (v3 = b3[b3.length - 1].replace(/background:(.+?)[; "]{1,1}/gi, "$1"));
            }
            var E3 = a2.getAttribute("colspan"), _2 = a2.getAttribute("rowspan");
            E3 && a2.setAttribute("colspan", E3), _2 && a2.setAttribute("rowspan", _2), u3 && (a2.style["vertical-align"] = u3), h3 && (a2.style["text-align"] = h3), v3 && (a2.style["background-color"] = v3), i3 && a2.setAttribute("width", i3), a2 = a2.nextElementSibling;
          }
          for (a2 = e.firstElementChild; a2; ) i3 = a2.getAttribute("width"), r3 && a2.removeAttribute("width"), a2 = a2.nextElementSibling;
          e.previousSibling ? A != n2 && (C = false) : A = n2, e.nextElementSibling || function w2(e2) {
            var t3 = e2.closest("table"), a3 = 0, r4 = function r5() {
              var n4 = 0;
              Array.from(e2.children).forEach(function(e3) {
                var t4 = parseInt(e3.getAttribute("width"), 10);
                isNaN(t4) || (n4 += t4);
              }), a3 < n4 && (a3 = n4), C ? Array.from(e2.children).forEach(function(e3) {
                var t4 = parseInt(e3.getAttribute("width"), 10);
                if (!isNaN(t4) && 0 < n4) {
                  var a4 = 100 * t4 / n4;
                  e3.setAttribute("width", "".concat(a4, "%"));
                }
              }) : Array.from(e2.children).forEach(function(e3) {
                var t4 = parseInt(e3.getAttribute("width"), 10);
                isNaN(t4) || e3.setAttribute("width", "".concat(t4, "px"));
              }), e2 = e2.previousElementSibling;
            };
            for (; e2; ) r4();
            if (t3 && 0 < a3) {
              var n3 = parseInt(t3.style.width, 10);
              (isNaN(n3) || 0 === n3) && (t3.style.width = "".concat(a3, "px"));
            }
          }(e);
        }
        function k(e) {
          var t2 = e.getAttribute("align");
          t2 && (e.style["text-align"] = t2, e.removeAttribute("align"));
        }
        function S(e) {
          return e.replace(/\n|\r|\n\r|&quot;/g, "");
        }
        function R(e, t2, a2) {
          if (t2) {
            var n2 = e.getAttribute("style");
            n2 && ";" !== n2.slice(-1) && (n2 += ";"), t2 && ";" !== t2.slice(-1) && (t2 += ";"), t2 = t2.replace(/\n/gi, "");
            var r3 = null;
            r3 = a2 ? (n2 || "") + t2 : t2 + (n2 || ""), e.setAttribute("style", r3);
          }
        }
        var u2 = null;
        function c2(e, t2, a2) {
          for (var n2 = e.split(a2), r3 = 1; r3 < n2.length; r3++) {
            var i3 = n2[r3];
            if (1 < (i3 = i3.split("shplid")).length) {
              i3 = i3[1];
              for (var o3 = "", s3 = 0; s3 < i3.length && "\\" !== i3[s3] && "{" !== i3[s3] && " " !== i3[s3] && "\r" !== i3[s3] && "\n" !== i3[s3]; ) o3 += i3[s3], s3++;
              var l2 = i3.split("bliptag");
              if (l2 && l2.length < 2) continue;
              var c3 = null;
              if (-1 !== l2[0].indexOf("pngblip") ? c3 = "image/png" : -1 !== l2[0].indexOf("jpegblip") && (c3 = "image/jpeg"), !c3) continue;
              var d2 = l2[1].split("}");
              if (d2 && d2.length < 2) continue;
              var f2 = void 0;
              if (2 < d2.length && -1 !== d2[0].indexOf("blipuid")) f2 = d2[1].split(" ");
              else {
                if ((f2 = d2[0].split(" ")) && f2.length < 2) continue;
                f2.shift();
              }
              var p2 = f2.join("");
              u2[t2 + o3] = { image_hex: p2, image_type: c3 };
            }
          }
        }
        function w(e, t2) {
          if (t2) {
            var a2;
            if ("IMG" === e.tagName) {
              var n2 = e.getAttribute("src");
              if (!n2 || -1 === n2.indexOf("file://")) return;
              if (0 === n2.indexOf("file://") && y2.helpers.isURL(e.getAttribute("alt"))) return void e.setAttribute("src", e.getAttribute("alt"));
              (a2 = g2[e.getAttribute("v:shapes")]) || (a2 = e.getAttribute("v:shapes"), e.parentNode && e.parentNode.parentNode && 0 <= e.parentNode.parentNode.innerHTML.indexOf("msEquation") && (a2 = null));
            } else a2 = e.parentNode.getAttribute("o:spid");
            if (e.removeAttribute("height"), a2) {
              !function s3(e2) {
                u2 = {}, c2(e2, "i", "\\shppict"), c2(e2, "s", "\\shp{");
              }(t2);
              var r3 = u2[a2.substring(7)];
              if (r3) {
                var i3 = function l2(e2) {
                  for (var t3 = e2.match(/[0-9a-f]{2}/gi), a3 = [], n3 = 0; n3 < t3.length; n3++) a3.push(String.fromCharCode(parseInt(t3[n3], 16)));
                  var r4 = a3.join("");
                  return btoa(r4);
                }(r3.image_hex), o3 = "data:" + r3.image_type + ";base64," + i3;
                "IMG" === e.tagName ? (e.src = o3, e.setAttribute("data-fr-image-pasted", true)) : M(e).parent().before('<img data-fr-image-pasted="true" src="'.concat(o3, '" style="').concat(e.parentNode.getAttribute("style"), '">')).remove();
              }
            }
          }
        }
        function L(e, t2) {
          var a2 = e.tagName, n2 = a2.toLowerCase();
          e.firstElementChild && ("I" === e.firstElementChild.tagName ? E2(e.firstElementChild, "em") : "B" === e.firstElementChild.tagName && E2(e.firstElementChild, "strong"));
          if (-1 !== ["SCRIPT", "APPLET", "EMBED", "NOFRAMES", "NOSCRIPT"].indexOf(a2)) return T(e), false;
          for (var r3 = ["META", "LINK", "XML", "ST1:", "O:", "W:", "FONT"], i3 = 0; i3 < r3.length; i3++) if (-1 !== a2.indexOf(r3[i3])) return e.innerHTML && (e.outerHTML = e.innerHTML), T(e), false;
          if ("TD" !== a2) {
            var o3 = e.getAttribute("class") || "MsoNormal";
            if (t2 && o3) {
              for (var s3 = (o3 = S(o3)).split(" "), l2 = 0; l2 < s3.length; l2++) {
                var c3 = [], d2 = "." + s3[l2];
                c3.push(d2), d2 = n2 + d2, c3.push(d2);
                for (var f2 = 0; f2 < c3.length; f2++) t2[c3[f2]] && R(e, t2[c3[f2]]);
              }
              e.removeAttribute("class");
            }
            t2 && t2[n2] && R(e, t2[n2]);
          }
          if (-1 !== ["P", "H1", "H2", "H3", "H4", "H5", "H6", "PRE"].indexOf(a2)) {
            var p2 = e.getAttribute("class");
            if (p2 && (t2 && t2[a2.toLowerCase() + "." + p2] && R(e, t2[a2.toLowerCase() + "." + p2]), -1 !== p2.toLowerCase().indexOf("mso"))) {
              var u3 = S(p2);
              (u3 = u3.replace(/[0-9a-z-_]*mso[0-9a-z-_]*/gi, "")) ? e.setAttribute("class", u3) : e.removeAttribute("class");
            }
            var g3 = e.getAttribute("style");
            if (g3) {
              var h3 = g3.match(/text-align:.+?[; "]{1,1}/gi);
              h3 && h3[h3.length - 1].replace(/(text-align:.+?[; "]{1,1})/gi, "$1");
            }
            k(e);
          }
          if ("TR" === a2 && _(e, t2), "A" !== a2 || e.attributes.getNamedItem("href") || e.attributes.getNamedItem("name") || !e.innerHTML || (e.outerHTML = e.innerHTML), "A" == a2 && e.getAttribute("href") && e.querySelector("img")) for (var m3 = e.querySelectorAll("span"), v3 = 0; v3 < m3.length; v3++) m3[v3].innerText || (m3[v3].outerHTML = m3[v3].innerHTML);
          if ("TD" !== a2 && "TH" !== a2 || e.innerHTML || (e.innerHTML = "<br>"), e.getAttribute("lang") && e.removeAttribute("lang"), e.getAttribute("style") && -1 !== e.getAttribute("style").toLowerCase().indexOf("mso")) {
            var b3 = S(e.getAttribute("style"));
            (b3 = b3.replace(/[0-9a-z-_]*mso[0-9a-z-_]*:.+?(;{1,1}|$)/gi, "").replace("line-height:107%", "")) ? e.setAttribute("style", b3) : e.removeAttribute("style");
          }
          return true;
        }
        function i2(e, t2) {
          0 <= e.indexOf("<html") && (e = e.replace(/[.\s\S\w\W<>]*(<html[^>]*>[.\s\S\w\W<>]*<\/html>)[.\s\S\w\W<>]*/i, "$1"));
          var l2 = e.match(/(MSFontService|class="?Mso|class='?Mso|class="?Xl|class='?Xl|class=Xl|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument|LibreOffice)/gi);
          !function f2(e2) {
            for (var t3 = e2.split("v:shape"), a3 = 1; a3 < t3.length; a3++) {
              var n3 = t3[a3], r4 = n3.split(' id="')[1];
              if (r4 && 1 < r4.length) {
                r4 = r4.split('"')[0];
                var i4 = n3.split(' o:spid="')[1];
                i4 && 1 < i4.length && (i4 = i4.split('"')[0], g2[r4] = i4);
              }
            }
          }(e);
          var a2 = new DOMParser().parseFromString(e, "text/html"), n2 = a2.head, r3 = a2.body, c3 = function p2(e2) {
            var t3 = {}, a3 = e2.getElementsByTagName("style");
            if (a3.length) {
              var n3 = a3[0].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi);
              if (n3) for (var r4 = 0; r4 < n3.length; r4++) {
                var i4 = n3[r4], o4 = i4.replace(/([\S ]+\s+){[\s\S]+?}/gi, "$1"), s4 = i4.replace(/[\S ]+\s+{([\s\S]+?)}/gi, "$1");
                o4 = o4.replace(/^[\s]|[\s]$/gm, ""), s4 = s4.replace(/^[\s]|[\s]$/gm, ""), o4 = o4.replace(/\n|\r|\n\r/g, ""), s4 = s4.replace(/\n|\r|\n\r/g, "");
                for (var l3 = o4.split(", "), c4 = 0; c4 < l3.length; c4++) t3[l3[c4]] = s4;
              }
            }
            return t3;
          }(n2);
          h2(r3, function(e2) {
            if (e2.nodeType === Node.ELEMENT_NODE && e2.hasAttribute("style")) {
              var t3 = e2.getAttribute("style");
              e2.setAttribute("style", t3), e2.style.fontFamily || e2.setAttribute("style", function a3(e3) {
                return e3.replace(/mso-(bidi|fareast|fareast-theme)-font-family/g, "font-family");
              }(t3));
            }
            return true;
          }), h2(r3, function(e2) {
            if (e2.nodeType === Node.TEXT_NODE && /\n|\u00a0|\r/.test(e2.data)) {
              if (!/\S| /.test(e2.data) && !/[\u00a0]+/.test(e2.data)) return e2.data === St.UNICODE_NBSP ? (e2.data = "​", true) : 1 === e2.data.length && 10 === e2.data.charCodeAt(0) ? (e2.data = " ", true) : (T(e2), false);
              e2.data = e2.data.replace(/\n|\r/gi, " ");
            }
            return true;
          }), h2(r3, function(e2) {
            return e2.nodeType !== Node.ELEMENT_NODE || "V:IMAGEDATA" !== e2.tagName && "IMG" !== e2.tagName || w(e2, t2), true;
          });
          for (var i3 = r3.querySelectorAll("ul > ul, ul > ol, ol > ul, ol > ol"), o3 = i3.length - 1; 0 <= o3; o3--) i3[o3].previousElementSibling && "LI" === i3[o3].previousElementSibling.tagName && i3[o3].previousElementSibling.appendChild(i3[o3]);
          h2(r3, function(e2) {
            if (e2.nodeType === Node.TEXT_NODE) return e2.data = e2.data.replace(/<br>(\n|\r)/gi, "<br>"), false;
            if (e2.nodeType === Node.ELEMENT_NODE) {
              if (P(e2)) {
                var t3 = e2.parentNode, a3 = e2.previousSibling, n3 = function F(e3, t4, a4, n4) {
                  var r5, i5, o5, s4, l3, c4, d3, f2 = navigator.userAgent.toLowerCase();
                  -1 != f2.indexOf("safari") && (f2 = -1 < f2.indexOf("chrome") ? 1 : "safari"), e3.innerHTML.includes("mso-list:\nIgnore") && (e3.innerHTML = e3.innerHTML.replace(/mso-list:\nIgnore/gi, "mso-list:Ignore"));
                  var p2, u3, g3, h3, m3 = /[0-9a-zA-Z]./gi, v3 = "", b3 = N(e3), E3 = null === (r5 = M(e3).find("ol")) || void 0 === r5 || null === (r5 = r5.attr("style")) || void 0 === r5 || null === (r5 = r5.split(";")) || void 0 === r5 ? void 0 : r5.find(function(e4) {
                    return e4.trim().startsWith("list-style-type");
                  });
                  E3 == void 0 && D(e3) && (E3 = null === (u3 = M(e3).find("ul")) || void 0 === u3 || null === (u3 = u3.attr("style")) || void 0 === u3 || null === (u3 = u3.split(";")) || void 0 === u3 ? void 0 : u3.find(function(e4) {
                    return e4.trim().startsWith("list-style-type");
                  }));
                  if (b3) c4 = "ol", d3 = E3 ? "list-style-type: " + E3.replace("list-style-type:", "").trim() + ";" : "";
                  else if (D(e3)) c4 = "ul", d3 = E3 ? "list-style-type: " + E3.replace("list-style-type:", "").trim() + ";" : "";
                  else {
                    var _2 = e3.querySelector('span[style="mso-list:Ignore"]');
                    null == _2 && "safari" == f2 && (_2 = e3.querySelector('span[lang="PT-BR"]'));
                    var w2 = false;
                    _2 && (w2 = w2 || m3.test(_2.textContent)), null !== _2 && (p2 = _2.textContent.trim().split(".")[0]), c4 = 1 == w2 ? (p2 = (p2 = _2.textContent.trim().split(".")[0]).replace(/\(([^)]+)\)/g, "$1"), isNaN(parseInt(p2)) ? /^(m{0,4}(cm|cd|d?c{0,3})(xc|xl|l?x{0,3})(ix|iv|v?i{0,3}))$/.test(p2) ? (d3 = "lower-roman;", e3.nextElementSibling && 1 === e3.nextElementSibling.textContent.trim().split(".")[0].length && (d3 = "lower-alpha;")) : /^(M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3}))$/.test(p2) ? (d3 = "upper-roman;", e3.nextElementSibling && 1 === e3.nextElementSibling.textContent.trim().split(".")[0].length && (d3 = "upper-alpha;")) : "o" == p2 ? d3 = "circle;" : p2.match(/^v$/) || (p2.match(/^[a-z]$/) || p2.match(/^[a-z]\)$/) ? d3 = "lower-alpha;" : (p2.match(/^[A-Z]$/) || p2.match(/^[A-Z]\)$/)) && (d3 = "upper-alpha;")) : d3 = "decimal;", d3 = "list-style-type: " + d3, "ol") : (null != _2 && (p2 = _2.textContent.trim().split(".")[0]), "§" == p2 ? d3 = "square;" : "·" == p2 && (d3 = "disc;"), d3 = "list-style-type: " + d3, "ul"), _2 == void 0 || _2.textContent == void 0 || isNaN(parseInt(_2.textContent.trim().split(".")[1], 10)) || (v3 = ' class="decimal_type" ');
                  }
                  var y3 = 1, A2 = "", C2 = (B(e3), e3.style.marginLeft), T2 = "";
                  C2.includes("in") ? (T2 = "in", C2 = parseFloat(C2) - 0.5) : C2.includes("pt") && (T2 = "px", C2 = parseFloat(C2) - 10), C2 && (h3 = " margin-left: " + C2 + T2 + ";"), y3 = "list-style-type: upper-alpha;" == d3 ? b3 ? parseInt(M(e3).find("ol").attr("start")) : p2.charCodeAt(0) - 64 : "list-style-type: lower-alpha;" == d3 ? b3 ? parseInt(M(e3).find("ol").attr("start")) : p2.charCodeAt(0) - 96 : "list-style-type: upper-roman;" == d3 || "list-style-type: lower-roman;" == d3 ? b3 ? parseInt(M(e3).find("ol").attr("start")) : function O2(e4) {
                    for (var t5 = { I: 1, V: 5, X: 10, L: 50, C: 100, D: 500, M: 1e3, i: 1, v: 5, x: 10, l: 50, c: 100, d: 500, m: 1e3 }, a5 = 0, n5 = 0, r6 = e4.length - 1; 0 <= r6; r6--) {
                      var i6 = t5[e4[r6]];
                      n5 <= i6 ? a5 += i6 : a5 -= i6, n5 = i6;
                    }
                    return a5;
                  }(p2) : b3 ? parseInt(M(e3).find("ol").attr("start")) : parseInt(p2), A2 += d3 || "", A2 += h3 || "", g3 = "<" + c4, "none" === e3.style.display && (g3 += ' class="fr-mso-hidden"'), g3 += v3 || "", g3 += "ol" != c4 || 1 == y3 || isNaN(y3) ? "" : ' start = "' + y3 + '"', g3 += A2 ? ' style = "' + A2 + '"' : "", g3 += ">";
                  for (var k2 = false; e3; ) {
                    if (!P(e3)) {
                      if (e3.outerHTML && 0 < e3.outerHTML.indexOf("mso-bookmark") && 0 == (e3.textContent || "").length) {
                        e3 = e3.nextElementSibling;
                        continue;
                      }
                      break;
                    }
                    var S2 = B(e3);
                    if ((a4 = a4 || S2) < S2) g3 += (l3 = F(e3, t4, S2, e3.style.marginLeft)).el.outerHTML, e3 = l3.currentNode;
                    else {
                      if (S2 < a4) break;
                      e3.firstElementChild && e3.firstElementChild.firstElementChild && e3.firstElementChild.firstElementChild.firstChild && (m3.lastIndex = 0), o5 && o5.firstElementChild && o5.firstElementChild.firstElementChild && o5.firstElementChild.firstElementChild.firstChild && (m3.lastIndex = 0, i5 = m3.test(o5.firstElementChild.firstElementChild.firstChild.data || o5.firstElementChild.firstElementChild.firstChild.firstChild && o5.firstElementChild.firstElementChild.firstChild.firstChild.data || ""));
                      var R2 = false, L2 = o5 && B(o5);
                      (!n4 && !e3.style.marginLeft || n4 && e3.style.marginLeft && n4 === e3.style.marginLeft || L2 && L2 === S2) && (R2 = true), n4 = e3.style.marginLeft, R2 || i5 === void 0 ? (s4 = U(e3, t4), e3.nextSibling && e3.nextSibling.innerText != void 0 && e3.nextSibling.innerText != void 0 && !g3.includes('class="decimal_type"') && (isNaN(parseInt(e3.nextSibling.innerText.trim().split(".")[1], 10)) || (g3 = g3.substring(3, 0) + ' class="decimal_type"' + g3.substring(3, g3.length))), g3 += s4) : (1 == S2 && (g3 += "</" + c4 + ">", k2 = true, o5 = null), g3 += (l3 = F(e3, t4, S2, e3.style.marginLeft)).el.outerHTML, e3 = l3.currentNode);
                      var x = e3 && e3.nextElementSibling;
                      if (x && (o5 = x.previousElementSibling), e3 && !P(e3)) {
                        if (e3.outerHTML && 0 < e3.outerHTML.indexOf("mso-bookmark") && 0 == (e3.textContent || "").length) {
                          e3 = e3.nextElementSibling;
                          continue;
                        }
                        break;
                      }
                      e3 && e3.parentNode && e3.parentNode.removeChild(e3), e3 = x;
                    }
                  }
                  k2 || (g3 += "</" + c4 + ">");
                  var I2 = document.createElement("div");
                  return I2.innerHTML = g3, { el: I2, currentNode: e3 };
                }(e2, c3).el, r4 = null;
                return (r4 = a3 ? a3.nextSibling : t3.firstChild) ? t3.insertBefore(n3, r4) : t3.appendChild(n3), false;
              }
              return "FONT" === e2.tagName && (l2 && "LibreOffice" === l2[0] || c3["." + e2.getAttribute("class")]) ? e2 = E2(e2, "span") : l2 && "<!--StartFragment-->" === l2[0] && "UL" === e2.tagName && (M(e2).find("li span").each(function() {
                "&nbsp;" === M(this).html() && (0 < M(this).prev().text().trim().length ? M(this).remove() : M(this).html("&ZeroWidthSpace;"));
              }), M(e2).is("ul") && e2.setAttribute("style", b2(e2, ["margin", "margin-left", "list-style-type"])), M(e2).find("ul").each(function() {
                this.setAttribute("style", b2(this, ["margin", "margin-left", "list-style-type"]));
              })), "img" !== e2.tagName.toLowerCase() && function s4(t4) {
                Array.from(t4.attributes).map(function(e3) {
                  return e3.name;
                }).filter(function(e3) {
                  return e3.toLowerCase().startsWith("data-") || e3.toLowerCase().startsWith("xml:");
                }).forEach(function(e3) {
                  M(t4).removeAttr(e3);
                });
              }(e2), L(e2, c3);
            }
            if (e2.nodeType !== Node.COMMENT_NODE) return true;
            if (-1 < e2.data.indexOf("[if !supportLineBreakNewLine]")) for (var i4 = e2.nextSibling; i4; ) (i4 = e2.nextSibling) && T(i4), i4.data && -1 < i4.data.indexOf("[endif]") && (i4 = null);
            if (-1 < e2.data.indexOf("[if supportFields]") && -1 < e2.data.indexOf("FORMCHECKBOX")) {
              var o4 = document.createElement("input");
              o4.type = "checkbox", e2.parentNode.insertBefore(o4, e2.nextSibling);
            }
            return T(e2), false;
          }), m2 = null, v2 = {}, r3.innerHTML = function u3(e2) {
            var t3 = M(document.createElement("div")).attr("id", "top-level");
            t3.html(e2);
            for (var a3 = t3[0].querySelectorAll("ol, ul"), n3 = 0; n3 < a3.length; n3++) if (M(a3[n3]).parentsUntil("#top-level", "ol, ul").length) {
              a3[n3].style.removeProperty("margin-left");
              for (var r4 = a3[n3].children, i4 = 0; i4 < r4.length; i4++) "LI" == r4[i4].tagName && r4[i4].style.removeProperty("margin-left");
            }
            return t3[0].innerHTML;
          }(r3.innerHTML), h2(r3, function(e2) {
            if (e2.nodeType === Node.ELEMENT_NODE) {
              var t3 = e2.tagName;
              if (!e2.innerHTML && -1 === ["BR", "IMG", "INPUT"].indexOf(t3)) {
                for (var a3 = e2.parentNode; a3 && (T(e2), !(e2 = a3).innerHTML) && "TD" !== e2.parentNode.tagName; ) a3 = e2.parentNode;
                return false;
              }
              !function f2(e3) {
                var t4 = e3.getAttribute("style");
                if (t4) {
                  (t4 = S(t4)) && ";" !== t4.slice(-1) && (t4 += ";");
                  var a4 = t4.match(/(^|\S+?):.+?;{1,1}/gi);
                  if (a4) {
                    for (var n3 = {}, r4 = 0; r4 < a4.length; r4++) {
                      var i4 = a4[r4].split(":");
                      2 === i4.length && ("text-align" === i4[0] && "SPAN" === e3.tagName || (n3[i4[0]] = i4[1]));
                    }
                    var o4 = "";
                    for (var s4 in n3) if (n3.hasOwnProperty(s4)) {
                      if ("font-size" === s4 && "pt;" === n3[s4].slice(-3)) {
                        var l3 = null;
                        try {
                          l3 = parseFloat(n3[s4].slice(0, -3), 10);
                        } catch (d3) {
                          l3 = null;
                        }
                        if (l3) {
                          var c4 = y2.opts.fontSizeUnit;
                          "px" === c4 ? (l3 = Math.round(1.33 * l3), n3[s4] = l3 + "px;") : "pt" === c4 && (l3 = Math.round(l3), n3[s4] = l3 + "pt;");
                        }
                      }
                      o4 += s4 + ":" + n3[s4];
                    }
                    o4 && e3.setAttribute("style", o4);
                  }
                }
              }(e2);
            }
            return true;
          }), h2(r3, function(e2) {
            if (e2 && "A" === e2.nodeName) {
              if (e2.hasAttribute("name") && e2.getAttribute("name").startsWith("_Toc") && e2.parentNode && (e2.parentNode.id = e2.getAttribute("name")), "" === e2.href) {
                for (var t3 = document.createDocumentFragment(); e2.firstChild; ) t3.appendChild(e2.firstChild);
                e2.parentNode.replaceChild(t3, e2);
              }
              e2.hasAttribute("href") && e2.getAttribute("href").startsWith("#_Toc") && (e2.removeChild(e2.lastChild), e2.removeChild(e2.lastChild));
            }
            return true;
          }), h2(r3, function(e2) {
            return e2 && "P" === e2.tagName && "DIV" === e2.parentNode.tagName && 1 == e2.parentNode.children.length && M(e2).unwrap(), true;
          }), h2(r3, function(e2) {
            if (e2 && "SPAN" === e2.tagName) for (; e2.nextSibling && e2.nextSibling.nodeType === Node.ELEMENT_NODE && "SPAN" === e2.nextSibling.tagName && e2.getAttribute("style") === e2.nextSibling.getAttribute("style"); ) M(e2).append(e2.nextSibling.innerHTML), M(e2.nextSibling).remove();
            return true;
          });
          var s3 = r3.outerHTML, d2 = y2.opts.htmlAllowedStyleProps;
          return y2.opts.htmlAllowedStyleProps = y2.opts.wordAllowedStyleProps, s3 = y2.clean.html(s3, y2.opts.wordDeniedTags, y2.opts.wordDeniedAttrs, false), y2.opts.htmlAllowedStyleProps = d2, s3;
        }
        return { _init: function e() {
          y2.events.on("paste.wordPaste", function(e2) {
            return r2 = e2, y2.opts.wordPasteModal ? function i3() {
              if (!o2) {
                var e3 = '<h4><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 74.95 73.23" style="height: 25px; vertical-align: text-bottom; margin-right: 5px; display: inline-block"><defs><style>.a{fill:#2a5699;}.b{fill:#fff;}</style></defs><path class="a" d="M615.15,827.22h5.09V834c9.11.05,18.21-.09,27.32.05a2.93,2.93,0,0,1,3.29,3.25c.14,16.77,0,33.56.09,50.33-.09,1.72.17,3.63-.83,5.15-1.24.89-2.85.78-4.3.84-8.52,0-17,0-25.56,0v6.81h-5.32c-13-2.37-26-4.54-38.94-6.81q0-29.8,0-59.59c13.05-2.28,26.11-4.5,39.17-6.83Z" transform="translate(-575.97 -827.22)"/><path class="b" d="M620.24,836.59h28.1v54.49h-28.1v-6.81h22.14v-3.41H620.24v-4.26h22.14V873.2H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24v-4.26h22.14v-3.41H620.24V846h22.14v-3.41H620.24Zm-26.67,15c1.62-.09,3.24-.16,4.85-.25,1.13,5.75,2.29,11.49,3.52,17.21,1-5.91,2-11.8,3.06-17.7,1.7-.06,3.41-.15,5.1-.26-1.92,8.25-3.61,16.57-5.71,24.77-1.42.74-3.55,0-5.24.09-1.13-5.64-2.45-11.24-3.47-16.9-1,5.5-2.29,10.95-3.43,16.42q-2.45-.13-4.92-.3c-1.41-7.49-3.07-14.93-4.39-22.44l4.38-.18c.88,5.42,1.87,10.82,2.64,16.25,1.2-5.57,2.43-11.14,3.62-16.71Z" transform="translate(-575.97 -827.22)"/></svg> ' + y2.language.translate("Word Paste Detected") + "</h4>", t2 = function r3() {
                  var e4 = '<div class="fr-word-paste-modal" style="padding: 20px 20px 10px 20px;">';
                  return e4 += '<p style="text-align: left;">' + y2.language.translate("The pasted content is coming from a Microsoft Word document. Do you want to keep the format or clean it up?") + "</p>", e4 += '<div style="text-align: right; margin-top: 50px;"><button class="fr-remove-word fr-command">' + y2.language.translate("Clean") + '</button> <button class="fr-keep-word fr-command">' + y2.language.translate("Keep") + "</button></div>", e4 += "</div>";
                }(), a2 = y2.modals.create(s2, e3, t2), n2 = a2.$body;
                o2 = a2.$modal, a2.$modal.addClass("fr-middle"), y2.events.bindClick(n2, "button.fr-remove-word", function() {
                  var e4 = o2.data("instance") || y2;
                  e4.wordPaste.clean();
                }), y2.events.bindClick(n2, "button.fr-keep-word", function() {
                  var e4 = o2.data("instance") || y2;
                  e4.wordPaste.clean(true);
                }), y2.events.$on(M(y2.o_win), "resize", function() {
                  y2.modals.resize(s2);
                });
              }
              y2.modals.show(s2), y2.modals.resize(s2);
            }() : t(y2.opts.wordPasteKeepFormatting), false;
          });
        }, clean: t, _wordClean: i2 };
      };
      var y = {}, a = {}, p = {}, u = n(true), g = "vanilla", h = { github: { omitExtraWLInCodeBlocks: true, simplifiedAutoLink: true, excludeTrailingPunctuationFromURLs: true, literalMidWordUnderscores: true, strikethrough: true, tables: true, tablesHeaderId: true, ghCodeBlocks: true, tasklists: true, disableForced4SpacesIndentedSublists: true, simpleLineBreaks: true, requireSpaceBeforeHeadingText: true, ghCompatibleHeaderId: true, ghMentions: true, backslashEscapesHTMLTags: true, emoji: true, splitAdjacentBlockquotes: true }, original: { noHeaderId: true, ghCodeBlocks: false }, ghost: { omitExtraWLInCodeBlocks: true, parseImgDimensions: true, simplifiedAutoLink: true, excludeTrailingPunctuationFromURLs: true, literalMidWordUnderscores: true, strikethrough: true, tables: true, tablesHeaderId: true, ghCodeBlocks: true, tasklists: true, smoothLivePreview: true, simpleLineBreaks: true, requireSpaceBeforeHeadingText: true, ghMentions: false, encodeEmails: true }, vanilla: n(true), allOn: function _() {
        var e = n(true), t = {};
        for (var a2 in e) e.hasOwnProperty(a2) && (t[a2] = true);
        return t;
      }() };
      function m(e, t) {
        var a2 = t ? "Error in " + t + " extension->" : "Error in unnamed extension", n2 = { valid: true, error: "" };
        y.helper.isArray(e) || (e = [e]);
        for (var r2 = 0; r2 < e.length; ++r2) {
          var i2 = a2 + " sub-extension " + r2 + ": ", o2 = e[r2];
          if ("object" !== Rt(o2)) return n2.valid = false, n2.error = i2 + "must be an object, but " + Rt(o2) + " given", n2;
          if (!y.helper.isString(o2.type)) return n2.valid = false, n2.error = i2 + 'property "type" must be a string, but ' + Rt(o2.type) + " given", n2;
          var s2 = o2.type = o2.type.toLowerCase();
          if ("language" === s2 && (s2 = o2.type = "lang"), "html" === s2 && (s2 = o2.type = "output"), "lang" !== s2 && "output" !== s2 && "listener" !== s2) return n2.valid = false, n2.error = i2 + "type " + s2 + ' is not recognized. Valid values: "lang/language", "output/html" or "listener"', n2;
          if ("listener" === s2) {
            if (y.helper.isUndefined(o2.listeners)) return n2.valid = false, n2.error = i2 + '. Extensions of type "listener" must have a property called "listeners"', n2;
          } else if (y.helper.isUndefined(o2.filter) && y.helper.isUndefined(o2.regex)) return n2.valid = false, n2.error = i2 + s2 + ' extensions must define either a "regex" property or a "filter" method', n2;
          if (o2.listeners) {
            if ("object" !== Rt(o2.listeners)) return n2.valid = false, n2.error = i2 + '"listeners" property must be an object but ' + Rt(o2.listeners) + " given", n2;
            for (var l2 in o2.listeners) if (o2.listeners.hasOwnProperty(l2) && "function" != typeof o2.listeners[l2]) return n2.valid = false, n2.error = i2 + '"listeners" property must be an hash of [event name]: [callback]. listeners.' + l2 + " must be a function but " + Rt(o2.listeners[l2]) + " given", n2;
          }
          if (o2.filter) {
            if ("function" != typeof o2.filter) return n2.valid = false, n2.error = i2 + '"filter" must be a function, but ' + Rt(o2.filter) + " given", n2;
          } else if (o2.regex) {
            if (y.helper.isString(o2.regex) && (o2.regex = new RegExp(o2.regex, "g")), !(o2.regex instanceof RegExp)) return n2.valid = false, n2.error = i2 + '"regex" property must either be a string or a RegExp object, but ' + Rt(o2.regex) + " given", n2;
            if (y.helper.isUndefined(o2.replace)) return n2.valid = false, n2.error = i2 + '"regex" extensions must implement a replace string or function', n2;
          }
        }
        return n2;
      }
      function i(e, t) {
        return "¨E" + t.charCodeAt(0) + "E";
      }
      y.helper = {}, y.extensions = {}, y.setOption = function(e, t) {
        return u[e] = t, this;
      }, y.getOption = function(e) {
        return u[e];
      }, y.getOptions = function() {
        return u;
      }, y.resetOptions = function() {
        u = n(true);
      }, y.setFlavor = function(e) {
        if (!h.hasOwnProperty(e)) throw Error(e + " flavor was not found");
        y.resetOptions();
        var t = h[e];
        for (var a2 in g = e, t) t.hasOwnProperty(a2) && (u[a2] = t[a2]);
      }, y.getFlavor = function() {
        return g;
      }, y.getFlavorOptions = function(e) {
        if (h.hasOwnProperty(e)) return h[e];
      }, y.getDefaultOptions = function(e) {
        return n(e);
      }, y.subParser = function(e, t) {
        if (y.helper.isString(e)) {
          if (void 0 === t) {
            if (a.hasOwnProperty(e)) return a[e];
            throw Error("SubParser named " + e + " not registered!");
          }
          a[e] = t;
        }
      }, y.extension = function(e, t) {
        if (!y.helper.isString(e)) throw Error("Extension 'name' must be a string");
        if (e = y.helper.stdExtName(e), y.helper.isUndefined(t)) {
          if (!p.hasOwnProperty(e)) throw Error("Extension named " + e + " is not registered!");
          return p[e];
        }
        "function" == typeof t && (t = t()), y.helper.isArray(t) || (t = [t]);
        var a2 = m(t, e);
        if (!a2.valid) throw Error(a2.error);
        p[e] = t;
      }, y.getAllExtensions = function() {
        return p;
      }, y.removeExtension = function(e) {
        delete p[e];
      }, y.resetExtensions = function() {
        p = {};
      }, y.validateExtension = function(e) {
        var t = m(e, null);
        return !!t.valid;
      }, y.hasOwnProperty("helper") || (y.helper = {}), y.helper.isString = function(e) {
        return "string" == typeof e || e instanceof String;
      }, y.helper.isFunction = function(e) {
        return e && "[object Function]" === {}.toString.call(e);
      }, y.helper.isArray = function(e) {
        return Array.isArray(e);
      }, y.helper.isUndefined = function(e) {
        return void 0 === e;
      }, y.helper.forEach = function(e, t) {
        if (y.helper.isUndefined(e)) throw new Error("obj param is required");
        if (y.helper.isUndefined(t)) throw new Error("callback param is required");
        if (!y.helper.isFunction(t)) throw new Error("callback param must be a function/closure");
        if ("function" == typeof e.forEach) e.forEach(t);
        else if (y.helper.isArray(e)) for (var a2 = 0; a2 < e.length; a2++) t(e[a2], a2, e);
        else {
          if ("object" !== Rt(e)) throw new Error("obj does not seem to be an array or an iterable object");
          for (var n2 in e) e.hasOwnProperty(n2) && t(e[n2], n2, e);
        }
      }, y.helper.stdExtName = function(e) {
        return e.replace(/[_?*+\/\\.^-]/g, "").replace(/\s/g, "").toLowerCase();
      }, y.helper.escapeCharactersCallback = i, y.helper.escapeCharacters = function(e, t, a2) {
        var n2 = "([" + t.replace(/([\[\]\\])/g, "\\$1") + "])";
        a2 && (n2 = "\\\\" + n2);
        var r2 = new RegExp(n2, "g");
        return e = e.replace(r2, i);
      }, y.helper.unescapeHTMLEntities = function(e) {
        return e.replace(/&quot;/g, '"').replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&amp;/g, "&");
      };
      var v = function v2(e, t, a2, n2) {
        var r2, i2, o2, s2, l2, c2 = n2 || "", d2 = -1 < c2.indexOf("g"), f2 = new RegExp(t + "|" + a2, "g" + c2.replace(/g/g, "")), p2 = new RegExp(t, c2.replace(/g/g, "")), u2 = [];
        do {
          for (r2 = 0; o2 = f2.exec(e); ) if (p2.test(o2[0])) r2++ || (s2 = (i2 = f2.lastIndex) - o2[0].length);
          else if (r2 && !--r2) {
            l2 = o2.index + o2[0].length;
            var g2 = { left: { start: s2, end: i2 }, match: { start: i2, end: o2.index }, right: { start: o2.index, end: l2 }, wholeMatch: { start: s2, end: l2 } };
            if (u2.push(g2), !d2) return u2;
          }
        } while (r2 && (f2.lastIndex = i2));
        return u2;
      };
      y.helper.matchRecursiveRegExp = function(e, t, a2, n2) {
        for (var r2 = v(e, t, a2, n2), i2 = [], o2 = 0; o2 < r2.length; ++o2) i2.push([e.slice(r2[o2].wholeMatch.start, r2[o2].wholeMatch.end), e.slice(r2[o2].match.start, r2[o2].match.end), e.slice(r2[o2].left.start, r2[o2].left.end), e.slice(r2[o2].right.start, r2[o2].right.end)]);
        return i2;
      }, y.helper.replaceRecursiveRegExp = function(e, t, a2, n2, r2) {
        if (!y.helper.isFunction(t)) {
          var i2 = t;
          t = function t2() {
            return i2;
          };
        }
        var o2 = v(e, a2, n2, r2), s2 = e, l2 = o2.length;
        if (0 < l2) {
          var c2 = [];
          0 !== o2[0].wholeMatch.start && c2.push(e.slice(0, o2[0].wholeMatch.start));
          for (var d2 = 0; d2 < l2; ++d2) c2.push(t(e.slice(o2[d2].wholeMatch.start, o2[d2].wholeMatch.end), e.slice(o2[d2].match.start, o2[d2].match.end), e.slice(o2[d2].left.start, o2[d2].left.end), e.slice(o2[d2].right.start, o2[d2].right.end))), d2 < l2 - 1 && c2.push(e.slice(o2[d2].wholeMatch.end, o2[d2 + 1].wholeMatch.start));
          o2[l2 - 1].wholeMatch.end < e.length && c2.push(e.slice(o2[l2 - 1].wholeMatch.end)), s2 = c2.join("");
        }
        return s2;
      }, y.helper.regexIndexOf = function(e, t, a2) {
        if (!y.helper.isString(e)) throw "InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";
        if (t instanceof RegExp == false) throw "InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";
        var n2 = e.substring(a2 || 0).search(t);
        return 0 <= n2 ? n2 + (a2 || 0) : n2;
      }, y.helper.splitAtIndex = function(e, t) {
        if (!y.helper.isString(e)) throw "InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";
        return [e.substring(0, t), e.substring(t)];
      }, y.helper.encodeEmailAddress = function(e) {
        var a2 = [function(e2) {
          return "&#" + e2.charCodeAt(0) + ";";
        }, function(e2) {
          return "&#x" + e2.charCodeAt(0).toString(16) + ";";
        }, function(e2) {
          return e2;
        }];
        return e = e.replace(/./g, function(e2) {
          if ("@" === e2) e2 = a2[Math.floor(2 * Math.random())](e2);
          else {
            var t = Math.random();
            e2 = 0.9 < t ? a2[2](e2) : 0.45 < t ? a2[1](e2) : a2[0](e2);
          }
          return e2;
        });
      }, y.helper.padEnd = function(e, t, a2) {
        return t >>= 0, a2 = String(a2 || " "), e.length > t ? String(e) : ((t -= e.length) > a2.length && (a2 += a2.repeat(t / a2.length)), String(e) + a2.slice(0, t));
      }, "undefined" == typeof console && (console = { warn: function(e) {
        alert(e);
      }, log: function(e) {
        alert(e);
      }, error: function(e) {
        throw e;
      } }), y.helper.regexes = { asteriskDashAndColon: /([*_:~])/g }, y.helper.emojis = { "+1": "👍", "-1": "👎", 100: "💯", 1234: "🔢", "1st_place_medal": "🥇", "2nd_place_medal": "🥈", "3rd_place_medal": "🥉", "8ball": "🎱", a: "🅰️", ab: "🆎", abc: "🔤", abcd: "🔡", accept: "🉑", aerial_tramway: "🚡", airplane: "✈️", alarm_clock: "⏰", alembic: "⚗️", alien: "👽", ambulance: "🚑", amphora: "🏺", anchor: "⚓️", angel: "👼", anger: "💢", angry: "😠", anguished: "😧", ant: "🐜", apple: "🍎", aquarius: "♒️", aries: "♈️", arrow_backward: "◀️", arrow_double_down: "⏬", arrow_double_up: "⏫", arrow_down: "⬇️", arrow_down_small: "🔽", arrow_forward: "▶️", arrow_heading_down: "⤵️", arrow_heading_up: "⤴️", arrow_left: "⬅️", arrow_lower_left: "↙️", arrow_lower_right: "↘️", arrow_right: "➡️", arrow_right_hook: "↪️", arrow_up: "⬆️", arrow_up_down: "↕️", arrow_up_small: "🔼", arrow_upper_left: "↖️", arrow_upper_right: "↗️", arrows_clockwise: "🔃", arrows_counterclockwise: "🔄", art: "🎨", articulated_lorry: "🚛", artificial_satellite: "🛰", astonished: "😲", athletic_shoe: "👟", atm: "🏧", atom_symbol: "⚛️", avocado: "🥑", b: "🅱️", baby: "👶", baby_bottle: "🍼", baby_chick: "🐤", baby_symbol: "🚼", back: "🔙", bacon: "🥓", badminton: "🏸", baggage_claim: "🛄", baguette_bread: "🥖", balance_scale: "⚖️", balloon: "🎈", ballot_box: "🗳", ballot_box_with_check: "☑️", bamboo: "🎍", banana: "🍌", bangbang: "‼️", bank: "🏦", bar_chart: "📊", barber: "💈", baseball: "⚾️", basketball: "🏀", basketball_man: "⛹️", basketball_woman: "⛹️&zwj;♀️", bat: "🦇", bath: "🛀", bathtub: "🛁", battery: "🔋", beach_umbrella: "🏖", bear: "🐻", bed: "🛏", bee: "🐝", beer: "🍺", beers: "🍻", beetle: "🐞", beginner: "🔰", bell: "🔔", bellhop_bell: "🛎", bento: "🍱", biking_man: "🚴", bike: "🚲", biking_woman: "🚴&zwj;♀️", bikini: "👙", biohazard: "☣️", bird: "🐦", birthday: "🎂", black_circle: "⚫️", black_flag: "🏴", black_heart: "🖤", black_joker: "🃏", black_large_square: "⬛️", black_medium_small_square: "◾️", black_medium_square: "◼️", black_nib: "✒️", black_small_square: "▪️", black_square_button: "🔲", blonde_man: "👱", blonde_woman: "👱&zwj;♀️", blossom: "🌼", blowfish: "🐡", blue_book: "📘", blue_car: "🚙", blue_heart: "💙", blush: "😊", boar: "🐗", boat: "⛵️", bomb: "💣", book: "📖", bookmark: "🔖", bookmark_tabs: "📑", books: "📚", boom: "💥", boot: "👢", bouquet: "💐", bowing_man: "🙇", bow_and_arrow: "🏹", bowing_woman: "🙇&zwj;♀️", bowling: "🎳", boxing_glove: "🥊", boy: "👦", bread: "🍞", bride_with_veil: "👰", bridge_at_night: "🌉", briefcase: "💼", broken_heart: "💔", bug: "🐛", building_construction: "🏗", bulb: "💡", bullettrain_front: "🚅", bullettrain_side: "🚄", burrito: "🌯", bus: "🚌", business_suit_levitating: "🕴", busstop: "🚏", bust_in_silhouette: "👤", busts_in_silhouette: "👥", butterfly: "🦋", cactus: "🌵", cake: "🍰", calendar: "📆", call_me_hand: "🤙", calling: "📲", camel: "🐫", camera: "📷", camera_flash: "📸", camping: "🏕", cancer: "♋️", candle: "🕯", candy: "🍬", canoe: "🛶", capital_abcd: "🔠", capricorn: "♑️", car: "🚗", card_file_box: "🗃", card_index: "📇", card_index_dividers: "🗂", carousel_horse: "🎠", carrot: "🥕", cat: "🐱", cat2: "🐈", cd: "💿", chains: "⛓", champagne: "🍾", chart: "💹", chart_with_downwards_trend: "📉", chart_with_upwards_trend: "📈", checkered_flag: "🏁", cheese: "🧀", cherries: "🍒", cherry_blossom: "🌸", chestnut: "🌰", chicken: "🐔", children_crossing: "🚸", chipmunk: "🐿", chocolate_bar: "🍫", christmas_tree: "🎄", church: "⛪️", cinema: "🎦", circus_tent: "🎪", city_sunrise: "🌇", city_sunset: "🌆", cityscape: "🏙", cl: "🆑", clamp: "🗜", clap: "👏", clapper: "🎬", classical_building: "🏛", clinking_glasses: "🥂", clipboard: "📋", clock1: "🕐", clock10: "🕙", clock1030: "🕥", clock11: "🕚", clock1130: "🕦", clock12: "🕛", clock1230: "🕧", clock130: "🕜", clock2: "🕑", clock230: "🕝", clock3: "🕒", clock330: "🕞", clock4: "🕓", clock430: "🕟", clock5: "🕔", clock530: "🕠", clock6: "🕕", clock630: "🕡", clock7: "🕖", clock730: "🕢", clock8: "🕗", clock830: "🕣", clock9: "🕘", clock930: "🕤", closed_book: "📕", closed_lock_with_key: "🔐", closed_umbrella: "🌂", cloud: "☁️", cloud_with_lightning: "🌩", cloud_with_lightning_and_rain: "⛈", cloud_with_rain: "🌧", cloud_with_snow: "🌨", clown_face: "🤡", clubs: "♣️", cocktail: "🍸", coffee: "☕️", coffin: "⚰️", cold_sweat: "😰", comet: "☄️", computer: "💻", computer_mouse: "🖱", confetti_ball: "🎊", confounded: "😖", confused: "😕", congratulations: "㊗️", construction: "🚧", construction_worker_man: "👷", construction_worker_woman: "👷&zwj;♀️", control_knobs: "🎛", convenience_store: "🏪", cookie: "🍪", cool: "🆒", policeman: "👮", copyright: "©️", corn: "🌽", couch_and_lamp: "🛋", couple: "👫", couple_with_heart_woman_man: "💑", couple_with_heart_man_man: "👨&zwj;❤️&zwj;👨", couple_with_heart_woman_woman: "👩&zwj;❤️&zwj;👩", couplekiss_man_man: "👨&zwj;❤️&zwj;💋&zwj;👨", couplekiss_man_woman: "💏", couplekiss_woman_woman: "👩&zwj;❤️&zwj;💋&zwj;👩", cow: "🐮", cow2: "🐄", cowboy_hat_face: "🤠", crab: "🦀", crayon: "🖍", credit_card: "💳", crescent_moon: "🌙", cricket: "🏏", crocodile: "🐊", croissant: "🥐", crossed_fingers: "🤞", crossed_flags: "🎌", crossed_swords: "⚔️", crown: "👑", cry: "😢", crying_cat_face: "😿", crystal_ball: "🔮", cucumber: "🥒", cupid: "💘", curly_loop: "➰", currency_exchange: "💱", curry: "🍛", custard: "🍮", customs: "🛃", cyclone: "🌀", dagger: "🗡", dancer: "💃", dancing_women: "👯", dancing_men: "👯&zwj;♂️", dango: "🍡", dark_sunglasses: "🕶", dart: "🎯", dash: "💨", date: "📅", deciduous_tree: "🌳", deer: "🦌", department_store: "🏬", derelict_house: "🏚", desert: "🏜", desert_island: "🏝", desktop_computer: "🖥", male_detective: "🕵️", diamond_shape_with_a_dot_inside: "💠", diamonds: "♦️", disappointed: "😞", disappointed_relieved: "😥", dizzy: "💫", dizzy_face: "😵", do_not_litter: "🚯", dog: "🐶", dog2: "🐕", dollar: "💵", dolls: "🎎", dolphin: "🐬", door: "🚪", doughnut: "🍩", dove: "🕊", dragon: "🐉", dragon_face: "🐲", dress: "👗", dromedary_camel: "🐪", drooling_face: "🤤", droplet: "💧", drum: "🥁", duck: "🦆", dvd: "📀", "e-mail": "📧", eagle: "🦅", ear: "👂", ear_of_rice: "🌾", earth_africa: "🌍", earth_americas: "🌎", earth_asia: "🌏", egg: "🥚", eggplant: "🍆", eight_pointed_black_star: "✴️", eight_spoked_asterisk: "✳️", electric_plug: "🔌", elephant: "🐘", email: "✉️", end: "🔚", envelope_with_arrow: "📩", euro: "💶", european_castle: "🏰", european_post_office: "🏤", evergreen_tree: "🌲", exclamation: "❗️", expressionless: "😑", eye: "👁", eye_speech_bubble: "👁&zwj;🗨", eyeglasses: "👓", eyes: "👀", face_with_head_bandage: "🤕", face_with_thermometer: "🤒", fist_oncoming: "👊", factory: "🏭", fallen_leaf: "🍂", family_man_woman_boy: "👪", family_man_boy: "👨&zwj;👦", family_man_boy_boy: "👨&zwj;👦&zwj;👦", family_man_girl: "👨&zwj;👧", family_man_girl_boy: "👨&zwj;👧&zwj;👦", family_man_girl_girl: "👨&zwj;👧&zwj;👧", family_man_man_boy: "👨&zwj;👨&zwj;👦", family_man_man_boy_boy: "👨&zwj;👨&zwj;👦&zwj;👦", family_man_man_girl: "👨&zwj;👨&zwj;👧", family_man_man_girl_boy: "👨&zwj;👨&zwj;👧&zwj;👦", family_man_man_girl_girl: "👨&zwj;👨&zwj;👧&zwj;👧", family_man_woman_boy_boy: "👨&zwj;👩&zwj;👦&zwj;👦", family_man_woman_girl: "👨&zwj;👩&zwj;👧", family_man_woman_girl_boy: "👨&zwj;👩&zwj;👧&zwj;👦", family_man_woman_girl_girl: "👨&zwj;👩&zwj;👧&zwj;👧", family_woman_boy: "👩&zwj;👦", family_woman_boy_boy: "👩&zwj;👦&zwj;👦", family_woman_girl: "👩&zwj;👧", family_woman_girl_boy: "👩&zwj;👧&zwj;👦", family_woman_girl_girl: "👩&zwj;👧&zwj;👧", family_woman_woman_boy: "👩&zwj;👩&zwj;👦", family_woman_woman_boy_boy: "👩&zwj;👩&zwj;👦&zwj;👦", family_woman_woman_girl: "👩&zwj;👩&zwj;👧", family_woman_woman_girl_boy: "👩&zwj;👩&zwj;👧&zwj;👦", family_woman_woman_girl_girl: "👩&zwj;👩&zwj;👧&zwj;👧", fast_forward: "⏩", fax: "📠", fearful: "😨", feet: "🐾", female_detective: "🕵️&zwj;♀️", ferris_wheel: "🎡", ferry: "⛴", field_hockey: "🏑", file_cabinet: "🗄", file_folder: "📁", film_projector: "📽", film_strip: "🎞", fire: "🔥", fire_engine: "🚒", fireworks: "🎆", first_quarter_moon: "🌓", first_quarter_moon_with_face: "🌛", fish: "🐟", fish_cake: "🍥", fishing_pole_and_fish: "🎣", fist_raised: "✊", fist_left: "🤛", fist_right: "🤜", flags: "🎏", flashlight: "🔦", fleur_de_lis: "⚜️", flight_arrival: "🛬", flight_departure: "🛫", floppy_disk: "💾", flower_playing_cards: "🎴", flushed: "😳", fog: "🌫", foggy: "🌁", football: "🏈", footprints: "👣", fork_and_knife: "🍴", fountain: "⛲️", fountain_pen: "🖋", four_leaf_clover: "🍀", fox_face: "🦊", framed_picture: "🖼", free: "🆓", fried_egg: "🍳", fried_shrimp: "🍤", fries: "🍟", frog: "🐸", frowning: "😦", frowning_face: "☹️", frowning_man: "🙍&zwj;♂️", frowning_woman: "🙍", middle_finger: "🖕", fuelpump: "⛽️", full_moon: "🌕", full_moon_with_face: "🌝", funeral_urn: "⚱️", game_die: "🎲", gear: "⚙️", gem: "💎", gemini: "♊️", ghost: "👻", gift: "🎁", gift_heart: "💝", girl: "👧", globe_with_meridians: "🌐", goal_net: "🥅", goat: "🐐", golf: "⛳️", golfing_man: "🏌️", golfing_woman: "🏌️&zwj;♀️", gorilla: "🦍", grapes: "🍇", green_apple: "🍏", green_book: "📗", green_heart: "💚", green_salad: "🥗", grey_exclamation: "❕", grey_question: "❔", grimacing: "😬", grin: "😁", grinning: "😀", guardsman: "💂", guardswoman: "💂&zwj;♀️", guitar: "🎸", gun: "🔫", haircut_woman: "💇", haircut_man: "💇&zwj;♂️", hamburger: "🍔", hammer: "🔨", hammer_and_pick: "⚒", hammer_and_wrench: "🛠", hamster: "🐹", hand: "✋", handbag: "👜", handshake: "🤝", hankey: "💩", hatched_chick: "🐥", hatching_chick: "🐣", headphones: "🎧", hear_no_evil: "🙉", heart: "❤️", heart_decoration: "💟", heart_eyes: "😍", heart_eyes_cat: "😻", heartbeat: "💓", heartpulse: "💗", hearts: "♥️", heavy_check_mark: "✔️", heavy_division_sign: "➗", heavy_dollar_sign: "💲", heavy_heart_exclamation: "❣️", heavy_minus_sign: "➖", heavy_multiplication_x: "✖️", heavy_plus_sign: "➕", helicopter: "🚁", herb: "🌿", hibiscus: "🌺", high_brightness: "🔆", high_heel: "👠", hocho: "🔪", hole: "🕳", honey_pot: "🍯", horse: "🐴", horse_racing: "🏇", hospital: "🏥", hot_pepper: "🌶", hotdog: "🌭", hotel: "🏨", hotsprings: "♨️", hourglass: "⌛️", hourglass_flowing_sand: "⏳", house: "🏠", house_with_garden: "🏡", houses: "🏘", hugs: "🤗", hushed: "😯", ice_cream: "🍨", ice_hockey: "🏒", ice_skate: "⛸", icecream: "🍦", id: "🆔", ideograph_advantage: "🉐", imp: "👿", inbox_tray: "📥", incoming_envelope: "📨", tipping_hand_woman: "💁", information_source: "ℹ️", innocent: "😇", interrobang: "⁉️", iphone: "📱", izakaya_lantern: "🏮", jack_o_lantern: "🎃", japan: "🗾", japanese_castle: "🏯", japanese_goblin: "👺", japanese_ogre: "👹", jeans: "👖", joy: "😂", joy_cat: "😹", joystick: "🕹", kaaba: "🕋", key: "🔑", keyboard: "⌨️", keycap_ten: "🔟", kick_scooter: "🛴", kimono: "👘", kiss: "💋", kissing: "😗", kissing_cat: "😽", kissing_closed_eyes: "😚", kissing_heart: "😘", kissing_smiling_eyes: "😙", kiwi_fruit: "🥝", koala: "🐨", koko: "🈁", label: "🏷", large_blue_circle: "🔵", large_blue_diamond: "🔷", large_orange_diamond: "🔶", last_quarter_moon: "🌗", last_quarter_moon_with_face: "🌜", latin_cross: "✝️", laughing: "😆", leaves: "🍃", ledger: "📒", left_luggage: "🛅", left_right_arrow: "↔️", leftwards_arrow_with_hook: "↩️", lemon: "🍋", leo: "♌️", leopard: "🐆", level_slider: "🎚", libra: "♎️", light_rail: "🚈", link: "🔗", lion: "🦁", lips: "👄", lipstick: "💄", lizard: "🦎", lock: "🔒", lock_with_ink_pen: "🔏", lollipop: "🍭", loop: "➿", loud_sound: "🔊", loudspeaker: "📢", love_hotel: "🏩", love_letter: "💌", low_brightness: "🔅", lying_face: "🤥", m: "Ⓜ️", mag: "🔍", mag_right: "🔎", mahjong: "🀄️", mailbox: "📫", mailbox_closed: "📪", mailbox_with_mail: "📬", mailbox_with_no_mail: "📭", man: "👨", man_artist: "👨&zwj;🎨", man_astronaut: "👨&zwj;🚀", man_cartwheeling: "🤸&zwj;♂️", man_cook: "👨&zwj;🍳", man_dancing: "🕺", man_facepalming: "🤦&zwj;♂️", man_factory_worker: "👨&zwj;🏭", man_farmer: "👨&zwj;🌾", man_firefighter: "👨&zwj;🚒", man_health_worker: "👨&zwj;⚕️", man_in_tuxedo: "🤵", man_judge: "👨&zwj;⚖️", man_juggling: "🤹&zwj;♂️", man_mechanic: "👨&zwj;🔧", man_office_worker: "👨&zwj;💼", man_pilot: "👨&zwj;✈️", man_playing_handball: "🤾&zwj;♂️", man_playing_water_polo: "🤽&zwj;♂️", man_scientist: "👨&zwj;🔬", man_shrugging: "🤷&zwj;♂️", man_singer: "👨&zwj;🎤", man_student: "👨&zwj;🎓", man_teacher: "👨&zwj;🏫", man_technologist: "👨&zwj;💻", man_with_gua_pi_mao: "👲", man_with_turban: "👳", tangerine: "🍊", mans_shoe: "👞", mantelpiece_clock: "🕰", maple_leaf: "🍁", martial_arts_uniform: "🥋", mask: "😷", massage_woman: "💆", massage_man: "💆&zwj;♂️", meat_on_bone: "🍖", medal_military: "🎖", medal_sports: "🏅", mega: "📣", melon: "🍈", memo: "📝", men_wrestling: "🤼&zwj;♂️", menorah: "🕎", mens: "🚹", metal: "🤘", metro: "🚇", microphone: "🎤", microscope: "🔬", milk_glass: "🥛", milky_way: "🌌", minibus: "🚐", minidisc: "💽", mobile_phone_off: "📴", money_mouth_face: "🤑", money_with_wings: "💸", moneybag: "💰", monkey: "🐒", monkey_face: "🐵", monorail: "🚝", moon: "🌔", mortar_board: "🎓", mosque: "🕌", motor_boat: "🛥", motor_scooter: "🛵", motorcycle: "🏍", motorway: "🛣", mount_fuji: "🗻", mountain: "⛰", mountain_biking_man: "🚵", mountain_biking_woman: "🚵&zwj;♀️", mountain_cableway: "🚠", mountain_railway: "🚞", mountain_snow: "🏔", mouse: "🐭", mouse2: "🐁", movie_camera: "🎥", moyai: "🗿", mrs_claus: "🤶", muscle: "💪", mushroom: "🍄", musical_keyboard: "🎹", musical_note: "🎵", musical_score: "🎼", mute: "🔇", nail_care: "💅", name_badge: "📛", national_park: "🏞", nauseated_face: "🤢", necktie: "👔", negative_squared_cross_mark: "❎", nerd_face: "🤓", neutral_face: "😐", "new": "🆕", new_moon: "🌑", new_moon_with_face: "🌚", newspaper: "📰", newspaper_roll: "🗞", next_track_button: "⏭", ng: "🆖", no_good_man: "🙅&zwj;♂️", no_good_woman: "🙅", night_with_stars: "🌃", no_bell: "🔕", no_bicycles: "🚳", no_entry: "⛔️", no_entry_sign: "🚫", no_mobile_phones: "📵", no_mouth: "😶", no_pedestrians: "🚷", no_smoking: "🚭", "non-potable_water": "🚱", nose: "👃", notebook: "📓", notebook_with_decorative_cover: "📔", notes: "🎶", nut_and_bolt: "🔩", o: "⭕️", o2: "🅾️", ocean: "🌊", octopus: "🐙", oden: "🍢", office: "🏢", oil_drum: "🛢", ok: "🆗", ok_hand: "👌", ok_man: "🙆&zwj;♂️", ok_woman: "🙆", old_key: "🗝", older_man: "👴", older_woman: "👵", om: "🕉", on: "🔛", oncoming_automobile: "🚘", oncoming_bus: "🚍", oncoming_police_car: "🚔", oncoming_taxi: "🚖", open_file_folder: "📂", open_hands: "👐", open_mouth: "😮", open_umbrella: "☂️", ophiuchus: "⛎", orange_book: "📙", orthodox_cross: "☦️", outbox_tray: "📤", owl: "🦉", ox: "🐂", "package": "📦", page_facing_up: "📄", page_with_curl: "📃", pager: "📟", paintbrush: "🖌", palm_tree: "🌴", pancakes: "🥞", panda_face: "🐼", paperclip: "📎", paperclips: "🖇", parasol_on_ground: "⛱", parking: "🅿️", part_alternation_mark: "〽️", partly_sunny: "⛅️", passenger_ship: "🛳", passport_control: "🛂", pause_button: "⏸", peace_symbol: "☮️", peach: "🍑", peanuts: "🥜", pear: "🍐", pen: "🖊", pencil2: "✏️", penguin: "🐧", pensive: "😔", performing_arts: "🎭", persevere: "😣", person_fencing: "🤺", pouting_woman: "🙎", phone: "☎️", pick: "⛏", pig: "🐷", pig2: "🐖", pig_nose: "🐽", pill: "💊", pineapple: "🍍", ping_pong: "🏓", pisces: "♓️", pizza: "🍕", place_of_worship: "🛐", plate_with_cutlery: "🍽", play_or_pause_button: "⏯", point_down: "👇", point_left: "👈", point_right: "👉", point_up: "☝️", point_up_2: "👆", police_car: "🚓", policewoman: "👮&zwj;♀️", poodle: "🐩", popcorn: "🍿", post_office: "🏣", postal_horn: "📯", postbox: "📮", potable_water: "🚰", potato: "🥔", pouch: "👝", poultry_leg: "🍗", pound: "💷", rage: "😡", pouting_cat: "😾", pouting_man: "🙎&zwj;♂️", pray: "🙏", prayer_beads: "📿", pregnant_woman: "🤰", previous_track_button: "⏮", prince: "🤴", princess: "👸", printer: "🖨", purple_heart: "💜", purse: "👛", pushpin: "📌", put_litter_in_its_place: "🚮", question: "❓", rabbit: "🐰", rabbit2: "🐇", racehorse: "🐎", racing_car: "🏎", radio: "📻", radio_button: "🔘", radioactive: "☢️", railway_car: "🚃", railway_track: "🛤", rainbow: "🌈", rainbow_flag: "🏳️&zwj;🌈", raised_back_of_hand: "🤚", raised_hand_with_fingers_splayed: "🖐", raised_hands: "🙌", raising_hand_woman: "🙋", raising_hand_man: "🙋&zwj;♂️", ram: "🐏", ramen: "🍜", rat: "🐀", record_button: "⏺", recycle: "♻️", red_circle: "🔴", registered: "®️", relaxed: "☺️", relieved: "😌", reminder_ribbon: "🎗", repeat: "🔁", repeat_one: "🔂", rescue_worker_helmet: "⛑", restroom: "🚻", revolving_hearts: "💞", rewind: "⏪", rhinoceros: "🦏", ribbon: "🎀", rice: "🍚", rice_ball: "🍙", rice_cracker: "🍘", rice_scene: "🎑", right_anger_bubble: "🗯", ring: "💍", robot: "🤖", rocket: "🚀", rofl: "🤣", roll_eyes: "🙄", roller_coaster: "🎢", rooster: "🐓", rose: "🌹", rosette: "🏵", rotating_light: "🚨", round_pushpin: "📍", rowing_man: "🚣", rowing_woman: "🚣&zwj;♀️", rugby_football: "🏉", running_man: "🏃", running_shirt_with_sash: "🎽", running_woman: "🏃&zwj;♀️", sa: "🈂️", sagittarius: "♐️", sake: "🍶", sandal: "👡", santa: "🎅", satellite: "📡", saxophone: "🎷", school: "🏫", school_satchel: "🎒", scissors: "✂️", scorpion: "🦂", scorpius: "♏️", scream: "😱", scream_cat: "🙀", scroll: "📜", seat: "💺", secret: "㊙️", see_no_evil: "🙈", seedling: "🌱", selfie: "🤳", shallow_pan_of_food: "🥘", shamrock: "☘️", shark: "🦈", shaved_ice: "🍧", sheep: "🐑", shell: "🐚", shield: "🛡", shinto_shrine: "⛩", ship: "🚢", shirt: "👕", shopping: "🛍", shopping_cart: "🛒", shower: "🚿", shrimp: "🦐", signal_strength: "📶", six_pointed_star: "🔯", ski: "🎿", skier: "⛷", skull: "💀", skull_and_crossbones: "☠️", sleeping: "😴", sleeping_bed: "🛌", sleepy: "😪", slightly_frowning_face: "🙁", slightly_smiling_face: "🙂", slot_machine: "🎰", small_airplane: "🛩", small_blue_diamond: "🔹", small_orange_diamond: "🔸", small_red_triangle: "🔺", small_red_triangle_down: "🔻", smile: "😄", smile_cat: "😸", smiley: "😃", smiley_cat: "😺", smiling_imp: "😈", smirk: "😏", smirk_cat: "😼", smoking: "🚬", snail: "🐌", snake: "🐍", sneezing_face: "🤧", snowboarder: "🏂", snowflake: "❄️", snowman: "⛄️", snowman_with_snow: "☃️", sob: "😭", soccer: "⚽️", soon: "🔜", sos: "🆘", sound: "🔉", space_invader: "👾", spades: "♠️", spaghetti: "🍝", sparkle: "❇️", sparkler: "🎇", sparkles: "✨", sparkling_heart: "💖", speak_no_evil: "🙊", speaker: "🔈", speaking_head: "🗣", speech_balloon: "💬", speedboat: "🚤", spider: "🕷", spider_web: "🕸", spiral_calendar: "🗓", spiral_notepad: "🗒", spoon: "🥄", squid: "🦑", stadium: "🏟", star: "⭐️", star2: "🌟", star_and_crescent: "☪️", star_of_david: "✡️", stars: "🌠", station: "🚉", statue_of_liberty: "🗽", steam_locomotive: "🚂", stew: "🍲", stop_button: "⏹", stop_sign: "🛑", stopwatch: "⏱", straight_ruler: "📏", strawberry: "🍓", stuck_out_tongue: "😛", stuck_out_tongue_closed_eyes: "😝", stuck_out_tongue_winking_eye: "😜", studio_microphone: "🎙", stuffed_flatbread: "🥙", sun_behind_large_cloud: "🌥", sun_behind_rain_cloud: "🌦", sun_behind_small_cloud: "🌤", sun_with_face: "🌞", sunflower: "🌻", sunglasses: "😎", sunny: "☀️", sunrise: "🌅", sunrise_over_mountains: "🌄", surfing_man: "🏄", surfing_woman: "🏄&zwj;♀️", sushi: "🍣", suspension_railway: "🚟", sweat: "😓", sweat_drops: "💦", sweat_smile: "😅", sweet_potato: "🍠", swimming_man: "🏊", swimming_woman: "🏊&zwj;♀️", symbols: "🔣", synagogue: "🕍", syringe: "💉", taco: "🌮", tada: "🎉", tanabata_tree: "🎋", taurus: "♉️", taxi: "🚕", tea: "🍵", telephone_receiver: "📞", telescope: "🔭", tennis: "🎾", tent: "⛺️", thermometer: "🌡", thinking: "🤔", thought_balloon: "💭", ticket: "🎫", tickets: "🎟", tiger: "🐯", tiger2: "🐅", timer_clock: "⏲", tipping_hand_man: "💁&zwj;♂️", tired_face: "😫", tm: "™️", toilet: "🚽", tokyo_tower: "🗼", tomato: "🍅", tongue: "👅", top: "🔝", tophat: "🎩", tornado: "🌪", trackball: "🖲", tractor: "🚜", traffic_light: "🚥", train: "🚋", train2: "🚆", tram: "🚊", triangular_flag_on_post: "🚩", triangular_ruler: "📐", trident: "🔱", triumph: "😤", trolleybus: "🚎", trophy: "🏆", tropical_drink: "🍹", tropical_fish: "🐠", truck: "🚚", trumpet: "🎺", tulip: "🌷", tumbler_glass: "🥃", turkey: "🦃", turtle: "🐢", tv: "📺", twisted_rightwards_arrows: "🔀", two_hearts: "💕", two_men_holding_hands: "👬", two_women_holding_hands: "👭", u5272: "🈹", u5408: "🈴", u55b6: "🈺", u6307: "🈯️", u6708: "🈷️", u6709: "🈶", u6e80: "🈵", u7121: "🈚️", u7533: "🈸", u7981: "🈲", u7a7a: "🈳", umbrella: "☔️", unamused: "😒", underage: "🔞", unicorn: "🦄", unlock: "🔓", up: "🆙", upside_down_face: "🙃", v: "✌️", vertical_traffic_light: "🚦", vhs: "📼", vibration_mode: "📳", video_camera: "📹", video_game: "🎮", violin: "🎻", virgo: "♍️", volcano: "🌋", volleyball: "🏐", vs: "🆚", vulcan_salute: "🖖", walking_man: "🚶", walking_woman: "🚶&zwj;♀️", waning_crescent_moon: "🌘", waning_gibbous_moon: "🌖", warning: "⚠️", wastebasket: "🗑", watch: "⌚️", water_buffalo: "🐃", watermelon: "🍉", wave: "👋", wavy_dash: "〰️", waxing_crescent_moon: "🌒", wc: "🚾", weary: "😩", wedding: "💒", weight_lifting_man: "🏋️", weight_lifting_woman: "🏋️&zwj;♀️", whale: "🐳", whale2: "🐋", wheel_of_dharma: "☸️", wheelchair: "♿️", white_check_mark: "✅", white_circle: "⚪️", white_flag: "🏳️", white_flower: "💮", white_large_square: "⬜️", white_medium_small_square: "◽️", white_medium_square: "◻️", white_small_square: "▫️", white_square_button: "🔳", wilted_flower: "🥀", wind_chime: "🎐", wind_face: "🌬", wine_glass: "🍷", wink: "😉", wolf: "🐺", woman: "👩", woman_artist: "👩&zwj;🎨", woman_astronaut: "👩&zwj;🚀", woman_cartwheeling: "🤸&zwj;♀️", woman_cook: "👩&zwj;🍳", woman_facepalming: "🤦&zwj;♀️", woman_factory_worker: "👩&zwj;🏭", woman_farmer: "👩&zwj;🌾", woman_firefighter: "👩&zwj;🚒", woman_health_worker: "👩&zwj;⚕️", woman_judge: "👩&zwj;⚖️", woman_juggling: "🤹&zwj;♀️", woman_mechanic: "👩&zwj;🔧", woman_office_worker: "👩&zwj;💼", woman_pilot: "👩&zwj;✈️", woman_playing_handball: "🤾&zwj;♀️", woman_playing_water_polo: "🤽&zwj;♀️", woman_scientist: "👩&zwj;🔬", woman_shrugging: "🤷&zwj;♀️", woman_singer: "👩&zwj;🎤", woman_student: "👩&zwj;🎓", woman_teacher: "👩&zwj;🏫", woman_technologist: "👩&zwj;💻", woman_with_turban: "👳&zwj;♀️", womans_clothes: "👚", womans_hat: "👒", women_wrestling: "🤼&zwj;♀️", womens: "🚺", world_map: "🗺", worried: "😟", wrench: "🔧", writing_hand: "✍️", x: "❌", yellow_heart: "💛", yen: "💴", yin_yang: "☯️", yum: "😋", zap: "⚡️", zipper_mouth_face: "🤐", zzz: "💤", octocat: '<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">', showdown: `<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>` }, y.Converter = function(a2) {
        var r2 = {}, o2 = [], s2 = [], l2 = {}, n2 = g, i2 = { parsed: {}, raw: "", format: "" };
        function c2(e, t) {
          if (t = t || null, y.helper.isString(e)) {
            if (t = e = y.helper.stdExtName(e), y.extensions[e]) return void function i3(e2, t2) {
              "function" == typeof e2 && (e2 = e2(new y.Converter()));
              y.helper.isArray(e2) || (e2 = [e2]);
              var a4 = m(e2, t2);
              if (!a4.valid) throw Error(a4.error);
              for (var n4 = 0; n4 < e2.length; ++n4) switch (e2[n4].type) {
                case "lang":
                  o2.push(e2[n4]);
                  break;
                case "output":
                  s2.push(e2[n4]);
                  break;
                default:
                  throw Error("Extension loader error: Type unrecognized!!!");
              }
            }(y.extensions[e], e);
            if (y.helper.isUndefined(p[e])) throw Error('Extension "' + e + '" could not be loaded. It was either not found or is not a valid extension.');
            e = p[e];
          }
          "function" == typeof e && (e = e()), y.helper.isArray(e) || (e = [e]);
          var a3 = m(e, t);
          if (!a3.valid) throw Error(a3.error);
          for (var n3 = 0; n3 < e.length; ++n3) {
            switch (e[n3].type) {
              case "lang":
                o2.push(e[n3]);
                break;
              case "output":
                s2.push(e[n3]);
            }
            if (e[n3].hasOwnProperty("listeners")) for (var r3 in e[n3].listeners) e[n3].listeners.hasOwnProperty(r3) && d2(r3, e[n3].listeners[r3]);
          }
        }
        function d2(e, t) {
          if (!y.helper.isString(e)) throw Error("Invalid argument in converter.listen() method: name must be a string, but " + Rt(e) + " given");
          if ("function" != typeof t) throw Error("Invalid argument in converter.listen() method: callback must be a function, but " + Rt(t) + " given");
          l2.hasOwnProperty(e) || (l2[e] = []), l2[e].push(t);
        }
        !function f2() {
          for (var e in a2 = a2 || {}, u) u.hasOwnProperty(e) && (r2[e] = u[e]);
          {
            if ("object" !== Rt(a2)) throw Error("Converter expects the passed parameter to be an object, but " + Rt(a2) + " was passed instead.");
            for (var t in a2) a2.hasOwnProperty(t) && (r2[t] = a2[t]);
          }
          r2.extensions && y.helper.forEach(r2.extensions, c2);
        }(), this._dispatch = function(e, t, a3, n3) {
          if (l2.hasOwnProperty(e)) for (var r3 = 0; r3 < l2[e].length; ++r3) {
            var i3 = l2[e][r3](e, t, this, a3, n3);
            i3 && void 0 !== i3 && (t = i3);
          }
          return t;
        }, this.listen = function(e, t) {
          return d2(e, t), this;
        }, this.makeHtml = function(t) {
          if (!t) return t;
          var a3 = { gHtmlBlocks: [], gHtmlMdBlocks: [], gHtmlSpans: [], gUrls: {}, gTitles: {}, gDimensions: {}, gListLevel: 0, hashLinkCounts: {}, langExtensions: o2, outputModifiers: s2, converter: this, ghCodeBlocks: [], metadata: { parsed: {}, raw: "", format: "" } };
          return t = (t = (t = (t = (t = t.replace(/\xa8/g, "¨T")).replace(/\$/g, "¨D")).replace(/\r\n/g, "\n")).replace(/\r/g, "\n")).replace(/\u00A0/g, "&nbsp;"), r2.smartIndentationFix && (t = function n3(e) {
            var t2 = e.match(/^\s*/)[0].length, a4 = new RegExp("^\\s{0," + t2 + "}", "gm");
            return e.replace(a4, "");
          }(t)), t = "\n\n" + t + "\n\n", t = (t = y.subParser("detab")(t, r2, a3)).replace(/^[ \t]+$/gm, ""), y.helper.forEach(o2, function(e) {
            t = y.subParser("runExtension")(e, t, r2, a3);
          }), t = y.subParser("metadata")(t, r2, a3), t = y.subParser("hashPreCodeTags")(t, r2, a3), t = y.subParser("githubCodeBlocks")(t, r2, a3), t = y.subParser("hashHTMLBlocks")(t, r2, a3), t = y.subParser("hashCodeTags")(t, r2, a3), t = y.subParser("stripLinkDefinitions")(t, r2, a3), t = y.subParser("blockGamut")(t, r2, a3), t = y.subParser("unhashHTMLSpans")(t, r2, a3), t = (t = (t = y.subParser("unescapeSpecialChars")(t, r2, a3)).replace(/\xa8D/g, "$$")).replace(/\xa8T/g, "¨"), t = y.subParser("completeHTMLDocument")(t, r2, a3), y.helper.forEach(s2, function(e) {
            t = y.subParser("runExtension")(e, t, r2, a3);
          }), i2 = a3.metadata, t;
        }, this.makeMarkdown = this.makeMd = function(e, t) {
          if (e = (e = (e = e.replace(/\r\n/g, "\n")).replace(/\r/g, "\n")).replace(/>[ \t]+</, ">¨NBSP;<"), !t) {
            if (!window || !window.document) throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");
            t = window.document;
          }
          var a3 = t.createElement("div");
          a3.innerHTML = e;
          var n3 = { preList: function c3(e2) {
            for (var t2 = e2.querySelectorAll("pre"), a4 = [], n4 = 0; n4 < t2.length; ++n4) if (1 === t2[n4].childElementCount && "code" === t2[n4].firstChild.tagName.toLowerCase()) {
              var r4 = t2[n4].firstChild.innerHTML.trim(), i4 = t2[n4].firstChild.getAttribute("data-language") || "";
              if ("" === i4) for (var o4 = t2[n4].firstChild.className.split(" "), s3 = 0; s3 < o4.length; ++s3) {
                var l3 = o4[s3].match(/^language-(.+)$/);
                if (null !== l3) {
                  i4 = l3[1];
                  break;
                }
              }
              r4 = y.helper.unescapeHTMLEntities(r4), a4.push(r4), t2[n4].outerHTML = '<precode language="' + i4 + '" precodenum="' + n4.toString() + '"></precode>';
            } else a4.push(t2[n4].innerHTML), t2[n4].innerHTML = "", t2[n4].setAttribute("prenum", n4.toString());
            return a4;
          }(a3) };
          !function s3(e2) {
            for (var t2 = 0; t2 < e2.childNodes.length; ++t2) {
              var a4 = e2.childNodes[t2];
              3 === a4.nodeType ? /\S/.test(a4.nodeValue) ? (a4.nodeValue = a4.nodeValue.split("\n").join(" "), a4.nodeValue = a4.nodeValue.replace(/(\s)+/g, "$1")) : (e2.removeChild(a4), --t2) : 1 === a4.nodeType && s3(a4);
            }
          }(a3);
          for (var r3 = a3.childNodes, i3 = "", o3 = 0; o3 < r3.length; o3++) i3 += y.subParser("makeMarkdown.node")(r3[o3], n3);
          return i3;
        }, this.setOption = function(e, t) {
          r2[e] = t;
        }, this.getOption = function(e) {
          return r2[e];
        }, this.getOptions = function() {
          return r2;
        }, this.addExtension = function(e, t) {
          c2(e, t = t || null);
        }, this.useExtension = function(e) {
          c2(e);
        }, this.setFlavor = function(e) {
          if (!h.hasOwnProperty(e)) throw Error(e + " flavor was not found");
          var t = h[e];
          for (var a3 in n2 = e, t) t.hasOwnProperty(a3) && (r2[a3] = t[a3]);
        }, this.getFlavor = function() {
          return n2;
        }, this.removeExtension = function(e) {
          y.helper.isArray(e) || (e = [e]);
          for (var t = 0; t < e.length; ++t) {
            for (var a3 = e[t], n3 = 0; n3 < o2.length; ++n3) o2[n3] === a3 && o2[n3].splice(n3, 1);
            for (; 0 < s2.length; ++n3) s2[0] === a3 && s2[0].splice(n3, 1);
          }
        }, this.getAllExtensions = function() {
          return { language: o2, output: s2 };
        }, this.getMetadata = function(e) {
          return e ? i2.raw : i2.parsed;
        }, this.getMetadataFormat = function() {
          return i2.format;
        }, this._setMetadataPair = function(e, t) {
          i2.parsed[e] = t;
        }, this._setMetadataFormat = function(e) {
          i2.format = e;
        }, this._setMetadataRaw = function(e) {
          i2.raw = e;
        };
      }, y.subParser("anchors", function(e, l2, c2) {
        var d2 = function d3(e2, t, a2, n2, r2, i2, o2) {
          if (y.helper.isUndefined(o2) && (o2 = ""), a2 = a2.toLowerCase(), -1 < e2.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)) n2 = "";
          else if (!n2) {
            if (a2 || (a2 = t.toLowerCase().replace(/ ?\n/g, " ")), n2 = "#" + a2, y.helper.isUndefined(c2.gUrls[a2])) return e2;
            n2 = c2.gUrls[a2], y.helper.isUndefined(c2.gTitles[a2]) || (o2 = c2.gTitles[a2]);
          }
          var s2 = '<a href="' + (n2 = n2.replace(y.helper.regexes.asteriskDashAndColon, y.helper.escapeCharactersCallback)) + '"';
          return "" !== o2 && null !== o2 && (s2 += ' title="' + (o2 = (o2 = o2.replace(/"/g, "&quot;")).replace(y.helper.regexes.asteriskDashAndColon, y.helper.escapeCharactersCallback)) + '"'), l2.openLinksInNewWindow && !/^#/.test(n2) && (s2 += ' rel="noopener noreferrer" target="¨E95Eblank"'), s2 += ">" + t + "</a>";
        };
        return e = (e = (e = (e = (e = c2.converter._dispatch("anchors.before", e, l2, c2)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g, d2)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g, d2)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g, d2)).replace(/\[([^\[\]]+)]()()()()()/g, d2), l2.ghMentions && (e = e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim, function(e2, t, a2, n2, r2) {
          if ("\\" === a2) return t + n2;
          if (!y.helper.isString(l2.ghMentionsLink)) throw new Error("ghMentionsLink option must be a string");
          var i2 = l2.ghMentionsLink.replace(/\{u}/g, r2), o2 = "";
          return l2.openLinksInNewWindow && (o2 = ' rel="noopener noreferrer" target="¨E95Eblank"'), t + '<a href="' + i2 + '"' + o2 + ">" + n2 + "</a>";
        })), e = c2.converter._dispatch("anchors.after", e, l2, c2);
      });
      var I, O, o = /([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi, s = /([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi, c = /()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi, d = /(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim, f = /<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi, b = function b2(p2) {
        return function(e, t, a2, n2, r2, i2, o2) {
          var s2 = a2 = a2.replace(y.helper.regexes.asteriskDashAndColon, y.helper.escapeCharactersCallback), l2 = "", c2 = "", d2 = t || "", f2 = o2 || "";
          return /^www\./i.test(a2) && (a2 = a2.replace(/^www\./i, "http://www.")), p2.excludeTrailingPunctuationFromURLs && i2 && (l2 = i2), p2.openLinksInNewWindow && (c2 = ' rel="noopener noreferrer" target="¨E95Eblank"'), d2 + '<a href="' + a2 + '"' + c2 + ">" + s2 + "</a>" + l2 + f2;
        };
      }, E = function E2(r2, i2) {
        return function(e, t, a2) {
          var n2 = "mailto:";
          return t = t || "", a2 = y.subParser("unescapeSpecialChars")(a2, r2, i2), r2.encodeEmails ? (n2 = y.helper.encodeEmailAddress(n2 + a2), a2 = y.helper.encodeEmailAddress(a2)) : n2 += a2, t + '<a href="' + n2 + '">' + a2 + "</a>";
        };
      };
      y.subParser("autoLinks", function(e, t, a2) {
        return e = (e = (e = a2.converter._dispatch("autoLinks.before", e, t, a2)).replace(c, b(t))).replace(f, E(t, a2)), e = a2.converter._dispatch("autoLinks.after", e, t, a2);
      }), y.subParser("simplifiedAutoLinks", function(e, t, a2) {
        return t.simplifiedAutoLink ? (e = a2.converter._dispatch("simplifiedAutoLinks.before", e, t, a2), e = (e = t.excludeTrailingPunctuationFromURLs ? e.replace(s, b(t)) : e.replace(o, b(t))).replace(d, E(t, a2)), e = a2.converter._dispatch("simplifiedAutoLinks.after", e, t, a2)) : e;
      }), y.subParser("blockGamut", function(e, t, a2) {
        return e = a2.converter._dispatch("blockGamut.before", e, t, a2), e = y.subParser("blockQuotes")(e, t, a2), e = y.subParser("headers")(e, t, a2), e = y.subParser("horizontalRule")(e, t, a2), e = y.subParser("lists")(e, t, a2), e = y.subParser("codeBlocks")(e, t, a2), e = y.subParser("tables")(e, t, a2), e = y.subParser("hashHTMLBlocks")(e, t, a2), e = y.subParser("paragraphs")(e, t, a2), e = a2.converter._dispatch("blockGamut.after", e, t, a2);
      }), y.subParser("blockQuotes", function(e, t, a2) {
        e = a2.converter._dispatch("blockQuotes.before", e, t, a2), e += "\n\n";
        var n2 = /(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;
        return t.splitAdjacentBlockquotes && (n2 = /^ {0,3}>[\s\S]*?(?:\n\n)/gm), e = e.replace(n2, function(e2) {
          return e2 = (e2 = (e2 = e2.replace(/^[ \t]*>[ \t]?/gm, "")).replace(/\xa80/g, "")).replace(/^[ \t]+$/gm, ""), e2 = y.subParser("githubCodeBlocks")(e2, t, a2), e2 = (e2 = (e2 = y.subParser("blockGamut")(e2, t, a2)).replace(/(^|\n)/g, "$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm, function(e3, t2) {
            var a3 = t2;
            return a3 = (a3 = a3.replace(/^ {2}/gm, "¨0")).replace(/\xa80/g, "");
          }), y.subParser("hashBlock")("<blockquote>\n" + e2 + "\n</blockquote>", t, a2);
        }), e = a2.converter._dispatch("blockQuotes.after", e, t, a2);
      }), y.subParser("codeBlocks", function(e, o2, s2) {
        e = s2.converter._dispatch("codeBlocks.before", e, o2, s2);
        return e = (e = (e += "¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=\xa80))/g, function(e2, t, a2) {
          var n2 = t, r2 = a2, i2 = "\n";
          return n2 = y.subParser("outdent")(n2, o2, s2), n2 = y.subParser("encodeCode")(n2, o2, s2), n2 = (n2 = (n2 = y.subParser("detab")(n2, o2, s2)).replace(/^\n+/g, "")).replace(/\n+$/g, ""), o2.omitExtraWLInCodeBlocks && (i2 = ""), n2 = "<pre><code>" + n2 + i2 + "</code></pre>", y.subParser("hashBlock")(n2, o2, s2) + r2;
        })).replace(/\xa80/, ""), e = s2.converter._dispatch("codeBlocks.after", e, o2, s2);
      }), y.subParser("codeSpans", function(e, i2, o2) {
        return void 0 === (e = o2.converter._dispatch("codeSpans.before", e, i2, o2)) && (e = ""), e = e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm, function(e2, t, a2, n2) {
          var r2 = n2;
          return r2 = (r2 = r2.replace(/^([ \t]*)/g, "")).replace(/[ \t]*$/g, ""), r2 = t + "<code>" + (r2 = y.subParser("encodeCode")(r2, i2, o2)) + "</code>", r2 = y.subParser("hashHTMLSpans")(r2, i2, o2);
        }), e = o2.converter._dispatch("codeSpans.after", e, i2, o2);
      }), y.subParser("completeHTMLDocument", function(e, t, a2) {
        if (!t.completeHTMLDocument) return e;
        e = a2.converter._dispatch("completeHTMLDocument.before", e, t, a2);
        var n2 = "html", r2 = "<!DOCTYPE HTML>\n", i2 = "", o2 = '<meta charset="utf-8">\n', s2 = "", l2 = "";
        for (var c2 in "undefined" != typeof a2.metadata.parsed.doctype && (r2 = "<!DOCTYPE " + a2.metadata.parsed.doctype + ">\n", "html" !== (n2 = a2.metadata.parsed.doctype.toString().toLowerCase()) && "html5" !== n2 || (o2 = '<meta charset="utf-8">')), a2.metadata.parsed) if (a2.metadata.parsed.hasOwnProperty(c2)) switch (c2.toLowerCase()) {
          case "doctype":
            break;
          case "title":
            i2 = "<title>" + a2.metadata.parsed.title + "</title>\n";
            break;
          case "charset":
            o2 = "html" === n2 || "html5" === n2 ? '<meta charset="' + a2.metadata.parsed.charset + '">\n' : '<meta name="charset" content="' + a2.metadata.parsed.charset + '">\n';
            break;
          case "language":
          case "lang":
            s2 = ' lang="' + a2.metadata.parsed[c2] + '"', l2 += '<meta name="' + c2 + '" content="' + a2.metadata.parsed[c2] + '">\n';
            break;
          default:
            l2 += '<meta name="' + c2 + '" content="' + a2.metadata.parsed[c2] + '">\n';
        }
        return e = r2 + "<html" + s2 + ">\n<head>\n" + i2 + o2 + l2 + "</head>\n<body>\n" + e.trim() + "\n</body>\n</html>", e = a2.converter._dispatch("completeHTMLDocument.after", e, t, a2);
      }), y.subParser("detab", function(e, t, a2) {
        return e = (e = (e = (e = (e = (e = a2.converter._dispatch("detab.before", e, t, a2)).replace(/\t(?=\t)/g, "    ")).replace(/\t/g, "¨A¨B")).replace(/\xa8B(.+?)\xa8A/g, function(e2, t2) {
          for (var a3 = t2, n2 = 4 - a3.length % 4, r2 = 0; r2 < n2; r2++) a3 += " ";
          return a3;
        })).replace(/\xa8A/g, "    ")).replace(/\xa8B/g, ""), e = a2.converter._dispatch("detab.after", e, t, a2);
      }), y.subParser("ellipsis", function(e, t, a2) {
        return e = (e = a2.converter._dispatch("ellipsis.before", e, t, a2)).replace(/\.\.\./g, "…"), e = a2.converter._dispatch("ellipsis.after", e, t, a2);
      }), y.subParser("emoji", function(e, t, a2) {
        if (!t.emoji) return e;
        return e = (e = a2.converter._dispatch("emoji.before", e, t, a2)).replace(/:([\S]+?):/g, function(e2, t2) {
          return y.helper.emojis.hasOwnProperty(t2) ? y.helper.emojis[t2] : e2;
        }), e = a2.converter._dispatch("emoji.after", e, t, a2);
      }), y.subParser("encodeAmpsAndAngles", function(e, t, a2) {
        return e = (e = (e = (e = (e = a2.converter._dispatch("encodeAmpsAndAngles.before", e, t, a2)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g, "&amp;")).replace(/<(?![a-z\/?$!])/gi, "&lt;")).replace(/</g, "&lt;")).replace(/>/g, "&gt;"), e = a2.converter._dispatch("encodeAmpsAndAngles.after", e, t, a2);
      }), y.subParser("encodeBackslashEscapes", function(e, t, a2) {
        return e = (e = (e = a2.converter._dispatch("encodeBackslashEscapes.before", e, t, a2)).replace(/\\(\\)/g, y.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g, y.helper.escapeCharactersCallback), e = a2.converter._dispatch("encodeBackslashEscapes.after", e, t, a2);
      }), y.subParser("encodeCode", function(e, t, a2) {
        return e = (e = a2.converter._dispatch("encodeCode.before", e, t, a2)).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/([*_{}\[\]\\=~-])/g, y.helper.escapeCharactersCallback), e = a2.converter._dispatch("encodeCode.after", e, t, a2);
      }), y.subParser("escapeSpecialCharsWithinTagAttributes", function(e, t, a2) {
        return e = (e = (e = a2.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before", e, t, a2)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi, function(e2) {
          return e2.replace(/(.)<\/?code>(?=.)/g, "$1`").replace(/([\\`*_~=|])/g, y.helper.escapeCharactersCallback);
        })).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi, function(e2) {
          return e2.replace(/([\\`*_~=|])/g, y.helper.escapeCharactersCallback);
        }), e = a2.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after", e, t, a2);
      }), y.subParser("githubCodeBlocks", function(e, i2, o2) {
        return i2.ghCodeBlocks ? (e = o2.converter._dispatch("githubCodeBlocks.before", e, i2, o2), e = (e = (e += "¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g, function(e2, t, a2, n2) {
          var r2 = i2.omitExtraWLInCodeBlocks ? "" : "\n";
          return n2 = y.subParser("encodeCode")(n2, i2, o2), n2 = "<pre><code" + (a2 ? ' class="' + a2 + " language-" + a2 + '"' : "") + ">" + (n2 = (n2 = (n2 = y.subParser("detab")(n2, i2, o2)).replace(/^\n+/g, "")).replace(/\n+$/g, "")) + r2 + "</code></pre>", n2 = y.subParser("hashBlock")(n2, i2, o2), "\n\n¨G" + (o2.ghCodeBlocks.push({ text: e2, codeblock: n2 }) - 1) + "G\n\n";
        })).replace(/\xa80/, ""), o2.converter._dispatch("githubCodeBlocks.after", e, i2, o2)) : e;
      }), y.subParser("hashBlock", function(e, t, a2) {
        return e = (e = a2.converter._dispatch("hashBlock.before", e, t, a2)).replace(/(^\n+|\n+$)/g, ""), e = "\n\n¨K" + (a2.gHtmlBlocks.push(e) - 1) + "K\n\n", e = a2.converter._dispatch("hashBlock.after", e, t, a2);
      }), y.subParser("hashCodeTags", function(e, i2, o2) {
        e = o2.converter._dispatch("hashCodeTags.before", e, i2, o2);
        var s2 = function s3(e2, t, a2, n2) {
          var r2 = a2 + y.subParser("encodeCode")(t, i2, o2) + n2;
          return "¨C" + (o2.gHtmlSpans.push(r2) - 1) + "C";
        };
        return e = y.helper.replaceRecursiveRegExp(e, s2, "<code\\b[^>]*>", "</code>", "gim"), e = o2.converter._dispatch("hashCodeTags.after", e, i2, o2);
      }), y.subParser("hashElement", function(e, t, n2) {
        return function(e2, t2) {
          var a2 = t2;
          return a2 = (a2 = (a2 = a2.replace(/\n\n/g, "\n")).replace(/^\n/, "")).replace(/\n+$/g, ""), a2 = "\n\n¨K" + (n2.gHtmlBlocks.push(a2) - 1) + "K\n\n";
        };
      }), y.subParser("hashHTMLBlocks", function(e, t, i2) {
        e = i2.converter._dispatch("hashHTMLBlocks.before", e, t, i2);
        var a2 = ["pre", "div", "h1", "h2", "h3", "h4", "h5", "h6", "blockquote", "table", "dl", "ol", "ul", "script", "noscript", "form", "fieldset", "iframe", "math", "style", "section", "header", "footer", "nav", "article", "aside", "address", "audio", "canvas", "figure", "hgroup", "output", "video", "p"], o2 = function o3(e2, t2, a3, n3) {
          var r3 = e2;
          return -1 !== a3.search(/\bmarkdown\b/) && (r3 = a3 + i2.converter.makeHtml(t2) + n3), "\n\n¨K" + (i2.gHtmlBlocks.push(r3) - 1) + "K\n\n";
        };
        t.backslashEscapesHTMLTags && (e = e.replace(/\\<(\/?[^>]+?)>/g, function(e2, t2) {
          return "&lt;" + t2 + "&gt;";
        }));
        for (var n2 = 0; n2 < a2.length; ++n2) for (var r2, s2 = new RegExp("^ {0,3}(<" + a2[n2] + "\\b[^>]*>)", "im"), l2 = "<" + a2[n2] + "\\b[^>]*>", c2 = "</" + a2[n2] + ">"; -1 !== (r2 = y.helper.regexIndexOf(e, s2)); ) {
          var d2 = y.helper.splitAtIndex(e, r2), f2 = y.helper.replaceRecursiveRegExp(d2[1], o2, l2, c2, "im");
          if (f2 === d2[1]) break;
          e = d2[0].concat(f2);
        }
        return e = e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g, y.subParser("hashElement")(e, t, i2)), e = (e = y.helper.replaceRecursiveRegExp(e, function(e2) {
          return "\n\n¨K" + (i2.gHtmlBlocks.push(e2) - 1) + "K\n\n";
        }, "^ {0,3}<!--", "-->", "gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g, y.subParser("hashElement")(e, t, i2)), e = i2.converter._dispatch("hashHTMLBlocks.after", e, t, i2);
      }), y.subParser("hashHTMLSpans", function(e, t, a2) {
        function n2(e2) {
          return "¨C" + (a2.gHtmlSpans.push(e2) - 1) + "C";
        }
        return e = (e = (e = (e = (e = a2.converter._dispatch("hashHTMLSpans.before", e, t, a2)).replace(/<[^>]+?\/>/gi, function(e2) {
          return n2(e2);
        })).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g, function(e2) {
          return n2(e2);
        })).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g, function(e2) {
          return n2(e2);
        })).replace(/<[^>]+?>/gi, function(e2) {
          return n2(e2);
        }), e = a2.converter._dispatch("hashHTMLSpans.after", e, t, a2);
      }), y.subParser("unhashHTMLSpans", function(e, t, a2) {
        e = a2.converter._dispatch("unhashHTMLSpans.before", e, t, a2);
        for (var n2 = 0; n2 < a2.gHtmlSpans.length; ++n2) {
          for (var r2 = a2.gHtmlSpans[n2], i2 = 0; /\xa8C(\d+)C/.test(r2); ) {
            var o2 = RegExp.$1;
            if (r2 = r2.replace("¨C" + o2 + "C", a2.gHtmlSpans[o2]), 10 === i2) break;
            ++i2;
          }
          e = e.replace("¨C" + n2 + "C", r2);
        }
        return e = a2.converter._dispatch("unhashHTMLSpans.after", e, t, a2);
      }), y.subParser("hashPreCodeTags", function(e, i2, o2) {
        e = o2.converter._dispatch("hashPreCodeTags.before", e, i2, o2);
        var s2 = function s3(e2, t, a2, n2) {
          var r2 = a2 + y.subParser("encodeCode")(t, i2, o2) + n2;
          return "\n\n¨G" + (o2.ghCodeBlocks.push({ text: e2, codeblock: r2 }) - 1) + "G\n\n";
        };
        return e = y.helper.replaceRecursiveRegExp(e, s2, "^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>", "^ {0,3}</code>\\s*</pre>", "gim"), e = o2.converter._dispatch("hashPreCodeTags.after", e, i2, o2);
      }), y.subParser("headers", function(e, l2, c2) {
        e = c2.converter._dispatch("headers.before", e, l2, c2);
        var d2 = isNaN(parseInt(l2.headerLevelStart)) ? 1 : parseInt(l2.headerLevelStart), t = l2.smoothLivePreview ? /^(.+)[ \t]*\n={2,}[ \t]*\n+/gm : /^(.+)[ \t]*\n=+[ \t]*\n+/gm, a2 = l2.smoothLivePreview ? /^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm : /^(.+)[ \t]*\n-+[ \t]*\n+/gm;
        e = (e = e.replace(t, function(e2, t2) {
          var a3 = y.subParser("spanGamut")(t2, l2, c2), n3 = l2.noHeaderId ? "" : ' id="' + f2(t2) + '"', r2 = "<h" + d2 + n3 + ">" + a3 + "</h" + d2 + ">";
          return y.subParser("hashBlock")(r2, l2, c2);
        })).replace(a2, function(e2, t2) {
          var a3 = y.subParser("spanGamut")(t2, l2, c2), n3 = l2.noHeaderId ? "" : ' id="' + f2(t2) + '"', r2 = d2 + 1, i2 = "<h" + r2 + n3 + ">" + a3 + "</h" + r2 + ">";
          return y.subParser("hashBlock")(i2, l2, c2);
        });
        var n2 = l2.requireSpaceBeforeHeadingText ? /^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm : /^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;
        function f2(e2) {
          var t2, a3;
          if (l2.customizedHeaderId) {
            var n3 = e2.match(/\{([^{]+?)}\s*$/);
            n3 && n3[1] && (e2 = n3[1]);
          }
          return t2 = e2, a3 = y.helper.isString(l2.prefixHeaderId) ? l2.prefixHeaderId : true === l2.prefixHeaderId ? "section-" : "", l2.rawPrefixHeaderId || (t2 = a3 + t2), t2 = l2.ghCompatibleHeaderId ? t2.replace(/ /g, "-").replace(/&amp;/g, "").replace(/\xa8T/g, "").replace(/\xa8D/g, "").replace(/[&+$,\/:;=?@"#{}|^\xa8~\[\]`\\*)(%.!'<>]/g, "").toLowerCase() : l2.rawHeaderId ? t2.replace(/ /g, "-").replace(/&amp;/g, "&").replace(/\xa8T/g, "¨").replace(/\xa8D/g, "$").replace(/["']/g, "-").toLowerCase() : t2.replace(/[^\w]/g, "").toLowerCase(), l2.rawPrefixHeaderId && (t2 = a3 + t2), c2.hashLinkCounts[t2] ? t2 = t2 + "-" + c2.hashLinkCounts[t2]++ : c2.hashLinkCounts[t2] = 1, t2;
        }
        return e = e.replace(n2, function(e2, t2, a3) {
          var n3 = a3;
          l2.customizedHeaderId && (n3 = a3.replace(/\s?\{([^{]+?)}\s*$/, ""));
          var r2 = y.subParser("spanGamut")(n3, l2, c2), i2 = l2.noHeaderId ? "" : ' id="' + f2(a3) + '"', o2 = d2 - 1 + t2.length, s2 = "<h" + o2 + i2 + ">" + r2 + "</h" + o2 + ">";
          return y.subParser("hashBlock")(s2, l2, c2);
        }), e = c2.converter._dispatch("headers.after", e, l2, c2);
      }), y.subParser("horizontalRule", function(e, t, a2) {
        e = a2.converter._dispatch("horizontalRule.before", e, t, a2);
        var n2 = y.subParser("hashBlock")("<hr />", t, a2);
        return e = (e = (e = e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm, n2)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm, n2)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm, n2), e = a2.converter._dispatch("horizontalRule.after", e, t, a2);
      }), y.subParser("images", function(e, t, p2) {
        function l2(e2, t2, a2, n2, r2, i2, o2, s2) {
          var l3 = p2.gUrls, c2 = p2.gTitles, d2 = p2.gDimensions;
          if (a2 = a2.toLowerCase(), s2 || (s2 = ""), -1 < e2.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)) n2 = "";
          else if ("" === n2 || null === n2) {
            if ("" !== a2 && null !== a2 || (a2 = t2.toLowerCase().replace(/ ?\n/g, " ")), n2 = "#" + a2, y.helper.isUndefined(l3[a2])) return e2;
            n2 = l3[a2], y.helper.isUndefined(c2[a2]) || (s2 = c2[a2]), y.helper.isUndefined(d2[a2]) || (r2 = d2[a2].width, i2 = d2[a2].height);
          }
          t2 = t2.replace(/"/g, "&quot;").replace(y.helper.regexes.asteriskDashAndColon, y.helper.escapeCharactersCallback);
          var f2 = '<img src="' + (n2 = n2.replace(y.helper.regexes.asteriskDashAndColon, y.helper.escapeCharactersCallback)) + '" alt="' + t2 + '"';
          return s2 && y.helper.isString(s2) && (f2 += ' title="' + (s2 = s2.replace(/"/g, "&quot;").replace(y.helper.regexes.asteriskDashAndColon, y.helper.escapeCharactersCallback)) + '"'), r2 && i2 && (f2 += ' width="' + (r2 = "*" === r2 ? "auto" : r2) + '"', f2 += ' height="' + (i2 = "*" === i2 ? "auto" : i2) + '"'), f2 += " />";
        }
        return e = (e = (e = (e = (e = (e = p2.converter._dispatch("images.before", e, t, p2)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g, l2)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g, function c2(e2, t2, a2, n2, r2, i2, o2, s2) {
          return l2(e2, t2, a2, n2 = n2.replace(/\s/g, ""), r2, i2, 0, s2);
        })).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g, l2)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g, l2)).replace(/!\[([^\[\]]+)]()()()()()/g, l2), e = p2.converter._dispatch("images.after", e, t, p2);
      }), y.subParser("italicsAndBold", function(e, t, a2) {
        function n2(e2, t2, a3) {
          return t2 + e2 + a3;
        }
        return e = a2.converter._dispatch("italicsAndBold.before", e, t, a2), e = t.literalMidWordUnderscores ? (e = (e = e.replace(/\b___(\S[\s\S]*?)___\b/g, function(e2, t2) {
          return n2(t2, "<strong><em>", "</em></strong>");
        })).replace(/\b__(\S[\s\S]*?)__\b/g, function(e2, t2) {
          return n2(t2, "<strong>", "</strong>");
        })).replace(/\b_(\S[\s\S]*?)_\b/g, function(e2, t2) {
          return n2(t2, "<em>", "</em>");
        }) : (e = (e = e.replace(/___(\S[\s\S]*?)___/g, function(e2, t2) {
          return /\S$/.test(t2) ? n2(t2, "<strong><em>", "</em></strong>") : e2;
        })).replace(/__(\S[\s\S]*?)__/g, function(e2, t2) {
          return /\S$/.test(t2) ? n2(t2, "<strong>", "</strong>") : e2;
        })).replace(/_([^\s_][\s\S]*?)_/g, function(e2, t2) {
          return /\S$/.test(t2) ? n2(t2, "<em>", "</em>") : e2;
        }), e = t.literalMidWordAsterisks ? (e = (e = e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g, function(e2, t2, a3) {
          return n2(a3, t2 + "<strong><em>", "</em></strong>");
        })).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g, function(e2, t2, a3) {
          return n2(a3, t2 + "<strong>", "</strong>");
        })).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g, function(e2, t2, a3) {
          return n2(a3, t2 + "<em>", "</em>");
        }) : (e = (e = e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g, function(e2, t2) {
          return /\S$/.test(t2) ? n2(t2, "<strong><em>", "</em></strong>") : e2;
        })).replace(/\*\*(\S[\s\S]*?)\*\*/g, function(e2, t2) {
          return /\S$/.test(t2) ? n2(t2, "<strong>", "</strong>") : e2;
        })).replace(/\*([^\s*][\s\S]*?)\*/g, function(e2, t2) {
          return /\S$/.test(t2) ? n2(t2, "<em>", "</em>") : e2;
        }), e = a2.converter._dispatch("italicsAndBold.after", e, t, a2);
      }), y.subParser("lists", function(e, p2, d2) {
        function u2(e2, t) {
          d2.gListLevel++, e2 = e2.replace(/\n{2,}$/, "\n");
          var a2 = /(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80| {0,3}([*+-]|\d+[.])[ \t]+))/gm, c2 = /\n[ \t]*\n(?!\xa80)/.test(e2 += "¨0");
          return p2.disableForced4SpacesIndentedSublists && (a2 = /(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80|\2([*+-]|\d+[.])[ \t]+))/gm), e2 = (e2 = e2.replace(a2, function(e3, t2, a3, n2, r3, i2, o2) {
            o2 = o2 && "" !== o2.trim();
            var s2 = y.subParser("outdent")(r3, p2, d2), l2 = "";
            return i2 && p2.tasklists && (l2 = ' class="task-list-item" style="list-style-type: none;"', s2 = s2.replace(/^[ \t]*\[(x|X| )?]/m, function() {
              var e4 = '<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';
              return o2 && (e4 += " checked"), e4 += ">";
            })), s2 = s2.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g, function(e4) {
              return "¨A" + e4;
            }), s2 = "<li" + l2 + ">" + (s2 = (s2 = t2 || -1 < s2.search(/\n{2,}/) ? (s2 = y.subParser("githubCodeBlocks")(s2, p2, d2), y.subParser("blockGamut")(s2, p2, d2)) : (s2 = (s2 = y.subParser("lists")(s2, p2, d2)).replace(/\n$/, ""), s2 = (s2 = y.subParser("hashHTMLBlocks")(s2, p2, d2)).replace(/\n\n+/g, "\n\n"), c2 ? y.subParser("paragraphs")(s2, p2, d2) : y.subParser("spanGamut")(s2, p2, d2))).replace("¨A", "")) + "</li>\n";
          })).replace(/\xa80/g, ""), d2.gListLevel--, t && (e2 = e2.replace(/\s+$/, "")), e2;
        }
        function g2(e2, t) {
          if ("ol" === t) {
            var a2 = e2.match(/^ *(\d+)\./);
            if (a2 && "1" !== a2[1]) return ' start="' + a2[1] + '"';
          }
          return "";
        }
        function h2(e2) {
          return "ul" === e2 ? ' style="list-style: disc !important;padding: 0px 0px 0px 40px !important;"' : ' style="list-style: decimal !important;padding: 0px 0px 0px 40px !important;"';
        }
        function r2(n2, r3, i2) {
          var o2 = p2.disableForced4SpacesIndentedSublists ? /^ ?\d+\.[ \t]/gm : /^ {0,3}\d+\.[ \t]/gm, s2 = p2.disableForced4SpacesIndentedSublists ? /^ ?[*+-][ \t]/gm : /^ {0,3}[*+-][ \t]/gm, l2 = "ul" === r3 ? o2 : s2, c2 = "", d3 = h2(r3);
          if (-1 !== n2.search(l2)) !function f2(e3) {
            var t = e3.search(l2), a2 = g2(n2, r3);
            d3 = h2(r3), -1 !== t ? (c2 += "\n\n<" + r3 + d3 + a2 + ">\n" + u2(e3.slice(0, t), !!i2) + "</" + r3 + ">\n", l2 = "ul" === (r3 = "ul" === r3 ? "ol" : "ul") ? o2 : s2, f2(e3.slice(t))) : c2 += "\n\n<" + r3 + d3 + a2 + ">\n" + u2(e3, !!i2) + "</" + r3 + ">\n";
          }(n2);
          else {
            var e2 = g2(n2, r3);
            c2 = "\n\n<" + r3 + d3 + e2 + ">\n" + u2(n2, !!i2) + "</" + r3 + ">\n";
          }
          return c2;
        }
        return e = d2.converter._dispatch("lists.before", e, p2, d2), e += "¨0", e = (e = d2.gListLevel ? e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm, function(e2, t, a2) {
          return r2(t, -1 < a2.search(/[*+-]/g) ? "ul" : "ol", true);
        }) : e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm, function(e2, t, a2, n2) {
          return r2(a2, -1 < n2.search(/[*+-]/g) ? "ul" : "ol", false);
        })).replace(/\xa80/, ""), e = d2.converter._dispatch("lists.after", e, p2, d2);
      }), y.subParser("metadata", function(e, t, n2) {
        if (!t.metadata) return e;
        function r2(e2) {
          (e2 = (e2 = (n2.metadata.raw = e2).replace(/&/g, "&amp;").replace(/"/g, "&quot;")).replace(/\n {4}/g, " ")).replace(/^([\S ]+): +([\s\S]+?)$/gm, function(e3, t2, a2) {
            return n2.metadata.parsed[t2] = a2, "";
          });
        }
        return e = (e = (e = (e = n2.converter._dispatch("metadata.before", e, t, n2)).replace(/^\s*\xab\xab\xab+(\S*?)\n([\s\S]+?)\n\xbb\xbb\xbb+\n/, function(e2, t2, a2) {
          return r2(a2), "¨M";
        })).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/, function(e2, t2, a2) {
          return t2 && (n2.metadata.format = t2), r2(a2), "¨M";
        })).replace(/\xa8M/g, ""), e = n2.converter._dispatch("metadata.after", e, t, n2);
      }), y.subParser("outdent", function(e, t, a2) {
        return e = (e = (e = a2.converter._dispatch("outdent.before", e, t, a2)).replace(/^(\t|[ ]{1,4})/gm, "¨0")).replace(/\xa80/g, ""), e = a2.converter._dispatch("outdent.after", e, t, a2);
      }), y.subParser("paragraphs", function(e, t, a2) {
        for (var n2 = (e = (e = (e = a2.converter._dispatch("paragraphs.before", e, t, a2)).replace(/^\n+/g, "")).replace(/\n+$/g, "")).split(/\n{2,}/g), r2 = [], i2 = n2.length, o2 = 0; o2 < i2; o2++) {
          var s2 = n2[o2];
          0 <= s2.search(/\xa8(K|G)(\d+)\1/g) ? r2.push(s2) : 0 <= s2.search(/\S/) && (s2 = (s2 = y.subParser("spanGamut")(s2, t, a2)).replace(/^([ \t]*)/g, "<p>"), s2 += "</p>", r2.push(s2));
        }
        for (i2 = r2.length, o2 = 0; o2 < i2; o2++) {
          for (var l2 = "", c2 = r2[o2], d2 = false; /\xa8(K|G)(\d+)\1/.test(c2); ) {
            var f2 = RegExp.$1, p2 = RegExp.$2;
            l2 = (l2 = "K" === f2 ? a2.gHtmlBlocks[p2] : d2 ? y.subParser("encodeCode")(a2.ghCodeBlocks[p2].text, t, a2) : a2.ghCodeBlocks[p2].codeblock).replace(/\$/g, "$$$$"), c2 = c2.replace(/(\n\n)?\xa8(K|G)\d+\2(\n\n)?/, l2), /^<pre\b[^>]*>\s*<code\b[^>]*>/.test(c2) && (d2 = true);
          }
          r2[o2] = c2;
        }
        return e = (e = (e = r2.join("\n")).replace(/^\n+/g, "")).replace(/\n+$/g, ""), a2.converter._dispatch("paragraphs.after", e, t, a2);
      }), y.subParser("runExtension", function(e, t, a2, n2) {
        if (e.filter) t = e.filter(t, n2.converter, a2);
        else if (e.regex) {
          var r2 = e.regex;
          r2 instanceof RegExp || (r2 = new RegExp(r2, "g")), t = t.replace(r2, e.replace);
        }
        return t;
      }), y.subParser("spanGamut", function(e, t, a2) {
        return e = a2.converter._dispatch("spanGamut.before", e, t, a2), e = y.subParser("codeSpans")(e, t, a2), e = y.subParser("escapeSpecialCharsWithinTagAttributes")(e, t, a2), e = y.subParser("encodeBackslashEscapes")(e, t, a2), e = y.subParser("images")(e, t, a2), e = y.subParser("anchors")(e, t, a2), e = y.subParser("autoLinks")(e, t, a2), e = y.subParser("simplifiedAutoLinks")(e, t, a2), e = y.subParser("emoji")(e, t, a2), e = y.subParser("underline")(e, t, a2), e = y.subParser("italicsAndBold")(e, t, a2), e = y.subParser("strikethrough")(e, t, a2), e = y.subParser("ellipsis")(e, t, a2), e = y.subParser("hashHTMLSpans")(e, t, a2), e = y.subParser("encodeAmpsAndAngles")(e, t, a2), t.simpleLineBreaks ? /\n\n\xa8K/.test(e) || (e = e.replace(/\n+/g, "<br />\n")) : e = e.replace(/  +\n/g, "<br />\n"), e = a2.converter._dispatch("spanGamut.after", e, t, a2);
      }), y.subParser("strikethrough", function(e, n2, r2) {
        return n2.strikethrough && (e = (e = r2.converter._dispatch("strikethrough.before", e, n2, r2)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g, function(e2, t) {
          return function a2(e3) {
            return n2.simplifiedAutoLink && (e3 = y.subParser("simplifiedAutoLinks")(e3, n2, r2)), "<del>" + e3 + "</del>";
          }(t);
        }), e = r2.converter._dispatch("strikethrough.after", e, n2, r2)), e;
      }), y.subParser("stripLinkDefinitions", function(e, s2, l2) {
        var c2 = function c3(e2, t, a2, n2, r2, i2, o2) {
          return t = t.toLowerCase(), a2.match(/^data:.+?\/.+?;base64,/) ? l2.gUrls[t] = a2.replace(/\s/g, "") : l2.gUrls[t] = y.subParser("encodeAmpsAndAngles")(a2, s2, l2), i2 ? i2 + o2 : (o2 && (l2.gTitles[t] = o2.replace(/"|'/g, "&quot;")), s2.parseImgDimensions && n2 && r2 && (l2.gDimensions[t] = { width: n2, height: r2 }), "");
        };
        return e = (e = (e = (e += "¨0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=\xa80)|(?=\n\[))/gm, c2)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=\xa80))/gm, c2)).replace(/\xa80/, "");
      }), y.subParser("tables", function(e, v2, b2) {
        if (!v2.tables) return e;
        function t(e2) {
          var t2, a2 = e2.split("\n");
          for (t2 = 0; t2 < a2.length; ++t2) /^ {0,3}\|/.test(a2[t2]) && (a2[t2] = a2[t2].replace(/^ {0,3}\|/, "")), /\|[ \t]*$/.test(a2[t2]) && (a2[t2] = a2[t2].replace(/\|[ \t]*$/, "")), a2[t2] = y.subParser("codeSpans")(a2[t2], v2, b2);
          var n2, r2, i2, o2, s2, l2 = a2[0].split("|").map(function(e3) {
            return e3.trim();
          }), c2 = a2[1].split("|").map(function(e3) {
            return e3.trim();
          }), d2 = [], f2 = [], p2 = [], u2 = [];
          for (a2.shift(), a2.shift(), t2 = 0; t2 < a2.length; ++t2) "" !== a2[t2].trim() && d2.push(a2[t2].split("|").map(function(e3) {
            return e3.trim();
          }));
          if (l2.length < c2.length) return e2;
          for (t2 = 0; t2 < c2.length; ++t2) p2.push((n2 = c2[t2], /^:[ \t]*--*$/.test(n2) ? ' style="text-align:left;"' : /^--*[ \t]*:[ \t]*$/.test(n2) ? ' style="text-align:right;"' : /^:[ \t]*--*[ \t]*:$/.test(n2) ? ' style="text-align:center;"' : ""));
          for (t2 = 0; t2 < l2.length; ++t2) y.helper.isUndefined(p2[t2]) && (p2[t2] = ""), f2.push((r2 = l2[t2], i2 = p2[t2], o2 = void 0, o2 = "", r2 = r2.trim(), (v2.tablesHeaderId || v2.tableHeaderId) && (o2 = ' id="' + r2.replace(/ /g, "_").toLowerCase() + '"'), "<th" + o2 + i2 + ">" + (r2 = y.subParser("spanGamut")(r2, v2, b2)) + "</th>\n"));
          for (t2 = 0; t2 < d2.length; ++t2) {
            for (var g2 = [], h2 = 0; h2 < f2.length; ++h2) y.helper.isUndefined(d2[t2][h2]), g2.push((s2 = d2[t2][h2], "<td" + p2[h2] + ">" + y.subParser("spanGamut")(s2, v2, b2) + "</td>\n"));
            u2.push(g2);
          }
          return function m2(e3, t3) {
            for (var a3 = "<table>\n<thead>\n<tr>\n", n3 = e3.length, r3 = 0; r3 < n3; ++r3) a3 += e3[r3];
            for (a3 += "</tr>\n</thead>\n<tbody>\n", r3 = 0; r3 < t3.length; ++r3) {
              a3 += "<tr>\n";
              for (var i3 = 0; i3 < n3; ++i3) a3 += t3[r3][i3];
              a3 += "</tr>\n";
            }
            return a3 += "</tbody>\n</table>\n";
          }(f2, u2);
        }
        return e = (e = (e = (e = b2.converter._dispatch("tables.before", e, v2, b2)).replace(/\\(\|)/g, y.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|\xa80)/gm, t)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|\xa80)/gm, t), e = b2.converter._dispatch("tables.after", e, v2, b2);
      }), y.subParser("underline", function(e, t, a2) {
        return t.underline ? (e = a2.converter._dispatch("underline.before", e, t, a2), e = (e = t.literalMidWordUnderscores ? (e = e.replace(/\b___(\S[\s\S]*?)___\b/g, function(e2, t2) {
          return "<u>" + t2 + "</u>";
        })).replace(/\b__(\S[\s\S]*?)__\b/g, function(e2, t2) {
          return "<u>" + t2 + "</u>";
        }) : (e = e.replace(/___(\S[\s\S]*?)___/g, function(e2, t2) {
          return /\S$/.test(t2) ? "<u>" + t2 + "</u>" : e2;
        })).replace(/__(\S[\s\S]*?)__/g, function(e2, t2) {
          return /\S$/.test(t2) ? "<u>" + t2 + "</u>" : e2;
        })).replace(/(_)/g, y.helper.escapeCharactersCallback), e = a2.converter._dispatch("underline.after", e, t, a2)) : e;
      }), y.subParser("unescapeSpecialChars", function(e, t, a2) {
        return e = (e = a2.converter._dispatch("unescapeSpecialChars.before", e, t, a2)).replace(/\xa8E(\d+)E/g, function(e2, t2) {
          var a3 = parseInt(t2);
          return String.fromCharCode(a3);
        }), e = a2.converter._dispatch("unescapeSpecialChars.after", e, t, a2);
      }), y.subParser("makeMarkdown.blockquote", function(e, t) {
        var a2 = "";
        if (e.hasChildNodes()) for (var n2 = e.childNodes, r2 = n2.length, i2 = 0; i2 < r2; ++i2) {
          var o2 = y.subParser("makeMarkdown.node")(n2[i2], t);
          "" !== o2 && (a2 += o2);
        }
        return a2 = "> " + (a2 = a2.trim()).split("\n").join("\n> ");
      }), y.subParser("makeMarkdown.codeBlock", function(e, t) {
        var a2 = e.getAttribute("language"), n2 = e.getAttribute("precodenum");
        return "```" + a2 + "\n" + t.preList[n2] + "\n```";
      }), y.subParser("makeMarkdown.codeSpan", function(e) {
        return "`" + e.innerHTML + "`";
      }), y.subParser("makeMarkdown.emphasis", function(e, t) {
        var a2 = "";
        if (e.hasChildNodes()) {
          a2 += "*";
          for (var n2 = e.childNodes, r2 = n2.length, i2 = 0; i2 < r2; ++i2) a2 += y.subParser("makeMarkdown.node")(n2[i2], t);
          a2 += "*";
        }
        return a2;
      }), y.subParser("makeMarkdown.header", function(e, t, a2) {
        var n2 = new Array(a2 + 1).join("#"), r2 = "";
        if (e.hasChildNodes()) {
          r2 = n2 + " ";
          for (var i2 = e.childNodes, o2 = i2.length, s2 = 0; s2 < o2; ++s2) r2 += y.subParser("makeMarkdown.node")(i2[s2], t);
        }
        return r2;
      }), y.subParser("makeMarkdown.hr", function() {
        return "---";
      }), y.subParser("makeMarkdown.image", function(e) {
        var t = "";
        return e.hasAttribute("src") && (t += "![" + e.getAttribute("alt") + "](", t += "<" + e.getAttribute("src") + ">", e.hasAttribute("width") && e.hasAttribute("height") && (t += " =" + e.getAttribute("width") + "x" + e.getAttribute("height")), e.hasAttribute("title") && (t += ' "' + e.getAttribute("title") + '"'), t += ")"), t;
      }), y.subParser("makeMarkdown.links", function(e, t) {
        var a2 = "";
        if (e.hasChildNodes() && e.hasAttribute("href")) {
          var n2 = e.childNodes, r2 = n2.length;
          a2 = "[";
          for (var i2 = 0; i2 < r2; ++i2) a2 += y.subParser("makeMarkdown.node")(n2[i2], t);
          a2 += "](", a2 += "<" + e.getAttribute("href") + ">", e.hasAttribute("title") && (a2 += ' "' + e.getAttribute("title") + '"'), a2 += ")";
        }
        return a2;
      }), y.subParser("makeMarkdown.list", function(e, t, a2) {
        var n2 = "";
        if (!e.hasChildNodes()) return "";
        for (var r2 = e.childNodes, i2 = r2.length, o2 = e.getAttribute("start") || 1, s2 = 0; s2 < i2; ++s2) if ("undefined" != typeof r2[s2].tagName && "li" === r2[s2].tagName.toLowerCase()) {
          n2 += ("ol" === a2 ? o2.toString() + ". " : "- ") + y.subParser("makeMarkdown.listItem")(r2[s2], t), ++o2;
        }
        return (n2 += "\n<!-- -->\n").trim();
      }), y.subParser("makeMarkdown.listItem", function(e, t) {
        for (var a2 = "", n2 = e.childNodes, r2 = n2.length, i2 = 0; i2 < r2; ++i2) a2 += y.subParser("makeMarkdown.node")(n2[i2], t);
        return /\n$/.test(a2) ? a2 = a2.split("\n").join("\n    ").replace(/^ {4}$/gm, "").replace(/\n\n+/g, "\n\n") : a2 += "\n", a2;
      }), y.subParser("makeMarkdown.node", function(e, t, a2) {
        a2 = a2 || false;
        var n2 = "";
        if (3 === e.nodeType) return y.subParser("makeMarkdown.txt")(e, t);
        if (8 === e.nodeType) return "<!--" + e.data + "-->\n\n";
        if (1 !== e.nodeType) return "";
        switch (e.tagName.toLowerCase()) {
          case "h1":
            a2 || (n2 = y.subParser("makeMarkdown.header")(e, t, 1) + "\n\n");
            break;
          case "h2":
            a2 || (n2 = y.subParser("makeMarkdown.header")(e, t, 2) + "\n\n");
            break;
          case "h3":
            a2 || (n2 = y.subParser("makeMarkdown.header")(e, t, 3) + "\n\n");
            break;
          case "h4":
            a2 || (n2 = y.subParser("makeMarkdown.header")(e, t, 4) + "\n\n");
            break;
          case "h5":
            a2 || (n2 = y.subParser("makeMarkdown.header")(e, t, 5) + "\n\n");
            break;
          case "h6":
            a2 || (n2 = y.subParser("makeMarkdown.header")(e, t, 6) + "\n\n");
            break;
          case "p":
            a2 || (n2 = y.subParser("makeMarkdown.paragraph")(e, t) + "\n\n");
            break;
          case "blockquote":
            a2 || (n2 = y.subParser("makeMarkdown.blockquote")(e, t) + "\n\n");
            break;
          case "hr":
            a2 || (n2 = y.subParser("makeMarkdown.hr")(e, t) + "\n\n");
            break;
          case "ol":
            a2 || (n2 = y.subParser("makeMarkdown.list")(e, t, "ol") + "\n\n");
            break;
          case "ul":
            a2 || (n2 = y.subParser("makeMarkdown.list")(e, t, "ul") + "\n\n");
            break;
          case "precode":
            a2 || (n2 = y.subParser("makeMarkdown.codeBlock")(e, t) + "\n\n");
            break;
          case "pre":
            a2 || (n2 = y.subParser("makeMarkdown.pre")(e, t) + "\n\n");
            break;
          case "table":
            a2 || (n2 = y.subParser("makeMarkdown.table")(e, t) + "\n\n");
            break;
          case "code":
            n2 = y.subParser("makeMarkdown.codeSpan")(e, t);
            break;
          case "em":
          case "i":
            n2 = y.subParser("makeMarkdown.emphasis")(e, t);
            break;
          case "strong":
          case "b":
            n2 = y.subParser("makeMarkdown.strong")(e, t);
            break;
          case "del":
            n2 = y.subParser("makeMarkdown.strikethrough")(e, t);
            break;
          case "a":
            n2 = y.subParser("makeMarkdown.links")(e, t);
            break;
          case "img":
            n2 = y.subParser("makeMarkdown.image")(e, t);
            break;
          default:
            n2 = e.outerHTML + "\n\n";
        }
        return n2;
      }), y.subParser("makeMarkdown.paragraph", function(e, t) {
        var a2 = "";
        if (e.hasChildNodes()) for (var n2 = e.childNodes, r2 = n2.length, i2 = 0; i2 < r2; ++i2) a2 += y.subParser("makeMarkdown.node")(n2[i2], t);
        return a2 = a2.trim();
      }), y.subParser("makeMarkdown.pre", function(e, t) {
        var a2 = e.getAttribute("prenum");
        return "<pre>" + t.preList[a2] + "</pre>";
      }), y.subParser("makeMarkdown.strikethrough", function(e, t) {
        var a2 = "";
        if (e.hasChildNodes()) {
          a2 += "~~";
          for (var n2 = e.childNodes, r2 = n2.length, i2 = 0; i2 < r2; ++i2) a2 += y.subParser("makeMarkdown.node")(n2[i2], t);
          a2 += "~~";
        }
        return a2;
      }), y.subParser("makeMarkdown.strong", function(e, t) {
        var a2 = "";
        if (e.hasChildNodes()) {
          a2 += "**";
          for (var n2 = e.childNodes, r2 = n2.length, i2 = 0; i2 < r2; ++i2) a2 += y.subParser("makeMarkdown.node")(n2[i2], t);
          a2 += "**";
        }
        return a2;
      }), y.subParser("makeMarkdown.table", function(e, t) {
        var a2, n2, r2 = "", i2 = [[], []], o2 = e.querySelectorAll("thead>tr>th"), s2 = e.querySelectorAll("tbody>tr");
        for (a2 = 0; a2 < o2.length; ++a2) {
          var l2 = y.subParser("makeMarkdown.tableCell")(o2[a2], t), c2 = "---";
          if (o2[a2].hasAttribute("style")) switch (o2[a2].getAttribute("style").toLowerCase().replace(/\s/g, "")) {
            case "text-align:left;":
              c2 = ":---";
              break;
            case "text-align:right;":
              c2 = "---:";
              break;
            case "text-align:center;":
              c2 = ":---:";
          }
          i2[0][a2] = l2.trim(), i2[1][a2] = c2;
        }
        for (a2 = 0; a2 < s2.length; ++a2) {
          var d2 = i2.push([]) - 1, f2 = s2[a2].getElementsByTagName("td");
          for (n2 = 0; n2 < o2.length; ++n2) {
            var p2 = " ";
            "undefined" != typeof f2[n2] && (p2 = y.subParser("makeMarkdown.tableCell")(f2[n2], t)), i2[d2].push(p2);
          }
        }
        var u2 = 3;
        for (a2 = 0; a2 < i2.length; ++a2) for (n2 = 0; n2 < i2[a2].length; ++n2) {
          var g2 = i2[a2][n2].length;
          u2 < g2 && (u2 = g2);
        }
        for (a2 = 0; a2 < i2.length; ++a2) {
          for (n2 = 0; n2 < i2[a2].length; ++n2) 1 === a2 ? ":" === i2[a2][n2].slice(-1) ? i2[a2][n2] = y.helper.padEnd(i2[a2][n2].slice(-1), u2 - 1, "-") + ":" : i2[a2][n2] = y.helper.padEnd(i2[a2][n2], u2, "-") : i2[a2][n2] = y.helper.padEnd(i2[a2][n2], u2);
          r2 += "| " + i2[a2].join(" | ") + " |\n";
        }
        return r2.trim();
      }), y.subParser("makeMarkdown.tableCell", function(e, t) {
        var a2 = "";
        if (!e.hasChildNodes()) return "";
        for (var n2 = e.childNodes, r2 = n2.length, i2 = 0; i2 < r2; ++i2) a2 += y.subParser("makeMarkdown.node")(n2[i2], t, true);
        return a2.trim();
      }), y.subParser("makeMarkdown.txt", function(e) {
        var t = e.nodeValue;
        return t = (t = t.replace(/ +/g, " ")).replace(/\xa8NBSP;/g, " "), t = (t = (t = (t = (t = (t = (t = (t = (t = y.helper.unescapeHTMLEntities(t)).replace(/([*_~|`])/g, "\\$1")).replace(/^(\s*)>/g, "\\$1>")).replace(/^#/gm, "\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/, "$1\\$2$3")).replace(/^( {0,3}\d+)\./gm, "$1\\.")).replace(/^( {0,3})([+-])/gm, "$1\\$2")).replace(/]([\s]*)\(/g, "\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm, "\\[$1]:");
      }), St.PLUGINS.markdown = function(o2) {
        var s2, l2, a2, n2, r2, c2 = o2.$, i2 = false, d2 = "", f2 = "", p2 = "", u2 = "", g2 = [], h2 = [], m2 = "", v2 = null, b2 = null;
        function E2(e) {
          e = function u3(e2) {
            var t = e2, a3 = e2.match(/(\[\^(.+?)\])[^:]/g), n3 = e2.match(/(\[\^(.+?)\]:)/g);
            if (a3 && n3) {
              a3.forEach(function(e3, t2, a4) {
                a4[t2] = a4[t2].substring(0, a4[t2].length - 1);
              }), a3 = a3.filter(function(e3, t2) {
                return a3.indexOf(e3) === t2;
              }), n3 = n3.filter(function(e3, t2) {
                return n3.indexOf(e3) === t2;
              });
              for (var r3 = 1, i3 = 0; i3 < a3.length; i3++) {
                var o3 = "";
                if (1 == r3 && (o3 = '<hr class="footnote-sep"><ol>'), -1 < n3.indexOf(a3[i3] + ":")) {
                  for (var s3 = -1 < (t = (t = t.split(n3[i3]).join("{ftnt-plc}")).replace(n3[i3].substring(0, n3[i3].length - 1), '<sup id="fnref:'.concat(r3, '"><a href="#fn:').concat(r3, '" class="footnote-a">').concat(r3, "</a></sup>"))).indexOf(a3[i3]) ? 1 : 0, l3 = 0; s3 && (l3++, t = t.replace(n3[i3].substring(0, n3[i3].length - 1), '<sup id="fnref:'.concat(r3, ":").concat(l3, '"><a href="#fn:').concat(r3, ":").concat(l3, '" class="footnote-a">').concat(r3, ":").concat(l3, "</a></sup>")), s3 = -1 < t.indexOf(a3[i3]) ? 1 : 0); ) ;
                  var c3 = (t = t.split("{ftnt-plc}").join(n3[i3])).indexOf(n3[i3]), d3 = t, f3 = d3.substring(c3, d3.length - 1);
                  if (f3 = f3.split("\n")[0], t = t.replace(f3, ""), -1 < f3.indexOf(": ")) {
                    f3 = f3.split(": ")[1], f3 += '<a href="#fnref:'.concat(r3, '" class="footnote-a">↩</a>');
                    for (var p3 = l3; 0 != l3; ) f3 += '<a href="#fnref:'.concat(r3, ":").concat(p3 - l3 + 1, '" class="footnote-a">↩</a>'), l3--;
                    f3 += "</p></li>", t = t + o3 + '<li id="fn:'.concat(r3, '"><p>') + f3, r3++;
                  }
                }
              }
              1 != r3 && (t += "</ol>");
            }
            return e2 = t;
          }(e = function s3(e2) {
            for (var t = /^[A-Za-z0-9]/g, a3 = /^:[ ]{1}(.+?)+/g, n3 = e2.split("\n"), r3 = n3, i3 = n3.length - 1, o3 = 1; o3 < i3; o3++) null !== n3[o3].match(a3) && (null !== n3[o3 - 1].match(t) && o3 < i3 - 1 && null !== n3[o3 + 1].match(a3) ? (r3[o3 - 1] = "<dl><dt>" + n3[o3 - 1] + "</dt>", r3[o3] = "<dd>" + n3[o3].substring(2) + "</dd>") : null !== n3[o3 - 1].match(t) && (o3 < i3 - 1 && null === n3[o3 + 1].match(a3) || o3 == i3 - 1) ? (r3[o3 - 1] = "<dl><dt>" + n3[o3 - 1] + "</dt>", r3[o3] = "<dd>" + n3[o3].substring(2) + "</dd></dl>") : o3 < i3 - 1 && null !== n3[o3 + 1].match(a3) ? r3[o3] = "<dd>" + n3[o3].substring(2) + "</dd>" : r3[o3] = "<dd>" + n3[o3].substring(2) + "</dd></dl>");
            return e2 = r3.join("\n");
          }(e = function t(e2) {
            var n3 = e2.indexOf("```"), r3 = 0;
            -1 < n3 && (r3 = -1 < (r3 = e2.substring(n3 + 1).indexOf("```")) ? r3 + 3 : r3);
            return e2 = e2.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm, function(e3, t2, a3) {
              return n3 < a3 && a3 < r3 ? "---" : "<hr />\n";
            });
          }(e = function a3(e2) {
            return -1 < (e2 = (e2 = (e2 = (e2 = (e2 = (e2 = (e2 = (e2 = (e2 = (e2 = e2.split("</p>").join("</p>\n")).split("</div>").join("\n")).replace(/(<([^>]+)>)/gi, "")).replace(/&gt;/gi, ">")).replace(/&lt;/gi, "<")).split("&quot;").join('"')).split("&amp;").join("&")).split("&#39;").join("'")).split("&nbsp;").join(" ")).replace(/\|+\n[^\|]/g, function(e3) {
              return e3.replace("\n", "\n\n");
            })).indexOf("Powered by Froala Editor") && (e2 = e2.replace("Powered by Froala Editor", "")), e2;
          }(e)))), e = n2.makeHtml(e), e = o2.clean.html(e), o2.$wp.find(l2)[0].innerHTML = e;
        }
        return { _init: function t() {
          if (function e() {
            o2.events.on("contentChanged", function() {
              i2 && E2(o2.html.get(false, false));
            }, true), o2.events.$on(c2(o2.o_win), "resize", function() {
              i2 && (l2[0].style.width = o2.$wp[0].clientWidth - o2.$el[0].clientWidth + 2 + "px");
            }), o2.events.on("paste.afterCleanup", function(e2) {
              if (i2) {
                var t2 = o2.doc.createElement("div");
                t2.innerHTML = e2;
                for (var a3, n3 = t2.querySelectorAll("img"), r3 = 0; r3 < n3.length; r3++) (a3 = n3[r3]).outerHTML = a3.outerHTML.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
                e2 = t2.innerHTML;
              }
              return e2;
            });
          }(), n2 = new y.Converter({ strikethrough: true, tables: true, tablesHeaderId: true, simpleLineBreaks: true, ghCodeBlocks: true, tasklists: true, customizedHeaderId: true, requireSpaceBeforeHeadingText: true, underline: true }), o2.$tb && (a2 = o2.$tb.find('.fr-command[data-cmd="markdown"]')), !o2.$wp) return false;
        }, refresh: function _(e) {
          var t = i2;
          e.toggleClass("fr-active", t).attr("aria-pressed", t);
        }, toggle: function w() {
          i2 ? function e() {
            f2 = o2.html.get(true, true), o2.opts.pastePlain = false, o2.$el.removeClass("fr-markdown-editor"), o2.$wp.append(r2[0].firstChild), c2(r2).remove(), o2.$wp.find(s2).remove(), o2.$wp.find(l2).remove(), o2.$wp[0].lastChild.after(o2.$placeholder[0]), o2.$el.removeAttr("style"), o2.size.refresh(), o2.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command").not(a2).removeClass("fr-disabled").attr("aria-disabled", false), o2.opts.iframe && (o2.$el = b2, o2.$wp = v2, Object.keys(h2).map(function(e2) {
              o2.$el[0].setAttribute(e2, h2[e2]), "class" != e2 && m2[0].removeAttribute(e2);
            }), o2.$el[0].style.removeProperty("padding")), o2.html.set(d2), o2.opts.iframe && (o2.$el = b2, o2.$wp = v2, o2.$placeholder = null, o2.placeholder.show(), o2.placeholder.refresh());
          }() : function t() {
            var i3;
            d2 = o2.html.get(true, true), o2.html.set(f2), o2.opts.pastePlain = true, o2.opts.iframe ? (o2.$el[0].removeAttribute("spellcheck"), Array.from(o2.$el[0].attributes).map(function(e) {
              var t2 = e.name, a3 = e.value;
              return "class" != t2 && (g2[t2] = a3), h2[t2] = a3, o2.$el[0].removeAttribute(t2);
            }), o2.$el[0].style.padding = 0, o2.$el[0].innerHTML = "", o2.$placeholder.hide()) : o2.$el.addClass("fr-markdown-editor"), r2 = c2('<div class="fr-wrapper-markdown" />'), o2.opts.heightMin ? r2.css("min-height", "".concat(o2.opts.heightMin, "px")) : r2.css("min-height", "200px"), o2.opts.heightMax ? (r2.css("maxHeight", "".concat(o2.opts.heightMax, "px")), r2.css("overflow", "auto")) : (r2.css("maxHeight", ""), r2.css("overflow", "")), o2.opts.height && (r2.css("height", "".concat(o2.opts.height, "px")), r2.css("overflow", "auto"), r2.css("minHeight", o2.opts.height - o2.helpers.getPX(o2.$el.css("padding-top")) - o2.helpers.getPX(o2.$el.css("padding-bottom")))), o2.opts.iframe ? (u2 = c2('<div class="fr-box fr-basic fr-top"></div>'), p2 = c2('<div class="fr-markdown-wrapper"></div>'), m2 = c2('<div class="fr-element fr-markdown-editor"><p><br></p></div>'), Object.keys(g2).map(function(e) {
              return m2[0].setAttribute(e, g2[e]);
            }), f2 && (m2[0].innerHTML = f2), r2[0].appendChild(m2[0]), p2[0].appendChild(r2[0]), u2[0].appendChild(p2[0]), 1 == c2(o2.$html.find("body")[0]).find(".fr-box").length ? (o2.$el.prevAll().filter(function(e) {
              return !["CodeMirror cm-s-default CodeMirror-wrap", "fr-code"].includes(e.className);
            }).remove(), o2.$el[0].appendChild(r2[0])) : (o2.$el[0].appendChild(u2[0]), v2 = o2.$wp, o2.$wp = p2), b2 = o2.$el, o2.$el = m2) : (o2.$wp.append(r2), r2[0].appendChild(o2.$el[0])), s2 = c2('<div class="gutter-horizontal"><div class="e-resize-handler"><i class="fa fa-circle-thin" aria-hidden="true"></i></div></div>'), c2(r2).append(s2[0]), l2 = c2('<div class="fr-element fr-markdown-view"></div>'), c2(r2).append(l2[0]), c2(r2).after(o2.$placeholder[0]), o2.$tb.find(".fr-btn-grp > .fr-command, .fr-more-toolbar > .fr-command, .fr-btn-grp > .fr-btn-wrap > .fr-command, .fr-more-toolbar > .fr-btn-wrap > .fr-command").not(a2).filter(function() {
              return "fullscreen" !== c2(this).data("cmd") && "moreMisc" !== c2(this).data("cmd");
            }).addClass("fr-disabled").attr("aria-disabled", true), c2(s2).on("mousedown touchstart", function(e) {
              i3 = { e, offsetLeft: s2[0].offsetLeft, offsetTop: s2[0].offsetTop, firstWidth: o2.$el[0].offsetWidth, secondWidth: l2[0].offsetWidth };
              var a3 = function a4(e2) {
                o2.selection.clear();
                var t3 = { x: e2.clientX - i3.e.clientX, y: e2.clientY - i3.e.clientY };
                t3.x = Math.min(Math.max(t3.x, -i3.firstWidth), i3.secondWidth), i3.firstWidth + t3.x < 125 || i3.secondWidth - t3.x < 125 || (s2[0].style.left = i3.offsetLeft + t3.x + "px", o2.$el[0].style.width = i3.firstWidth + t3.x + "px", l2[0].style.width = i3.secondWidth - t3.x + "px");
              }, n3 = function n4(e2) {
                o2.selection.clear();
                var t3 = { x: e2.changedTouches[0].clientX - i3.e.changedTouches[0].clientX, y: e2.changedTouches[0].clientY - i3.e.changedTouches[0].clientY };
                t3.x = Math.min(Math.max(t3.x, -i3.firstWidth), i3.secondWidth), i3.firstWidth + t3.x < 100 || i3.secondWidth - t3.x < 100 || (s2[0].style.left = i3.offsetLeft + t3.x + "px", o2.$el[0].style.width = i3.firstWidth + t3.x + "px", l2[0].style.width = i3.secondWidth - t3.x + "px");
              }, t2 = function t3() {
                document.onmousemove = document.onmouseup = null, document.ontouchmove = document.ontouchend = null;
              }, r3 = function r4() {
                o2.$doc[0].onmousemove = o2.$doc[0].onmouseup = null, o2.$doc[0].ontouchmove = o2.$doc[0].ontouchend = null;
              };
              o2.opts.iframe && o2.markdown.isEnabled ? (o2.$doc[0].onmousemove = a3, o2.$doc[0].ontouchmove = n3, o2.$doc[0].onmouseup = r3, o2.$doc[0].ontouchend = r3) : (document.onmousemove = a3, document.ontouchmove = n3, document.onmouseup = t2, document.ontouchend = t2);
            }), E2(f2);
          }(), i2 = !i2;
        }, isEnabled: function e() {
          return i2;
        } };
      }, St.DefineIcon("markdown", { NAME: "markdown", SVG_KEY: "markdown" }), St.RegisterCommand("markdown", { title: "Markdown", undo: false, focus: false, toggle: true, forcedRefresh: true, accessibilityFocus: true, callback: function() {
        this.markdown.toggle();
      }, refresh: function(e) {
        this.markdown.refresh(e);
      }, plugin: "markdown" }), Object.assign(St.DEFAULTS, { wordCounterMax: -1, wordCounterCount: true }), St.PLUGINS.wordCounter = function(p2) {
        var a2, t = p2.$;
        function u2() {
          var e2 = p2.el.innerText.toString();
          e2 = (e2 = (e2 = (e2 = (e2 = (e2 = (e2 = (e2 = e2.replace(/(^\s*)|(\s*$)/gi, " ")).replace(/\u00a0/g, " ")).replace(/[ ]{2,}/gi, " ")).replace(/\n /, "\n")).replace(/[\u200A\u200C-\u200D\uFEFF\u202F\u2000-\u2009\u205F\u3000\u1680\u00A0\u0020]/g, " ")).replace(/[\u200B]/g, "")).replace(/\t+/g, " ")).split(" ").join("\n");
          var t2 = p2.$el.find(".fr-pagebreak"), a3 = e2.split(/\r?\n/), n3 = 0;
          return a3.forEach(function(e3) {
            0 < (e3 = e3.replace(/\s/g, "")).length && n3++;
          }), n3 - 2 * t2.length;
        }
        function e(e2) {
          var t2 = false;
          if (p2.opts.wordCounterMax < 0) return true;
          if (u2() < p2.opts.wordCounterMax) return true;
          var a3 = e2.which, n3 = p2.selection.get(), r3 = n3.focusOffset, i2 = n3.focusNode.textContent, o2 = (i2 = i2.replace(/\u00a0/g, " ")).toUpperCase().charCodeAt(r3 - 1), s2 = i2.toUpperCase().charCodeAt(r3);
          return n3.focusNode.data || (o2 = s2 = NaN), !function l2(e3, t3) {
            if (p2.keys.isCharacter(e3) && p2.keys.isCharacter(t3) && e3 != St.KEYCODE.SPACE && t3 != St.KEYCODE.SPACE) return true;
            return false;
          }(o2, s2) || a3 !== St.KEYCODE.ENTER && a3 !== St.KEYCODE.SPACE || (t2 = true), (function c2(e3, t3) {
            return e3 === St.KEYCODE.SPACE && t3 === St.KEYCODE.SPACE;
          }(o2, s2) || function d2(e3, t3) {
            if (isNaN(e3) && t3 === St.KEYCODE.SPACE || e3 === St.KEYCODE.SPACE && isNaN(t3)) return true;
            return false;
          }(o2, s2) || function f2(e3, t3) {
            if (isNaN(e3) && isNaN(t3)) return true;
            return false;
          }(o2, s2)) && p2.keys.isCharacter(a3) && a3 != St.KEYCODE.SPACE && (t2 = true), u2() > p2.opts.wordCounterMax && (p2.keys.isCharacter(a3) || a3 === St.KEYCODE.ENTER) && (t2 = true), !(!p2.keys.ctrlKey(e2) && t2 || a3 === St.KEYCODE.IME) || (e2.preventDefault(), e2.stopPropagation(), p2.events.trigger("wordCounter.exceeded"), false);
        }
        function n2() {
          if (p2.opts.wordCounterCount) {
            var e2 = u2() + (0 < p2.opts.wordCounterMax ? "/" + p2.opts.wordCounterMax : "");
            a2.text("".concat(p2.language.translate("Words"), " : ").concat(e2)), p2.opts.toolbarBottom && a2.css("margin-bottom", p2.$tb.outerHeight(true));
            var t2 = p2.$wp.get(0).offsetWidth - p2.$wp.get(0).clientWidth;
            0 <= t2 && ("rtl" == p2.opts.direction ? a2.css("margin-left", t2) : a2.css("margin-right", t2));
          }
        }
        function r2(e2) {
          return p2.opts.wordCounterMax < 0 ? e2 : t("<div>").html(e2).text().split(" ").length + u2() <= p2.opts.wordCounterMax ? e2 : (p2.events.trigger("wordCounter.exceeded"), "");
        }
        return { _init: function i2() {
          return !!p2.$wp && !!p2.opts.wordCounterCount && ((a2 = t(document.createElement("span")).attr("class", "fr-counter fr-wCounter")).css("bottom", p2.$wp.css("border-bottom-width")), p2.$second_tb ? p2.$second_tb.append(a2) : p2.$wp.append(a2), p2.events.on("keydown", e, true), p2.events.on("paste.afterCleanup", r2), p2.events.on("keyup contentChanged input", function() {
            p2.events.trigger("wordCounter.update");
          }), p2.events.on("wordCounter.update", n2), p2.events.trigger("wordCounter.update"), void p2.events.on("destroy", function() {
            t(p2.o_win).off("resize.char".concat(p2.id)), a2.removeData().remove(), a2 = null;
          }));
        }, wordCount: u2 };
      }, Object.assign(St.POPUP_TEMPLATES, { "filestackPlugin.error": "[_UPLOAD_LAYER_]" }), St.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED = [".pdf", ".docx", ".ppt", ".pptx", ".doc", ".xlsx", ".xls", ".csv", ".txt", "image/jpeg", "image/png", "image/jpg", "image/gif", "image/webp", "video/*", "audio/*", "mp3"], St.REQUIRED_PLUGINS = ["image", "video", "file", "filesManager"], St.FILESTACK_PICKER_OPTIONS_IMAGE_ONLY_SUPPORTED = ["image/jpeg", "image/png", "image/jpg", "image/gif", "image/webp"], St.FILESTACK_DEFAULT_ACCEPT_FILE_TYPES = [".pdf", ".docx", ".ppt", ".pptx", ".doc", ".xlsx", ".xls", ".csv", ".txt"], St.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED = ["video/*"], St.FILESTACK_PICKER_OPTIONS_FROMSOURCES_MAX_SUPPORTED = ["local_file_system", "imagesearch", "url", "googledrive", "facebook", "instagram", "dropbox"], St.FILESTACK_PICKER_DEFAULT_OPTIONS = { displayMode: "overlay", uploadInBackground: false, stage: { cname: "stage.filestackapi.com" } }, Object.assign(St.DEFAULTS, { filestackOptions: {} }), St.FILE_STACK_URL_PART = "filestack", St.PLUGINS.filestack = function(f2) {
        var r2, p2, t = ["pdf", "msword", "vnd.openxmlformats-officedocument.wordprocessingml.document", "vnd.ms-excel", "vnd.openxmlformats-officedocument.spreadsheetml.sheet", "vnd.ms-powerpoint", "vnd.openxmlformats-officedocument.presentationml.presentation", "csv", "plain", "ogg"], u2 = 1, o2 = 4, g2 = 5, h2 = 6, s2 = 7, l2 = {};
        function m2(e, t2, a2) {
          v2(a2 ? f2.language.translate(l2[e]) + "\nResponse: " + JSON.stringify(a2) : f2.language.translate(l2[e]), t2);
        }
        function v2(e, t2, a2, n2) {
          var r3;
          if ((r3 = f2.popups.get("filestackPlugin.error")) || (r3 = d2(e)), a2 && (r3.find(".fr-image-progress-bar-layer").addClass("fr-active"), r3.find(".fr-error-message").addClass("fr-layer"), r3.find(".fr-buttons").hide()), !!f2.$tb) {
            var i2;
            "openFilePicker" === t2 ? i2 = "openFilePicker" : "openFilePickerReplaceImageOnly" === t2 || "openFilePickerImage" === t2 ? i2 = "insertImage" : "openFilePickerReplaceVideoOnly" === t2 || "openFilePickerVideo" === t2 ? i2 = "insertVideo" : "openFilePickerVideoOnly" === t2 ? i2 = "openFilePickerVideoOnly" : "openFilePickerImageOnly" === t2 ? i2 = "openFilePickerImageOnly" : "openFilePickerFile" === t2 && (i2 = "openFilePickerFile");
            var o3 = f2.$tb.find(".fr-command[data-cmd='".concat(i2, "']"));
            if (a2) f2.popups.show("filestackPlugin.error", n2.x, n2.y);
            else if (!r3.hasClass("fr-active") && (f2.popups.refresh("filestackPlugin.error"), f2.popups.setContainer("filestackPlugin.error", f2.$tb), o3.isVisible() || f2.opts.toolbarInline)) {
              var s3 = f2.opts.toolbarInline && ["openFilePickerImage", "openFilePickerVideo"].includes(t2) ? f2.$(".fr-popup")[0].style : f2.button.getPosition(o3), l3 = s3.left, c3 = s3.top;
              f2.popups.show("filestackPlugin.error", l3, c3, o3.outerHeight());
            }
          }
        }
        function b2() {
          var e = "", t2 = function a2() {
            var t3 = [];
            return St.REQUIRED_PLUGINS.forEach(function(e2) {
              f2.opts.pluginsEnabled.indexOf(e2) < 0 && t3.push(e2.charAt(0).toUpperCase() + e2.slice(1));
            }), t3;
          }();
          return e = t2.join(", "), 1 < t2.length ? e += " plugin are" : e += " plugin is", e;
        }
        function d2(e) {
          var t2 = e.includes("Do you want to enable"), a2 = t2 ? "<div style='text-align:right;' class='fr-buttons'>\n          <button class='fr-trim-button fr-plugins-enable'>".concat(f2.language.translate("Enable"), "</button>               \n          <button class='fr-trim-button fr-plugins-cancel'>").concat(f2.language.translate("Cancel"), "</button>\n        </div>") : "<div style='text-align:right;' class='fr-buttons'>\n          <button class='fr-trim-button fr-plugins-ok'>".concat(f2.language.translate("OK"), "</button>               \n        </div>"), n2 = { upload_layer: "".concat('<div class="fr-image-progress-bar-layer fr-layer"><h3 tabIndex="-1" class="fr-message">Uploading</h3><div class="fr-loader fr-indeterminate"><span class="fr-progress"></span></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-dismiss" data-cmd="imageDismissError" tabIndex="2" role="button">OK</button></div></div>', "\n      <div style= 'padding:10px'>\n      <div class = 'fr-message fr-error-message'><h3 style ='font-size: 16px; margin: 10px 10px;font-weight: normal;'>").concat(f2.language.translate(e), "</h3></div>\n      ").concat(a2, "\n    ") }, r3 = f2.popups.create("filestackPlugin.error", n2);
          if (t2) {
            var i2 = r3.find(".fr-plugins-enable")[0], o3 = r3.find(".fr-plugins-cancel")[0];
            i2.addEventListener("click", function(e2) {
              !function t3() {
                St.REQUIRED_PLUGINS.forEach(function(e3) {
                  f2.opts.pluginsEnabled.indexOf(e3) < 0 && f2.opts.pluginsEnabled.push(e3);
                });
              }(), function a3(e3) {
                for (var t3 in e3) if (!f2[t3]) {
                  if (St.PLUGINS[t3] && f2.opts.pluginsEnabled.indexOf(t3) < 0) continue;
                  f2[t3] = new e3[t3](f2), f2[t3]._init && f2[t3]._init();
                }
              }(St.PLUGINS), R(), f2.events.trigger("filestack.pluginsEnabled"), f2.popups.hide("filestackPlugin.error"), y2(), e2.preventDefault();
            }), o3.addEventListener("click", function(e2) {
              f2.popups.hide("filestackPlugin.error"), y2(), e2.preventDefault();
            });
          } else {
            var s3 = r3.find(".fr-plugins-ok")[0];
            s3 && s3.addEventListener("click", function(e2) {
              f2.popups.hide("filestackPlugin.error"), e2.preventDefault();
            });
          }
          return r3;
        }
        function E2() {
          var t2 = true;
          return St.REQUIRED_PLUGINS.forEach(function(e) {
            f2.opts.pluginsEnabled.indexOf(e) < 0 && (t2 = false);
          }), t2;
        }
        l2[u2] = "Filestack api is missing", l2[2] = "The Filestack options are missing. Please check filestackOptions", l2[3] = "The Filestack picker is missing. Please check filestackOption", l2[o2] = "Image upload to filestack failed while processing the request", l2[g2] = "Filestack plugin is currently not supported on this browser", l2[h2] = "The selected media types are not supported", l2[s2] = "The selected source types are not supported by Filestack", l2[8] = "Error opening Filestack picker due to invalid picker parameters", l2[9] = "This image is not supported for image transformation", l2[10] = "The Filestack client is not created yet";
        var _ = f2.opts.filestackOptions.filestackAPI;
        if (_) try {
          p2 = f2.opts.filestackOptions.staging ? filestack.init(_, St.FILESTACK_PICKER_DEFAULT_OPTIONS.stage) : filestack.init(_, St.FILESTACK_PICKER_DEFAULT_OPTIONS);
        } catch (L) {
          0 === !Object.keys(f2.opts.filestackOptions).length && m2(10);
        }
        else ;
        function w() {
          var e = navigator.userAgent, t2 = f2 || "", a2 = t2.helpers, n2 = t2.browser;
          if (a2.isMac() && n2.mozilla) return false;
          var r3 = -1 != e.indexOf("Windows NT 10.") || -1 != e.indexOf("Windows NT 7."), i2 = e.match(/(chrome|safari|firefox|trident(?=\/))\/?\s*(\d+)/i)[2] || [], o3 = null;
          return 0 <= e.indexOf("Android") && (o3 = parseFloat(e.slice(e.indexOf("Android") + 8))), !!((a2.isMac() || a2.isIOS()) && 12 < a2.getSafariVersion()) || (!!(r3 && n2.chrome && 70 < i2 || -1 != e.indexOf("Edg") && 40 < i2) || !!(a2.isAndroid() && 6 < o3 && n2.chrome && 70 < i2));
        }
        function c2(e) {
          return false === f2.events.trigger("filestack.uploadedToFilestack", [e], true) ? (f2.edit.on(), false) : e;
        }
        function y2(e) {
          var t2 = f2.button.getButtons('button[data-cmd="openFilePicker"]'), a2 = f2.button.getButtons('button[data-cmd="openFilePickerImageOnly"]'), n2 = f2.button.getButtons('button[data-cmd="openFilePickerVideoOnly"]'), r3 = f2.button.getButtons('button[data-cmd="openFilePickerFile"]');
          t2.removeClass("fr-filestack-active"), a2.removeClass("fr-filestack-active"), n2.removeClass("fr-filestack-active"), r3.removeClass("fr-filestack-active"), false === f2.events.trigger("filestack.filestackPickerClosed", [e], true) && f2.edit.on();
        }
        function A() {
          O = I = null, f2.selection.restore();
        }
        function C(e) {
          m2(o2, e), false === f2.events.trigger("filestack.uploadFailedToFilestack", [e], true) && f2.edit.on();
        }
        function T(e) {
          return t.includes(e.split("/")[1]);
        }
        function k(e) {
          var t2 = false;
          f2.opts.imageInsertButtons = f2.opts.imageInsertButtons.map(function(e2) {
            return "openFilePickerImage" === e2 ? (t2 = true, "openFilePickerReplaceImageOnly") : e2;
          }), t2 && f2.events.trigger("filestack-init"), f2.popups.hide("image.edit");
          var a2 = f2.doc.querySelector(".fr-popup");
          a2 && a2.remove(), f2.opts.pluginsEnabled.includes("filestack") && function n2(e2) {
            f2.opts.imageEditButtons.includes("filestackIcon") && (r2 = f2.opts.imageEditButtons.indexOf("filestackIcon"));
            !f2.opts.imageEditButtons.includes("filestackIcon") && e2 && f2.opts.pluginsEnabled.includes("filestack") ? (r2 || 0 === r2) && f2.opts.imageEditButtons.splice(r2, 0, "filestackIcon") : e2 || (f2.opts.imageEditButtons = f2.opts.imageEditButtons.filter(function(e3) {
              return "filestackIcon" != e3;
            }));
            f2.opts.filestackOptions.uploadToFilestackOnly && e2 ? f2.opts.imageEditButtons = f2.opts.imageEditButtons.filter(function(e3) {
              return "imageTUI" != e3;
            }) : f2.opts.pluginsEnabled.includes("imageTUI") && !f2.opts.imageEditButtons.includes("imageTUI") && f2.opts.imageEditButtons.push("imageTUI");
          }(e), f2.events.trigger("filestack-init-edit");
        }
        function S() {
          var t2 = false;
          f2.opts.videoInsertButtons = f2.opts.videoInsertButtons.map(function(e) {
            return "openFilePickerVideo" === e ? (t2 = true, "openFilePickerReplaceVideoOnly") : e;
          }), t2 && f2.events.trigger("filestack-init-video");
        }
        function R() {
          St.DEFAULTS.imageInsertButtons && !St.DEFAULTS.imageInsertButtons.includes("openFilePickerImage") && St.DEFAULTS.imageInsertButtons.push("openFilePickerImage"), St.DEFAULTS.imageEditButtons && !St.DEFAULTS.imageEditButtons.includes("filestackIcon") && St.DEFAULTS.imageEditButtons.push("filestackIcon"), St.DEFAULTS.videoInsertButtons && !St.DEFAULTS.videoInsertButtons.includes("openFilePickerVideo") && St.DEFAULTS.videoInsertButtons.push("openFilePickerVideo"), St.DEFAULTS.filesInsertButtons && !St.DEFAULTS.filesInsertButtons.includes("openFilePicker") && St.DEFAULTS.filesInsertButtons.push("openFilePicker"), St.DEFAULTS.fileInsertButtons && !St.DEFAULTS.fileInsertButtons.includes("openFilePickerFile") && St.DEFAULTS.fileInsertButtons.push("openFilePickerFile"), f2.popups.onHide("image.insert", function() {
            var e2 = f2.button.getButtons('button[data-cmd="openFilePickerImage"]'), t3 = f2.button.getButtons('button[data-cmd="openFilePickerReplaceImageOnly"]');
            e2.removeClass("fr-filestack-active"), t3.removeClass("fr-filestack-active");
          }), f2.popups.onHide("video.insert", function() {
            var e2 = f2.button.getButtons('button[data-cmd="openFilePickerVideo"]'), t3 = f2.button.getButtons('button[data-cmd="openFilePickerReplaceVideoOnly"]');
            e2.removeClass("fr-filestack-active"), t3.removeClass("fr-filestack-active");
          }), f2.popups.onHide("filesManager.insert", function() {
            f2.button.getButtons('button[data-cmd="openFilePicker"]').removeClass("fr-filestack-active");
          });
          var e = f2.opts.filestackOptions.pickerOptions ? Object.assign({}, f2.opts.filestackOptions.pickerOptions, { accept: f2.opts.filestackOptions.pickerOptions.accept ? f2.opts.filestackOptions.pickerOptions.accept : [], fromSources: f2.opts.filestackOptions.pickerOptions.fromSources ? f2.opts.filestackOptions.pickerOptions.fromSources : [] }) : { accept: [], fromSources: [] };
          e.fromSources = function o3(t3, e2) {
            if (!e2 || 0 === e2.length) return t3;
            var a3 = [];
            return e2.forEach(function(e3) {
              -1 < t3.indexOf(e3) && a3.push(e3);
            }), 0 === a3.length && m2(s2), a3;
          }(St.FILESTACK_PICKER_OPTIONS_FROMSOURCES_MAX_SUPPORTED, e.fromSources), e.onOpen = function(e2) {
            f2.events.on("window.mouseup", function(e3) {
              if (document.getElementById("__filestack-picker") && f2.helpers.isMobile()) return e3.preventDefault(), e3.stopPropagation(), false;
            }, true), false === f2.events.trigger("filestack.filestackPickerOpened", [e2], true) && f2.edit.on();
            var t3 = f2.selection.get();
            t3 && (t3.anchorNode, t3.anchorOffset);
          }, e.onUploadDone = function(e2) {
            return function o3(e3) {
              if ("undefined" != typeof e3.filesUploaded) {
                var n3, t3 = He(e3.filesUploaded);
                try {
                  var a3, r4 = function r5() {
                    var t4 = n3.value;
                    if (T(t4.mimetype) || t4.mimetype.includes("image/jpeg") || t4.mimetype.includes("image/png") || t4.mimetype.includes("image/") || t4.mimetype.includes("video/") || t4.mimetype.includes("audio/mpeg")) {
                      t4.mimetype.includes("image/") && k(true), t4.mimetype.includes("video/") && S();
                      var a4 = function a5(e4) {
                        t4.mimetype.includes("image") ? e4.next().is("br") && e4.next().remove() : (e4.next() && e4.next().is("br") && e4.next().remove(), e4.prev() && e4.prev().is("br") && e4.prev().remove()), f2.selection.setAfter(e4[0]);
                      };
                      if (!c2(e3) || I || O || (t4.mimetype.includes("ogg") ? f2.file.insert(t4.url, t4.filename, null) : t4.mimetype.includes("image") ? (f2.image.insert(t4.url, false, null, null), f2.events.on("image.loaded", a4)) : t4.mimetype.includes("video") ? (f2.events.on("video.inserted", a4), f2.video.insertHtmlVideo(t4.url, null, null, null, null)) : t4.mimetype.includes("audio/mpeg") ? (f2.events.on("video.inserted", a4), f2.video.insertHtmlVideo(t4.url, null, null, null, null, "audio")) : T(t4.mimetype) && f2.file.insert(t4.url, t4.filename, null)), I) return f2.image.insert(t4.url, false, null, I), I = null, { v: void 0 };
                      if (O) return f2.video.insertHtmlVideo(t4.url, false, null, O), O = null, { v: void 0 };
                    }
                  };
                  for (t3.s(); !(n3 = t3.n()).done; ) if (a3 = r4()) return a3.v;
                } catch (i3) {
                  t3.e(i3);
                } finally {
                  t3.f();
                }
              }
            }(e2);
          }, e.onFileUploadFailed = C, e.onClose = y2, e.onCancel = A, f2.opts.filestackOptions.pickerOptions = e;
          var r3 = function r4(e2) {
            var t3 = "IMG" === e2.target.tagName, a3 = "VIDEO" === e2.target.tagName, n3 = e2.target.src && e2.target.src.includes(St.FILE_STACK_URL_PART) && !e2.target.src.includes("blob:");
            t3 ? k(n3) : a3 && S();
          }, t2 = f2.helpers.isMobile() && !f2.helpers.isWindowsPhone();
          if (f2.events.on(t2 ? "touchend" : "click", r3, t2), f2.events.on("drop", function() {
            k(false), S();
          }, true), f2.opts.filestackOptions.uploadToFilestackOnly && !f2.opts.iframe && !f2.opts.fullPage) {
            if (p2 && w() && E2()) {
              var a2 = filestackDnD.init(p2, f2.el);
              a2 && a2.on("uploadFileFinish", function(e2) {
                if (e2.files[0].mimetype.includes("image/") && k(true), e2.files[0].mimetype.includes("video/") && S(), T(e2.files[0].mimetype) || e2.files[0].mimetype.includes("pdf") || e2.files[0].mimetype.includes("image/jpeg") || e2.files[0].mimetype.includes("image/png") || e2.files[0].mimetype.includes("image/") || e2.files[0].mimetype.includes("video/") || e2.files[0].name && e2.files[0].name.includes(".ogg")) {
                  var t3 = function t4(e3) {
                    f2.popups.hide("filestackPlugin.error"), f2.selection.setAfter(e3[0]);
                  };
                  if (e2.files[0].mimetype.includes("image")) c2(e2) && (f2.image.insert(e2.data.url, false), f2.events.on("image.inserted", t3));
                  else e2.files[0].mimetype.includes("video") ? (f2.video.insertHtmlVideo(e2.data.url), f2.events.on("video.inserted", t3)) : (e2.files[0].mimetype.includes("pdf") || T(e2.files[0].mimetype) || e2.files[0].name && e2.files[0].name.includes(".ogg")) && f2.file.insert(e2.data.url, e2.data._file.name, null);
                  f2.popups.hide("filestackPlugin.error");
                }
              });
            }
            f2.events.on("drop", function(e2) {
              return p2 ? w() ? E2() ? (f2.markers.remove(), f2.markers.insertAtPoint(e2.originalEvent), f2.$el.find(".fr-marker").replaceWith(St.MARKERS), 0 === f2.$el.find(".fr-marker").length && f2.selection.setAtEnd(f2.el), v2("Image loading", "", true, { x: e2.originalEvent.x, y: e2.originalEvent.y })) : v2(b2() + " not enabled. Do you want to enable?", "openFilePicker") : (d2(l2[g2]), f2.popups.show("filestackPlugin.error", e2.originalEvent.x, e2.originalEvent.y)) : (d2(l2[u2]), f2.popups.show("filestackPlugin.error", e2.originalEvent.x, e2.originalEvent.y)), e2.preventDefault(), e2.stopPropagation(), false;
            }, true);
          }
          var n2 = document.getElementById("insertImage-".concat(f2.id));
          n2 && n2.addEventListener("mouseup", function() {
            var t3 = false;
            f2.opts.imageInsertButtons = f2.opts.imageInsertButtons.map(function(e2) {
              return "openFilePickerReplaceImageOnly" === e2 ? (t3 = true, "openFilePickerImage") : e2;
            }), t3 && f2.events.trigger("filestack-init");
          });
          var i2 = document.getElementById("insertVideo-".concat(f2.id));
          i2 && i2.addEventListener("mouseup", function() {
            var t3 = false;
            f2.opts.videoInsertButtons = f2.opts.videoInsertButtons.map(function(e2) {
              return "openFilePickerReplaceVideoOnly" === e2 ? (t3 = true, "openFilePickerVideo") : e2;
            }), t3 && f2.events.trigger("filestack-init-video");
          }), f2.events.on("image.loaded", function(e2) {
            (!e2[0].src.includes(St.FILE_STACK_URL_PART) || e2[0].src.includes(St.FILE_STACK_URL_PART) && e2[0].src.includes("blob:")) && setTimeout(function() {
              var e3 = document.querySelector("#filestackIcon-".concat(f2.id));
              e3 && e3.parentNode.removeChild(e3);
            }, 10);
          });
        }
        return f2.events.on("filestack.imageTransformation.click", function() {
          !function i2(e) {
            I = e;
            var a2 = f2.image.get()[0].currentSrc || "", t2 = filestack.init(_), n2 = new FilestackTransform(t2);
            n2.setConfigKey("output.blob", true), n2.open(a2).then(function(e2) {
              t2.upload(e2).then(function(e3) {
                var t3 = f2.selection.save();
                void 0 !== a2 && (f2.image.insert(e3.url, false, null, I), I = null, f2.selection.restore(t3));
              }), t2.on("upload.error", function() {
                m2(o2);
              });
            }), f2.events.on("keydown", function() {
              var e2 = document.getElementsByClassName("fs-transforms-container");
              f2.helpers.isMobile() && e2 && e2[0].childNodes && e2[0].childNodes.length && (I = null);
            });
            var r3 = f2.button.getButtons('button[data-cmd="filestackIcon"]');
            n2.on("canvas:save", function() {
              r3.removeClass("fr-filestack-active"), v2("Image loading", "", true, { x: I.offset().left, y: I.offset().top + I.height() });
            }), n2.on("canvas:cancel", function() {
              r3.removeClass("fr-filestack-active");
            });
          }(f2.image.get());
        }), f2.events.on("filestack.imageTransformation.error", function() {
          m2(9);
        }), { _init: R, showFilestackPopup: function x(e, t2, a2) {
          if (!e) return false;
          var n2;
          if ("openFilePicker" === e || "openFilePickerFile" === e ? n2 = St.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED : "openFilePickerImageOnly" === e || "openFilePickerReplaceImageOnly" === e || "openFilePickerImage" === e ? n2 = St.FILESTACK_PICKER_OPTIONS_IMAGE_ONLY_SUPPORTED : "openFilePickerVideoOnly" !== e && "openFilePickerReplaceVideoOnly" !== e && "openFilePickerVideo" !== e || (n2 = St.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED), !_) return m2(u2, e), false;
          if (!w()) return m2(g2, e), false;
          if (!E2()) return v2(b2() + " not enabled. Do you want to enable?", e), false;
          if (!p2 && 0 === !Object.keys(f2.opts.filestackOptions).length) return m2(10, e), false;
          t2 && (I = t2), a2 && (O = a2);
          var r3, i2 = f2.opts.filestackOptions.pickerOptions ? Object.assign({}, f2.opts.filestackOptions.pickerOptions, { accept: f2.opts.filestackOptions.pickerOptions.accept ? f2.opts.filestackOptions.pickerOptions.accept : [], fromSources: f2.opts.filestackOptions.pickerOptions.fromSources ? f2.opts.filestackOptions.pickerOptions.fromSources : [] }) : { accept: [], fromSources: [] };
          r3 = f2.opts.fileAllowedTypes && 1 === f2.opts.fileAllowedTypes.length && "*" === f2.opts.fileAllowedTypes[0] ? St.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED : f2.opts.fileAllowedTypes, 0 === i2.accept.length && (i2.accept = St.FILESTACK_PICKER_OPTIONS_MEDIA_MAX_SUPPORTED);
          var o3 = St.FILESTACK_PICKER_OPTIONS_VIDEO_ONLY_SUPPORTED;
          f2.opts.videoAllowedTypes && (o3 = f2.opts.videoAllowedTypes.map(function(e2) {
            return "mp3" === e2 ? "audio/".concat(e2) : "video/".concat(e2);
          })), "openFilePickerImageOnly" === e || "openFilePickerReplaceImageOnly" === e || "openFilePickerImage" === e ? n2 = f2.opts.imageAllowedTypes.map(function(e2) {
            return "image/".concat(e2);
          }) : "openFilePickerVideoOnly" === e || "openFilePickerReplaceVideoOnly" === e || "openFilePickerVideo" === e ? n2 = o3 : "openFilePickerFile" === e && (n2 = r3);
          var s3 = i2.maxFiles;
          (t2 || a2) && (s3 = 1);
          var l3 = "openFilePicker" === e ? function d3(t3, e2) {
            if (!e2 || 0 === e2.length) return t3;
            var a3 = [];
            return e2.forEach(function(e3) {
              -1 < t3.indexOf(e3) && a3.push(e3);
            }), 0 === a3.length && m2(h2), a3;
          }(n2, i2.accept) : n2, c3 = Object.assign({}, i2, { accept: l3, maxFiles: s3 });
          try {
            p2.picker(c3).open(), f2.popups.hideAll(), f2.selection.save();
          } catch (L) {
            0 === Object.keys(f2.opts.filestackOptions).length && m2(8, e);
          }
        }, isBrowserSupported: w };
      }, St.DefineIcon("filestackIcon", { ALT: "Open Filestack file picker", NAME: "filestack", SVG_KEY: "filestackIcon" }), St.DefineIcon("filestackIconAdd", { ALT: "Open Filestack file picker", NAME: "filestackAdd", SVG_KEY: "filestackIconAdd" }), St.DefineIcon("imageTransformations", { ALT: "Open Filestack image transformations", NAME: "imageTransformations", SVG_KEY: "imageTransformations" }), St.DefineIcon("imageFilestackOnly", { template: "svgMultiplePath", PATHS: '<path d="M11.1 15.8h7.7V5.7H5.1v4.2H3.4V5.7c0-.9.8-1.7 1.7-1.7h13.7c.9 0 1.7.8 1.7 1.7v10.1c0 .9-.8 1.7-1.7 1.7h-7.7v-1.7Zm0-2.5 2.6-3.4h.2l3.3 4.2h-6.1v-.8ZM8.9 6.9c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3-1.3-.6-1.3-1.3.6-1.3 1.3-1.3Z"/><path d="M11.1 17.5 8.7 20v-2.5h2.4Zm-4.9-1.6v.9h-.9v-.9h.9Zm4.9.9h-.9v-6H3.5V19h4.6v.9H2.5V9.8h8.6v7Zm-3.4-1.6H5.3v-.9h2.4v.9Zm.6-2.5v.9h-3v-.9h3Z"/>' }), St.DefineIcon("videoFilestackOnly", { template: "svgMultiplePath", PATHS: '<path d="m11 11.3 1 2.6h3.6V6.8h-9v3.6H4.8V6c0-.2.1-.5.3-.6s.4-.3.6-.3h10.8c.2 0 .5.1.6.3s.3.4.3.6v3.1l2.1-2c.3-.3.6-.3 1-.2.3 0 .6.5.6.8v5.5c0 .4-.2.7-.6.8-.3.1-.7 0-1-.2l-2.1-2v3.1c0 .2 0 .5-.3.6-.2.2-.4.3-.6.3H12V14l-1-2.7Z" /><path d="M11.1 17.5 8.7 20v-2.5h2.4Zm-4.9-1.6v.9h-.9v-.9h.9Zm4.9.9h-.9v-6H3.5V19h4.6v.9H2.5V9.8h8.6v7Zm-3.4-1.6H5.3v-.9h2.4v.9Zm.6-2.5v.9h-3v-.9h3Z"/>' }), St.RegisterCommand("openFilePicker", { type: "button", icon: "filestackIcon", title: "Open Filestack File Picker", callback: function() {
        this.button.getButtons('button[data-cmd="openFilePicker"]').addClass("fr-filestack-active"), this.filestack.showFilestackPopup("openFilePicker");
      }, plugin: "filestack" }), St.RegisterCommand("openFilePickerImageOnly", { type: "button", icon: "imageFilestackOnly", title: "Open Filestack Image Picker", callback: function() {
        this.button.getButtons('button[data-cmd="openFilePickerImageOnly"]').addClass("fr-filestack-active"), this.filestack.showFilestackPopup("openFilePickerImageOnly", this.image && this.image.get());
      }, plugin: "filestack" }), St.RegisterCommand("openFilePickerImage", { type: "button", icon: "filestackIcon", title: "Open Filestack Image Picker", callback: function() {
        this.button.getButtons('button[data-cmd="openFilePickerImage"]').addClass("fr-filestack-active"), this.filestack.showFilestackPopup("openFilePickerImage", this.image && this.image.get());
      }, plugin: "filestack" }), St.RegisterCommand("openFilePickerReplaceImageOnly", { type: "button", icon: "filestackIconAdd", title: "Open Filestack File Picker", callback: function() {
        this.button.getButtons('button[data-cmd="openFilePickerReplaceImageOnly"]').addClass("fr-filestack-active"), this.filestack.showFilestackPopup("openFilePickerReplaceImageOnly", this.image && this.image.get());
      }, plugin: "filestack" }), St.RegisterCommand("openFilePickerVideoOnly", { type: "button", icon: "videoFilestackOnly", title: "Open Filestack Video Picker", callback: function() {
        this.button.getButtons('button[data-cmd="openFilePickerVideoOnly"]').addClass("fr-filestack-active"), this.filestack.showFilestackPopup("openFilePickerVideoOnly", null, this.video && this.video.get());
      }, plugin: "filestack" }), St.RegisterCommand("openFilePickerVideo", { type: "button", icon: "filestackIcon", title: "Open Filestack Video Picker", callback: function() {
        this.button.getButtons('button[data-cmd="openFilePickerVideo"]').addClass("fr-filestack-active"), this.filestack.showFilestackPopup("openFilePickerVideo", null, this.video && this.video.get());
      }, plugin: "filestack" }), St.RegisterCommand("openFilePickerReplaceVideoOnly", { type: "button", icon: "filestackIconAdd", title: "Open Filestack File Picker", callback: function() {
        this.button.getButtons('button[data-cmd="openFilePickerReplaceVideoOnly"]').addClass("fr-filestack-active"), this.filestack.showFilestackPopup("openFilePickerReplaceVideoOnly", null, this.video && this.video.get());
      }, plugin: "filestack" }), St.RegisterCommand("filestackIcon", { type: "button", icon: "imageTransformations", title: "Image Transformations", plugin: "filestack", callback: function() {
        var e = false, t = this.image.get(0)[0];
        (t && t.currentSrc && (e = t.currentSrc.includes(St.FILE_STACK_URL_PART) && !t.currentSrc.includes("blob:")), e) ? (this.button.getButtons('button[data-cmd="filestackIcon"]').addClass("fr-filestack-active"), this.events.trigger("filestack.imageTransformation.click")) : this.events.trigger("filestack.imageTransformation.error");
      } }), St.RegisterCommand("openFilePickerFile", { type: "button", icon: "filestackIcon", title: "Open Filestack Upload File", callback: function() {
        this.button.getButtons('button[data-cmd="openFilePickerFile"]').addClass("fr-filestack-active"), this.filestack.showFilestackPopup("openFilePickerFile");
      }, plugin: "filestack" });
    });
  }
});
export default require_plugins_pkgd_min();
/*! Bundled license information:

froala-editor/js/plugins.pkgd.min.js:
  (*!
   * froala_editor v4.4.0 (https://www.froala.com/wysiwyg-editor)
   * License https://froala.com/wysiwyg-editor/terms/
   * Copyright 2014-2025 Froala Labs
   *)
*/
//# sourceMappingURL=froala-editor_js_plugins__pkgd__min__js.js.map
